{"version":3,"sources":["webpack://chrono/webpack/universalModuleDefinition","webpack://chrono/webpack/bootstrap","webpack://chrono/./src/result.js","webpack://chrono/./src/parsers/parser.js","webpack://chrono/./node_modules/dayjs/dayjs.min.js","webpack://chrono/./src/refiners/refiner.js","webpack://chrono/./src/utils/EN.js","webpack://chrono/./src/parsers/en/ENWeekdayParser.js","webpack://chrono/./src/refiners/en/ENMergeDateTimeRefiner.js","webpack://chrono/./src/utils/ZH-Hant.js","webpack://chrono/./src/utils/DE.js","webpack://chrono/./src/utils/FR.js","webpack://chrono/./src/refiners/en/ENMergeDateRangeRefiner.js","webpack://chrono/./src/chrono.js","webpack://chrono/./src/options.js","webpack://chrono/./src/parsers/en/ENISOFormatParser.js","webpack://chrono/./src/parsers/en/ENDeadlineFormatParser.js","webpack://chrono/./src/parsers/en/ENRelativeDateFormatParser.js","webpack://chrono/./src/parsers/en/ENMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/en/ENMonthNameMiddleEndianParser.js","webpack://chrono/./src/parsers/en/ENMonthNameParser.js","webpack://chrono/./src/parsers/en/ENSlashDateFormatParser.js","webpack://chrono/./src/parsers/en/ENSlashDateFormatStartWithYearParser.js","webpack://chrono/./src/parsers/en/ENSlashMonthFormatParser.js","webpack://chrono/./src/parsers/en/ENTimeAgoFormatParser.js","webpack://chrono/./src/parsers/en/ENTimeExpressionParser.js","webpack://chrono/./src/parsers/en/ENTimeLaterFormatParser.js","webpack://chrono/./src/parsers/en/ENCasualDateParser.js","webpack://chrono/./src/parsers/en/ENCasualTimeParser.js","webpack://chrono/./src/parsers/ja/JPStandardParser.js","webpack://chrono/./src/utils/JP.js","webpack://chrono/./src/parsers/ja/JPCasualDateParser.js","webpack://chrono/./src/parsers/pt/PTCasualDateParser.js","webpack://chrono/./src/parsers/pt/PTDeadlineFormatParser.js","webpack://chrono/./src/parsers/pt/PTMonthNameLittleEndianParser.js","webpack://chrono/./src/utils/PT.js","webpack://chrono/./src/parsers/pt/PTSlashDateFormatParser.js","webpack://chrono/./src/parsers/pt/PTTimeAgoFormatParser.js","webpack://chrono/./src/parsers/pt/PTTimeExpressionParser.js","webpack://chrono/./src/parsers/pt/PTWeekdayParser.js","webpack://chrono/./src/parsers/es/ESCasualDateParser.js","webpack://chrono/./src/parsers/es/ESDeadlineFormatParser.js","webpack://chrono/./src/parsers/es/ESTimeAgoFormatParser.js","webpack://chrono/./src/parsers/es/ESTimeExpressionParser.js","webpack://chrono/./src/parsers/es/ESWeekdayParser.js","webpack://chrono/./src/parsers/es/ESMonthNameLittleEndianParser.js","webpack://chrono/./src/utils/ES.js","webpack://chrono/./src/parsers/es/ESSlashDateFormatParser.js","webpack://chrono/./src/parsers/fr/FRCasualDateParser.js","webpack://chrono/./src/parsers/fr/FRDeadlineFormatParser.js","webpack://chrono/./src/parsers/fr/FRMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/fr/FRSlashDateFormatParser.js","webpack://chrono/./src/parsers/fr/FRTimeAgoFormatParser.js","webpack://chrono/./src/parsers/fr/FRTimeExpressionParser.js","webpack://chrono/./src/parsers/fr/FRWeekdayParser.js","webpack://chrono/./src/parsers/fr/FRRelativeDateFormatParser.js","webpack://chrono/./node_modules/dayjs/plugin/quarterOfYear.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantDateParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantWeekdayParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantTimeExpressionParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantCasualDateParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantDeadlineFormatParser.js","webpack://chrono/./src/parsers/de/DEDeadlineFormatParser.js","webpack://chrono/./src/parsers/de/DEMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/de/DEMonthNameParser.js","webpack://chrono/./src/parsers/de/DESlashDateFormatParser.js","webpack://chrono/./src/parsers/de/DETimeAgoFormatParser.js","webpack://chrono/./src/parsers/de/DETimeExpressionParser.js","webpack://chrono/./src/parsers/de/DEWeekdayParser.js","webpack://chrono/./src/parsers/de/DECasualDateParser.js","webpack://chrono/./src/refiners/OverlapRemovalRefiner.js","webpack://chrono/./src/refiners/ExtractTimezoneOffsetRefiner.js","webpack://chrono/./src/refiners/ExtractTimezoneAbbrRefiner.js","webpack://chrono/./src/refiners/ForwardDateRefiner.js","webpack://chrono/./src/refiners/UnlikelyFormatFilter.js","webpack://chrono/./src/refiners/en/ENPrioritizeSpecificDateRefiner.js","webpack://chrono/./src/refiners/ja/JPMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/fr/FRMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/fr/FRMergeDateTimeRefiner.js","webpack://chrono/./src/refiners/de/DEMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/de/DEMergeDateTimeRefiner.js"],"names":["dayjs","require","ParsedResult","result","ref","index","text","tags","start","ParsedComponents","end","prototype","clone","JSON","parse","stringify","date","hasPossibleDates","isPossibleDate","isOnlyWeekday","isOnlyWeekdayComponent","isOnlyDayMonth","isOnlyDayMonthComponent","components","knownValues","impliedValues","key","imply","month","year","component","get","value","assign","isCertain","dateMoment","adjustTimezoneOffset","utcOffset","add","toDate","hour","minute","second","millisecond","currentTimezoneOffset","targetTimezoneOffset","undefined","moment","exports","Parser","config","strictMode","strict","isStrictMode","pattern","extract","match","opt","execute","results","regex","remainingText","exec","length","substring","push","refiners","forEach","refiner","refine","options","findYearClosestToRef","day","refMoment","nextYear","lastYear","Math","abs","diff","ENISOFormatParser","ENDeadlineFormatParser","ENRelativeDateFormatParser","ENMonthNameLittleEndianParser","ENMonthNameMiddleEndianParser","ENMonthNameParser","ENSlashDateFormatParser","ENSlashDateFormatStartWithYearParser","ENSlashMonthFormatParser","ENTimeAgoFormatParser","ENTimeExpressionParser","ENTimeLaterFormatParser","ENWeekdayParser","ENCasualDateParser","ENCasualTimeParser","JPStandardParser","JPCasualDateParser","PTCasualDateParser","PTDeadlineFormatParser","PTMonthNameLittleEndianParser","PTSlashDateFormatParser","PTTimeAgoFormatParser","PTTimeExpressionParser","PTWeekdayParser","ESCasualDateParser","ESDeadlineFormatParser","ESTimeAgoFormatParser","ESTimeExpressionParser","ESWeekdayParser","ESMonthNameLittleEndianParser","ESSlashDateFormatParser","FRCasualDateParser","FRDeadlineFormatParser","FRMonthNameLittleEndianParser","FRSlashDateFormatParser","FRTimeAgoFormatParser","FRTimeExpressionParser","FRWeekdayParser","FRRelativeDateFormatParser","ZHHantDateParser","ZHHantWeekdayParser","ZHHantTimeExpressionParser","ZHHantCasualDateParser","ZHHantDeadlineFormatParser","DEDeadlineFormatParser","DEMonthNameLittleEndianParser","DEMonthNameParser","DESlashDateFormatParser","DETimeAgoFormatParser","DETimeExpressionParser","DEWeekdayParser","DECasualDateParser","Refiner","Filter","call","isValid","filteredResult","i","OverlapRemovalRefiner","ExtractTimezoneOffsetRefiner","ExtractTimezoneAbbrRefiner","ForwardDateRefiner","UnlikelyFormatFilter","ENMergeDateTimeRefiner","ENMergeDateRangeRefiner","ENPrioritizeSpecificDateRefiner","JPMergeDateRangeRefiner","FRMergeDateRangeRefiner","FRMergeDateTimeRefiner","DEMergeDateRangeRefiner","DEMergeDateTimeRefiner","WEEKDAY_OFFSET","MONTH_OFFSET","MONTH_PATTERN","Object","keys","join","replace","INTEGER_WORDS","INTEGER_WORDS_PATTERN","ORDINAL_WORDS","ORDINAL_WORDS_PATTERN","TIME_UNIT","TIME_UNIT_STRICT","PATTERN_TIME_UNIT","RegExp","TIME_UNIT_PATTERN","TIME_UNIT_STRICT_PATTERN","extractDateTimeUnitFragments","timeunitText","fragments","collectDateTimeFragment","num","toLowerCase","parseFloat","DAYS_OFFSET","PATTERN","PREFIX_GROUP","WEEKDAY_GROUP","POSTFIX_GROUP","updateParsedComponent","offset","modifier","startMoment","startMomentFixed","refOffset","apply","arguments","substr","dayOfWeek","prefix","postfix","norm","isDateOnly","isTimeOnly","isAbleToMerge","prevResult","curResult","textBetween","mergeDateTimeComponent","dateComponent","timeComponent","dateTimeComponent","mergeResult","dateResult","timeResult","beginDate","beginTime","beginDateTime","endDate","endTime","endDateTime","getTime","startIndex","min","endIndex","max","tag","mergedResult","currResult","NUMBER","zhStringToNumber","number","char","zhStringToYear","string","parseInt","result1","result2","begin","fromResult","toResult","timeKeys","fromMoment","toMoment","isBefore","isAfter","tmp","constructor","name","parser","Chrono","option","casualOption","parsers","refDate","Date","forwardDate","allResults","concat","sort","a","b","parseDate","strictOption","casual","en","mergeOptions","commonPostProcessing","en_GB","de","pt","es","fr","ja","addedTypes","mergedOption","p","r","strictConfig","zh","unshift","littleEndian","YEAR_NUMBER_GROUP","MONTH_NUMBER_GROUP","DATE_NUMBER_GROUP","HOUR_NUMBER_GROUP","MINUTE_NUMBER_GROUP","SECOND_NUMBER_GROUP","MILLISECOND_NUMBER_GROUP","TZD_HOUR_OFFSET_GROUP","TZD_MINUTE_OFFSET_GROUP","minuteOffset","hourOffset","util","STRICT_PATTERN","MODIFIER_WORD_GROUP","MULTIPLIER_WORD_GROUP","RELATIVE_WORD_GROUP","DATE_GROUP","DATE_NUM_GROUP","DATE_TO_GROUP","DATE_TO_NUM_GROUP","MONTH_NAME_GROUP","YEAR_GROUP","trim","test","weekday","YEAR_BE_GROUP","YEAR_GROUP2","YEAR_BE_GROUP2","yearBE","OPENNING_GROUP","ENDING_GROUP","FIRST_NUMBERS_GROUP","SECOND_NUMBERS_GROUP","MONTH_GROUP","DAY_GROUP","indexOf","tday","argument","FIRST_REG_PATTERN","SECOND_REG_PATTERN","HOUR_GROUP","MINUTE_GROUP","SECOND_GROUP","MILLI_SECOND_GROUP","AM_PM_HOUR_GROUP","meridiem","ampm","startAtPM","suffix","preamble","lowerText","TIME_MATCH","SPECIAL_YEAR_GROUP","TYPICAL_YEAR_GROUP","ERA_GROUP","toHankaku","String","fromCharCode","alphaNum","token","charCodeAt","toZenkaku","secondMatch","firstMatch","isNaN","quarterOfYear","extend","MULTIPLIER_GROUP","MODIFIER_1_GROUP","MODIFIER_2_GROUP","multiplier","modifierFactor","total","dateFrom","dateTo","relative","startOf","dateTmp","endOf","patternString1","patternString2","DAY_GROUP_1","ZH_AM_PM_HOUR_GROUP_1","ZH_AM_PM_HOUR_GROUP_2","DAY_GROUP_3","ZH_AM_PM_HOUR_GROUP_3","ZHTimeExpressionParser","day1","day3","zhAMPMString1","zhAMPM1","zhAMPMString2","zhAMPM2","zhAMPMString3","zhAMPM3","endMoment","NOW_GROUP","TIME_GROUP_1","TIME_GROUP_2","TIME_GROUP_3","time1","timeString2","time2","timeString3","time3","NUMBER_GROUP","UNIT_GROUP","unit","unitAbbr","filteredResults","TIMEZONE_OFFSET_PATTERN","TIMEZONE_OFFSET_SIGN_GROUP","TIMEZONE_OFFSET_HOUR_OFFSET_GROUP","TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP","timezoneOffset","TIMEZONE_NAME_PATTERN","DEFAULT_TIMEZONE_ABBR_MAP","timezones","timezoneAbbr","toUpperCase","isMoreSpecific","moreSpecific","includesRelativeResult","referToSameDate","specificResult","nonSpecificResult","specificDate","nonSpecificDate","isWeekdayResult"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,IAAMA,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA6B;AACzBA,QAAM,GAAGA,MAAM,IAAI,EAAnB;AAEA,OAAKC,GAAL,GAAaD,MAAM,CAACC,GAApB;AACA,OAAKC,KAAL,GAAaF,MAAM,CAACE,KAApB;AACA,OAAKC,IAAL,GAAaH,MAAM,CAACG,IAApB;AACA,OAAKC,IAAL,GAAaJ,MAAM,CAACI,IAAP,IAAe,EAA5B;AAEA,OAAKC,KAAL,GAAa,IAAIC,gBAAJ,CAAqBN,MAAM,CAACK,KAA5B,EAAmCL,MAAM,CAACC,GAA1C,CAAb;;AACA,MAAGD,MAAM,CAACO,GAAV,EAAc;AACV,SAAKA,GAAL,GAAW,IAAID,gBAAJ,CAAqBN,MAAM,CAACO,GAA5B,EAAiCP,MAAM,CAACC,GAAxC,CAAX;AACH;AACJ;;AAEDF,YAAY,CAACS,SAAb,CAAuBC,KAAvB,GAA+B,YAAW;AACtC,MAAIT,MAAM,GAAG,IAAID,YAAJ,CAAiB,IAAjB,CAAb;AACAC,QAAM,CAACI,IAAP,GAAcM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKR,IAApB,CAAX,CAAd;AACAJ,QAAM,CAACK,KAAP,GAAe,KAAKA,KAAL,CAAWI,KAAX,EAAf;;AACA,MAAI,KAAKF,GAAT,EAAc;AACVP,UAAM,CAACO,GAAP,GAAa,KAAKA,GAAL,CAASE,KAAT,EAAb;AACH;;AAED,SAAOT,MAAP;AACH,CATD;;AAWAD,YAAY,CAACS,SAAb,CAAuBK,IAAvB,GAA8B,YAAW;AACrC,SAAO,KAAKR,KAAL,CAAWQ,IAAX,EAAP;AACH,CAFD;;AAIAd,YAAY,CAACS,SAAb,CAAuBM,gBAAvB,GAA0C,YAAW;AACjD,SAAO,KAAKT,KAAL,CAAWU,cAAX,OAAgC,CAAC,KAAKR,GAAN,IAAa,KAAKA,GAAL,CAASQ,cAAT,EAA7C,CAAP;AACH,CAFD;;AAIAhB,YAAY,CAACS,SAAb,CAAuBQ,aAAvB,GAAuC,YAAW;AAC9C,SAAO,KAAKX,KAAL,CAAWY,sBAAX,EAAP;AACH,CAFD;;AAIAlB,YAAY,CAACS,SAAb,CAAuBU,cAAvB,GAAwC,YAAW;AAC/C,SAAO,KAAKb,KAAL,CAAWc,uBAAX,EAAP;AACH,CAFD;;AAIA,SAASb,gBAAT,CAA2Bc,UAA3B,EAAuCnB,GAAvC,EAA2C;AAEvC,OAAKoB,WAAL,GAAmB,EAAnB;AACA,OAAKC,aAAL,GAAqB,EAArB;;AAEA,MAAIF,UAAJ,EAAgB;AACZ,SAAKG,GAAL,IAAYH,UAAZ,EAAwB;AACpB,WAAKC,WAAL,CAAiBE,GAAjB,IAAwBH,UAAU,CAACG,GAAD,CAAlC;AACH;AACJ;;AAED,MAAItB,GAAJ,EAAS;AACLA,OAAG,GAAGJ,KAAK,CAACI,GAAD,CAAX;AACA,SAAKuB,KAAL,CAAW,KAAX,EAAkBvB,GAAG,CAACY,IAAJ,EAAlB;AACA,SAAKW,KAAL,CAAW,OAAX,EAAoBvB,GAAG,CAACwB,KAAJ,KAAc,CAAlC;AACA,SAAKD,KAAL,CAAW,MAAX,EAAmBvB,GAAG,CAACyB,IAAJ,EAAnB;AACH;;AAGD,OAAKF,KAAL,CAAW,MAAX,EAAmB,EAAnB;AACA,OAAKA,KAAL,CAAW,QAAX,EAAqB,CAArB;AACA,OAAKA,KAAL,CAAW,QAAX,EAAqB,CAArB;AACA,OAAKA,KAAL,CAAW,aAAX,EAA0B,CAA1B;AACH;;AAEDlB,gBAAgB,CAACE,SAAjB,CAA2BC,KAA3B,GAAmC,YAAY;AAC3C,MAAIkB,SAAS,GAAG,IAAIrB,gBAAJ,EAAhB;AACAqB,WAAS,CAACN,WAAV,GAAwBX,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKS,WAApB,CAAX,CAAxB;AACAM,WAAS,CAACL,aAAV,GAA0BZ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKU,aAApB,CAAX,CAA1B;AACA,SAAOK,SAAP;AACH,CALD;;AAOArB,gBAAgB,CAACE,SAAjB,CAA2BoB,GAA3B,GAAiC,UAASD,SAAT,EAAoBE,KAApB,EAA2B;AACxD,MAAIF,SAAS,IAAI,KAAKN,WAAtB,EAAmC,OAAO,KAAKA,WAAL,CAAiBM,SAAjB,CAAP;AACnC,MAAIA,SAAS,IAAI,KAAKL,aAAtB,EAAqC,OAAO,KAAKA,aAAL,CAAmBK,SAAnB,CAAP;AACxC,CAHD;;AAKArB,gBAAgB,CAACE,SAAjB,CAA2BsB,MAA3B,GAAoC,UAASH,SAAT,EAAoBE,KAApB,EAA2B;AAC3D,OAAKR,WAAL,CAAiBM,SAAjB,IAA8BE,KAA9B;AACA,SAAO,KAAKP,aAAL,CAAmBK,SAAnB,CAAP;AACH,CAHD;;AAKArB,gBAAgB,CAACE,SAAjB,CAA2BgB,KAA3B,GAAmC,UAASG,SAAT,EAAoBE,KAApB,EAA2B;AAC1D,MAAIF,SAAS,IAAI,KAAKN,WAAtB,EAAmC;AACnC,OAAKC,aAAL,CAAmBK,SAAnB,IAAgCE,KAAhC;AACH,CAHD;;AAKAvB,gBAAgB,CAACE,SAAjB,CAA2BuB,SAA3B,GAAuC,UAASJ,SAAT,EAAoB;AACvD,SAAOA,SAAS,IAAI,KAAKN,WAAzB;AACH,CAFD;;AAIAf,gBAAgB,CAACE,SAAjB,CAA2BS,sBAA3B,GAAoD,YAAW;AAC3D,SAAO,KAAKc,SAAL,CAAe,SAAf,KAA6B,CAAC,KAAKA,SAAL,CAAe,KAAf,CAA9B,IAAuD,CAAC,KAAKA,SAAL,CAAe,OAAf,CAA/D;AACH,CAFD;;AAIAzB,gBAAgB,CAACE,SAAjB,CAA2BW,uBAA3B,GAAqD,YAAW;AAC5D,SAAO,KAAKY,SAAL,CAAe,KAAf,KAAyB,KAAKA,SAAL,CAAe,OAAf,CAAzB,IAAoD,CAAC,KAAKA,SAAL,CAAe,MAAf,CAA5D;AACH,CAFD;;AAIAzB,gBAAgB,CAACE,SAAjB,CAA2BO,cAA3B,GAA4C,YAAW;AACnD,MAAIiB,UAAU,GAAG,KAAKnC,KAAL,EAAjB;;AACA,MAAI,KAAKkC,SAAL,CAAe,gBAAf,CAAJ,EAAsC;AAClC,QAAME,oBAAoB,GAAG,KAAKL,GAAL,CAAS,gBAAT,IAA6BI,UAAU,CAACE,SAAX,EAA1D;AACAF,cAAU,GAAGA,UAAU,CAACG,GAAX,CAAeF,oBAAf,EAAqC,SAArC,CAAb;AACH;;AAED,MAAID,UAAU,CAACJ,GAAX,CAAe,MAAf,KAA0B,KAAKA,GAAL,CAAS,MAAT,CAA9B,EAAgD,OAAO,KAAP;AAChD,MAAII,UAAU,CAACJ,GAAX,CAAe,OAAf,KAA2B,KAAKA,GAAL,CAAS,OAAT,IAAkB,CAAjD,EAAoD,OAAO,KAAP;AACpD,MAAII,UAAU,CAACJ,GAAX,CAAe,MAAf,KAA0B,KAAKA,GAAL,CAAS,KAAT,CAA9B,EAA+C,OAAO,KAAP;AAC/C,MAAII,UAAU,CAACJ,GAAX,CAAe,MAAf,KAA0B,KAAKA,GAAL,CAAS,MAAT,CAA9B,EAAgD,OAAO,KAAP;AAChD,MAAII,UAAU,CAACJ,GAAX,CAAe,QAAf,KAA4B,KAAKA,GAAL,CAAS,QAAT,CAAhC,EAAoD,OAAO,KAAP;AAEpD,SAAO,IAAP;AACH,CAdD;;AAgBAtB,gBAAgB,CAACE,SAAjB,CAA2BK,IAA3B,GAAkC,YAAW;AACzC,MAAIb,MAAM,GAAG,KAAKH,KAAL,EAAb;AACA,SAAOG,MAAM,CAACoC,MAAP,EAAP;AACH,CAHD;;AAMA9B,gBAAgB,CAACE,SAAjB,CAA2BX,KAA3B,GAAmC,YAAW;AAC1C,MAAIG,MAAM,GAAGH,KAAK,EAAlB;AAEAG,QAAM,GAAGA,MAAM,CAAC0B,IAAP,CAAY,KAAKE,GAAL,CAAS,MAAT,CAAZ,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACyB,KAAP,CAAa,KAAKG,GAAL,CAAS,OAAT,IAAoB,CAAjC,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACa,IAAP,CAAY,KAAKe,GAAL,CAAS,KAAT,CAAZ,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACqC,IAAP,CAAY,KAAKT,GAAL,CAAS,MAAT,CAAZ,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACsC,MAAP,CAAc,KAAKV,GAAL,CAAS,QAAT,CAAd,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACuC,MAAP,CAAc,KAAKX,GAAL,CAAS,QAAT,CAAd,CAAT;AACA5B,QAAM,GAAGA,MAAM,CAACwC,WAAP,CAAmB,KAAKZ,GAAL,CAAS,aAAT,CAAnB,CAAT,CAT0C,CAW1C;;AACA,MAAIa,qBAAqB,GAAGzC,MAAM,CAACkC,SAAP,EAA5B;AACA,MAAIQ,oBAAoB,GAAG,KAAKd,GAAL,CAAS,gBAAT,MAA+Be,SAA/B,GACvB,KAAKf,GAAL,CAAS,gBAAT,CADuB,GACMa,qBADjC;AAGA,MAAIR,oBAAoB,GAAGS,oBAAoB,GAAGD,qBAAlD;AACAzC,QAAM,GAAGA,MAAM,CAACmC,GAAP,CAAW,CAACF,oBAAZ,EAAkC,QAAlC,CAAT;AAEA,SAAOjC,MAAP;AACH,CApBD;;AAsBAM,gBAAgB,CAACE,SAAjB,CAA2BoC,MAA3B,GAAoC,YAAW;AAC3C;AACA,SAAO,KAAK/C,KAAL,EAAP;AACH,CAHD;;AAOAgD,OAAO,CAACvC,gBAAR,GAA2BA,gBAA3B;AACAuC,OAAO,CAAC9C,YAAR,GAAuBA,YAAvB,C;;;;;;AC1JA,IAAMF,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AAEA+C,OAAO,CAACC,MAAR,GAAiB,UAAUC,MAAV,EAAkB;AAE/BA,QAAM,GAAGA,MAAM,IAAI,EAAnB;AACA,MAAIC,UAAU,GAAGD,MAAM,CAACE,MAAxB;;AAEA,OAAKC,YAAL,GAAoB,YAAW;AAAE,WAAQF,UAAU,IAAI,IAAtB;AAA6B,GAA9D;;AAEA,OAAKG,OAAL,GAAe,YAAW;AAAE,WAAO,IAAP;AAAc,GAA1C;;AAEA,OAAKC,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAAE,WAAO,IAAP;AAAc,GAA9D;;AAEA,OAAKC,OAAL,GAAe,UAASpD,IAAT,EAAeF,GAAf,EAAoBqD,GAApB,EAAyB;AAEpC,QAAIE,OAAO,GAAG,EAAd;AACA,QAAIC,KAAK,GAAG,KAAKN,OAAL,EAAZ;AAEA,QAAIO,aAAa,GAAGvD,IAApB;AACA,QAAIkD,KAAK,GAAGI,KAAK,CAACE,IAAN,CAAWD,aAAX,CAAZ;;AAEA,WAAOL,KAAP,EAAc;AAEV;AACAA,WAAK,CAACnD,KAAN,IAAeC,IAAI,CAACyD,MAAL,GAAcF,aAAa,CAACE,MAA3C;AAEA,UAAI5D,MAAM,GAAG,KAAKoD,OAAL,CAAajD,IAAb,EAAmBF,GAAnB,EAAwBoD,KAAxB,EAA+BC,GAA/B,CAAb;;AACA,UAAItD,MAAJ,EAAY;AAER;AACA0D,qBAAa,GAAGvD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAhB;;AAEA,YAAI,CAAC,KAAKV,YAAL,EAAD,IAAwBlD,MAAM,CAACc,gBAAP,EAA5B,EAAuD;AACnD0C,iBAAO,CAACM,IAAR,CAAa9D,MAAb;AACH;AAEJ,OATD,MASO;AACH;AACA0D,qBAAa,GAAGvD,IAAI,CAAC0D,SAAL,CAAeR,KAAK,CAACnD,KAAN,GAAc,CAA7B,CAAhB;AACH;;AAEDmD,WAAK,GAAGI,KAAK,CAACE,IAAN,CAAWD,aAAX,CAAR;AACH;;AAED,QAAI,KAAKK,QAAT,EAAmB;AACf,WAAKA,QAAL,CAAcC,OAAd,CAAsB,YAAY;AAC9BR,eAAO,GAAGS,OAAO,CAACC,MAAR,CAAeV,OAAf,EAAwBrD,IAAxB,EAA8BgE,OAA9B,CAAV;AACH,OAFD;AAGH;;AAED,WAAOX,OAAP;AACH,GAtCD;AAuCH,CAlDD;;AAoDAX,OAAO,CAACuB,oBAAR,GAA+B,UAAUnE,GAAV,EAAeoE,GAAf,EAAoB5C,KAApB,EAA2B;AACtD;AACA,MAAM6C,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAAvB;AACA,MAAI+B,UAAU,GAAGsC,SAAjB;AACAtC,YAAU,GAAGA,UAAU,CAACP,KAAX,CAAiBA,KAAK,GAAG,CAAzB,CAAb;AACAO,YAAU,GAAGA,UAAU,CAACnB,IAAX,CAAgBwD,GAAhB,CAAb;AACArC,YAAU,GAAGA,UAAU,CAACN,IAAX,CAAgB4C,SAAS,CAAC5C,IAAV,EAAhB,CAAb;AAEA,MAAM6C,QAAQ,GAAGvC,UAAU,CAACG,GAAX,CAAe,CAAf,EAAkB,GAAlB,CAAjB;AACA,MAAMqC,QAAQ,GAAGxC,UAAU,CAACG,GAAX,CAAe,CAAC,CAAhB,EAAmB,GAAnB,CAAjB;;AACA,MAAIsC,IAAI,CAACC,GAAL,CAASH,QAAQ,CAACI,IAAT,CAAcL,SAAd,CAAT,IAAqCG,IAAI,CAACC,GAAL,CAAS1C,UAAU,CAAC2C,IAAX,CAAgBL,SAAhB,CAAT,CAAzC,EAA+E;AAC3EtC,cAAU,GAAGuC,QAAb;AACH,GAFD,MAGK,IAAIE,IAAI,CAACC,GAAL,CAASF,QAAQ,CAACG,IAAT,CAAcL,SAAd,CAAT,IAAqCG,IAAI,CAACC,GAAL,CAAS1C,UAAU,CAAC2C,IAAX,CAAgBL,SAAhB,CAAT,CAAzC,EAA+E;AAChFtC,cAAU,GAAGwC,QAAb;AACH;;AAED,SAAOxC,UAAU,CAACN,IAAX,EAAP;AACH,CAlBD;;AAoBAmB,OAAO,CAAC+B,iBAAR,GAA4B9E,mBAAO,CAAC,EAAD,CAAP,CAAkCgD,MAA9D;AACAD,OAAO,CAACgC,sBAAR,GAAiC/E,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACiC,0BAAR,GAAqChF,mBAAO,CAAC,EAAD,CAAP,CAA2CgD,MAAhF;AACAD,OAAO,CAACkC,6BAAR,GAAwCjF,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAACmC,6BAAR,GAAwClF,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAACoC,iBAAR,GAA4BnF,mBAAO,CAAC,EAAD,CAAP,CAAkCgD,MAA9D;AACAD,OAAO,CAACqC,uBAAR,GAAkCpF,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AACAD,OAAO,CAACsC,oCAAR,GAA+CrF,mBAAO,CAAC,EAAD,CAAP,CAAqDgD,MAApG;AACAD,OAAO,CAACuC,wBAAR,GAAmCtF,mBAAO,CAAC,EAAD,CAAP,CAAyCgD,MAA5E;AACAD,OAAO,CAACwC,qBAAR,GAAgCvF,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAtE;AACAD,OAAO,CAACyC,sBAAR,GAAiCxF,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAAC0C,uBAAR,GAAkCzF,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AACAD,OAAO,CAAC2C,eAAR,GAA0B1F,mBAAO,CAAC,CAAD,CAAP,CAAgCgD,MAA1D;AACAD,OAAO,CAAC4C,kBAAR,GAA6B3F,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AACAD,OAAO,CAAC6C,kBAAR,GAA6B5F,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AAEAD,OAAO,CAAC8C,gBAAR,GAA2B7F,mBAAO,CAAC,EAAD,CAAP,CAAiCgD,MAA5D;AACAD,OAAO,CAAC+C,kBAAR,GAA6B9F,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AAEAD,OAAO,CAACgD,kBAAR,GAA6B/F,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AACAD,OAAO,CAACiD,sBAAR,GAAiChG,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACkD,6BAAR,GAAwCjG,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAACmD,uBAAR,GAAkClG,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AACAD,OAAO,CAACoD,qBAAR,GAAgCnG,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAtE;AACAD,OAAO,CAACqD,sBAAR,GAAiCpG,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACsD,eAAR,GAA0BrG,mBAAO,CAAC,EAAD,CAAP,CAAgCgD,MAA1D;AAEAD,OAAO,CAACuD,kBAAR,GAA6BtG,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AACAD,OAAO,CAACwD,sBAAR,GAAiCvG,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACyD,qBAAR,GAAgCxG,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAtE;AACAD,OAAO,CAAC0D,sBAAR,GAAiCzG,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAAC2D,eAAR,GAA0B1G,mBAAO,CAAC,EAAD,CAAP,CAAgCgD,MAA1D;AACAD,OAAO,CAAC4D,6BAAR,GAAwC3G,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAAC6D,uBAAR,GAAkC5G,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AAEAD,OAAO,CAAC8D,kBAAR,GAA6B7G,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE;AACAD,OAAO,CAAC+D,sBAAR,GAAiC9G,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACgE,6BAAR,GAAwC/G,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAACiE,uBAAR,GAAkChH,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AACAD,OAAO,CAACkE,qBAAR,GAAgCjH,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAtE;AACAD,OAAO,CAACmE,sBAAR,GAAiClH,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACoE,eAAR,GAA0BnH,mBAAO,CAAC,EAAD,CAAP,CAAgCgD,MAA1D;AACAD,OAAO,CAACqE,0BAAR,GAAqCpH,mBAAO,CAAC,EAAD,CAAP,CAA2CgD,MAAhF;AAEAD,OAAO,CAACsE,gBAAR,GAA2BrH,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAjE;AACAD,OAAO,CAACuE,mBAAR,GAA8BtH,mBAAO,CAAC,EAAD,CAAP,CAAyCgD,MAAvE;AACAD,OAAO,CAACwE,0BAAR,GAAqCvH,mBAAO,CAAC,EAAD,CAAP,CAAgDgD,MAArF;AACAD,OAAO,CAACyE,sBAAR,GAAiCxH,mBAAO,CAAC,EAAD,CAAP,CAA4CgD,MAA7E;AACAD,OAAO,CAAC0E,0BAAR,GAAqCzH,mBAAO,CAAC,EAAD,CAAP,CAAgDgD,MAArF;AAEAD,OAAO,CAAC2E,sBAAR,GAAiC1H,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAAC4E,6BAAR,GAAwC3H,mBAAO,CAAC,EAAD,CAAP,CAA8CgD,MAAtF;AACAD,OAAO,CAAC6E,iBAAR,GAA4B5H,mBAAO,CAAC,EAAD,CAAP,CAAkCgD,MAA9D;AACAD,OAAO,CAAC8E,uBAAR,GAAkC7H,mBAAO,CAAC,EAAD,CAAP,CAAwCgD,MAA1E;AACAD,OAAO,CAAC+E,qBAAR,GAAgC9H,mBAAO,CAAC,EAAD,CAAP,CAAsCgD,MAAtE;AACAD,OAAO,CAACgF,sBAAR,GAAiC/H,mBAAO,CAAC,EAAD,CAAP,CAAuCgD,MAAxE;AACAD,OAAO,CAACiF,eAAR,GAA0BhI,mBAAO,CAAC,EAAD,CAAP,CAAgCgD,MAA1D;AACAD,OAAO,CAACkF,kBAAR,GAA6BjI,mBAAO,CAAC,EAAD,CAAP,CAAmCgD,MAAhE,C;;;;;;ACnIA,eAAe,KAAoD,oBAAoB,SAA2D,CAAC,iBAAiB,aAAa,2GAA2G,EAAE,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,sBAAsB,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,OAAO,IAAI,GAAG,IAAI,GAAG,IAAI,yBAAyB,gBAAgB,yDAAyD,IAAI,kBAAkB,6DAA6D,+CAA+C,iBAAiB,8GAA8G,yCAAyC,eAAe,yCAAyC,eAAe,OAAO,qCAAqC,kDAAkD,eAAe,mBAAmB,IAAI,mMAAmM,aAAa,OAAO,kBAAkB,sBAAsB,mBAAmB,MAAM,eAAe,kDAAkD,KAAK,aAAa,WAAW,kBAAkB,mBAAmB,yBAAyB,4BAA4B,cAAc,MAAM,yBAAyB,KAAK,8BAA8B,YAAY,uCAAuC,GAAG,iBAAiB,cAAc,mDAAmD,kBAAkB,2BAA2B,oBAAoB,qBAAqB,iCAAiC,0BAA0B,wCAAwC,uCAAuC,iBAAiB,oJAAoJ,mBAAmB,gBAAgB,mBAAmB,cAAc,oLAAoL,qBAAqB,SAAS,sBAAsB,6CAA6C,wBAAwB,WAAW,4CAA4C,yBAAyB,4BAA4B,0BAA0B,0BAA0B,sBAAsB,oCAAoC,oBAAoB,yBAAyB,qBAAqB,yBAAyB,mBAAmB,yBAAyB,oBAAoB,8BAA8B,oBAAoB,yBAAyB,sBAAsB,yBAAyB,sBAAsB,yBAAyB,2BAA2B,0BAA0B,mBAAmB,sCAAsC,sBAAsB,yBAAyB,yBAAyB,kDAAkD,wDAAwD,sBAAsB,iBAAiB,oFAAoF,0DAA0D,UAAU,gCAAgC,gCAAgC,yDAAyD,0BAA0B,wCAAwC,+BAA+B,+BAA+B,oCAAoC,6BAA6B,qBAAqB,0BAA0B,sBAAsB,iDAAiD,2KAA2K,iBAAiB,iCAAiC,qFAAqF,sBAAsB,wBAAwB,qBAAqB,8BAA8B,mBAAmB,sBAAsB,qBAAqB,aAAa,YAAY,2BAA2B,WAAW,gDAAgD,sCAAsC,sCAAsC,qBAAqB,qBAAqB,WAAW,8DAA8D,mBAAmB,0BAA0B,wBAAwB,sBAAsB,WAAW,wCAAwC,uIAAuI,2CAA2C,eAAe,2BAA2B,+BAA+B,qBAAqB,2BAA2B,IAAI,2ZAA2Z,iCAAiC,kCAAkC,EAAE,wBAAwB,sDAAsD,wBAAwB,oFAAoF,cAAc,oHAAoH,0BAA0B,wBAAwB,sBAAsB,kBAAkB,wBAAwB,qBAAqB,+BAA+B,qBAAqB,oBAAoB,yBAAyB,qBAAqB,gCAAgC,qBAAqB,8CAA8C,0BAA0B,6BAA6B,uBAAuB,6BAA6B,GAAG,GAAG,sDAAsD,kBAAkB,2CAA2C,gBAAgB,oBAAoB;;;;;;;ACCh6MD,OAAO,CAACmF,OAAR,GAAkB,SAASA,OAAT,GAAmB;AAEjC,OAAK9D,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAAE,WAAOE,OAAP;AAAiB,GAA9D;AACH,CAHD;;AAKAX,OAAO,CAACoF,MAAR,GAAiB,SAASA,MAAT,GAAkB;AAE/BpF,SAAO,CAACmF,OAAR,CAAgBE,IAAhB,CAAqB,IAArB;;AAEA,OAAKC,OAAL,GAAe,UAAShI,IAAT,EAAeH,MAAf,EAAuBsD,GAAvB,EAA4B;AAAE,WAAO,IAAP;AAAc,GAA3D;;AACA,OAAKY,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAI8E,cAAc,GAAG,EAArB;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAG7E,OAAO,CAACI,MAA1B,EAAkCyE,CAAC,EAAnC,EAAuC;AAEnC,UAAIrI,MAAM,GAAGwD,OAAO,CAAC6E,CAAD,CAApB;;AACA,UAAI,KAAKF,OAAL,CAAahI,IAAb,EAAmBH,MAAnB,EAA2BsD,GAA3B,CAAJ,EAAqC;AACjC8E,sBAAc,CAACtE,IAAf,CAAoB9D,MAApB;AACH;AACJ;;AAED,WAAOoI,cAAP;AACH,GAZD;AAaH,CAlBD,C,CAqBA;;;AACAvF,OAAO,CAACyF,qBAAR,GAAgCxI,mBAAO,CAAC,EAAD,CAAP,CAAmCkI,OAAnE;AACAnF,OAAO,CAAC0F,4BAAR,GAAuCzI,mBAAO,CAAC,EAAD,CAAP,CAA0CkI,OAAjF;AACAnF,OAAO,CAAC2F,0BAAR,GAAqC1I,mBAAO,CAAC,EAAD,CAAP,CAAwCkI,OAA7E;AACAnF,OAAO,CAAC4F,kBAAR,GAA6B3I,mBAAO,CAAC,EAAD,CAAP,CAAgCkI,OAA7D;AACAnF,OAAO,CAAC6F,oBAAR,GAA+B5I,mBAAO,CAAC,EAAD,CAAP,CAAkCkI,OAAjE,C,CAEA;;AACAnF,OAAO,CAAC8F,sBAAR,GAAiC7I,mBAAO,CAAC,CAAD,CAAP,CAAuCkI,OAAxE;AACAnF,OAAO,CAAC+F,uBAAR,GAAkC9I,mBAAO,CAAC,EAAD,CAAP,CAAwCkI,OAA1E;AACAnF,OAAO,CAACgG,+BAAR,GAA0C/I,mBAAO,CAAC,EAAD,CAAP,CAAgDkI,OAA1F,C,CAEA;;AACAnF,OAAO,CAACiG,uBAAR,GAAkChJ,mBAAO,CAAC,EAAD,CAAP,CAAwCkI,OAA1E,C,CAEA;;AACAnF,OAAO,CAACkG,uBAAR,GAAkCjJ,mBAAO,CAAC,EAAD,CAAP,CAAwCkI,OAA1E;AACAnF,OAAO,CAACmG,sBAAR,GAAiClJ,mBAAO,CAAC,EAAD,CAAP,CAAuCkI,OAAxE,C,CAEA;;AACAnF,OAAO,CAACoG,uBAAR,GAAkCnJ,mBAAO,CAAC,EAAD,CAAP,CAAwCkI,OAA1E;AACAnF,OAAO,CAACqG,sBAAR,GAAiCpJ,mBAAO,CAAC,EAAD,CAAP,CAAuCkI,OAAxE,C;;;;;;AChDAnF,OAAO,CAACsG,cAAR,GAAyB;AACrB,YAAU,CADW;AAErB,SAAO,CAFc;AAGrB,YAAU,CAHW;AAIrB,SAAO,CAJc;AAKrB,aAAW,CALU;AAMrB,SAAM,CANe;AAOrB,eAAa,CAPQ;AAQrB,SAAO,CARc;AASrB,cAAY,CATS;AAUrB,UAAQ,CAVa;AAWrB,SAAO,CAXc;AAYrB,YAAU,CAZW;AAarB,SAAO,CAbc;AAcrB,cAAY,CAdS;AAerB,SAAO;AAfc,CAAzB;AAkBAtG,OAAO,CAACuG,YAAR,GAAuB;AACnB,aAAW,CADQ;AAEnB,SAAO,CAFY;AAGnB,UAAQ,CAHW;AAInB,cAAY,CAJO;AAKnB,SAAO,CALY;AAMnB,UAAQ,CANW;AAOnB,WAAS,CAPU;AAQnB,SAAO,CARY;AASnB,UAAQ,CATW;AAUnB,WAAS,CAVU;AAWnB,SAAO,CAXY;AAYnB,UAAQ,CAZW;AAanB,SAAO,CAbY;AAcnB,UAAQ,CAdW;AAenB,SAAO,CAfY;AAgBnB,UAAQ,CAhBW;AAiBnB,UAAQ,CAjBW;AAkBnB,SAAO,CAlBY;AAmBnB,UAAQ,CAnBW;AAoBnB,YAAU,CApBS;AAqBnB,SAAO,CArBY;AAsBnB,UAAQ,CAtBW;AAuBnB,eAAa,CAvBM;AAwBnB,SAAO,CAxBY;AAyBnB,UAAQ,CAzBW;AA0BnB,UAAQ,CA1BW;AA2BnB,WAAS,CA3BU;AA4BnB,aAAW,EA5BQ;AA6BnB,SAAO,EA7BY;AA8BnB,UAAQ,EA9BW;AA+BnB,cAAY,EA/BO;AAgCnB,SAAO,EAhCY;AAiCnB,UAAQ,EAjCW;AAkCnB,cAAY,EAlCO;AAmCnB,SAAO,EAnCY;AAoCnB,UAAQ;AApCW,CAAvB;AAuCAvG,OAAO,CAACwG,aAAR,GAAwB,QAClBC,MAAM,CAACC,IAAP,CAAY1G,OAAO,CAACuG,YAApB,EAAkCI,IAAlC,CAAuC,GAAvC,EAA4CC,OAA5C,CAAoD,KAApD,EAA2D,KAA3D,CADkB,GAElB,GAFN;AAIA5G,OAAO,CAAC6G,aAAR,GAAwB;AACpB,SAAQ,CADY;AAEpB,SAAQ,CAFY;AAGpB,WAAU,CAHU;AAIpB,UAAS,CAJW;AAKpB,UAAS,CALW;AAMpB,SAAQ,CANY;AAOpB,WAAU,CAPU;AAQpB,WAAU,CARU;AASpB,UAAS,CATW;AAUpB,SAAQ,EAVY;AAWpB,YAAW,EAXS;AAYpB,YAAW;AAZS,CAAxB;AAcA7G,OAAO,CAAC8G,qBAAR,GAAgC,QAC1BL,MAAM,CAACC,IAAP,CAAY1G,OAAO,CAAC6G,aAApB,EAAmCF,IAAnC,CAAwC,GAAxC,CAD0B,GAE3B,GAFL;AAIA3G,OAAO,CAAC+G,aAAR,GAAwB;AACpB,WAAU,CADU;AAEpB,YAAU,CAFU;AAGpB,WAAS,CAHW;AAIpB,YAAU,CAJU;AAKpB,WAAS,CALW;AAMpB,WAAS,CANW;AAOpB,aAAW,CAPS;AAQpB,YAAU,CARU;AASpB,WAAS,CATW;AAUpB,WAAS,EAVW;AAWpB,cAAY,EAXQ;AAYpB,aAAW,EAZS;AAapB,gBAAc,EAbM;AAcpB,gBAAc,EAdM;AAepB,eAAa,EAfO;AAgBpB,eAAa,EAhBO;AAiBpB,iBAAe,EAjBK;AAkBpB,gBAAc,EAlBM;AAmBpB,gBAAc,EAnBM;AAoBpB,eAAa,EApBO;AAqBpB,kBAAgB,EArBI;AAsBpB,mBAAiB,EAtBG;AAuBpB,kBAAgB,EAvBI;AAwBpB,mBAAiB,EAxBG;AAyBpB,kBAAgB,EAzBI;AA0BpB,kBAAgB,EA1BI;AA2BpB,oBAAkB,EA3BE;AA4BpB,mBAAiB,EA5BG;AA6BpB,kBAAgB,EA7BI;AA8BpB,eAAa,EA9BO;AA+BpB,kBAAgB;AA/BI,CAAxB;AAiCA/G,OAAO,CAACgH,qBAAR,GAAgC,QAC1BP,MAAM,CAACC,IAAP,CAAY1G,OAAO,CAAC+G,aAApB,EAAmCJ,IAAnC,CAAwC,GAAxC,EAA6CC,OAA7C,CAAqD,IAArD,EAA2D,MAA3D,CAD0B,GAE1B,GAFN;AAIA,IAAIK,SAAS,GACT,MAAMjH,OAAO,CAAC8G,qBAAd,GAAsC,8DAAtC,GACA,sEAFJ;AAIA,IAAII,gBAAgB,GAChB,uBACA,wCAFJ;AAIA,IAAIC,iBAAiB,GAAG,IAAIC,MAAJ,CAAWH,SAAX,EAAsB,GAAtB,CAAxB;AAEAjH,OAAO,CAACqH,iBAAR,GAA4B,QAAQJ,SAAR,GAAoB,IAAhD;AACAjH,OAAO,CAACsH,wBAAR,GAAmC,QAAQJ,gBAAR,GAA2B,IAA9D;;AAEAlH,OAAO,CAACuH,4BAAR,GAAuC,UAAUC,YAAV,EAAwB;AAC3D,MAAIC,SAAS,GAAG,EAAhB;AACA,MAAI5G,aAAa,GAAG2G,YAApB;AACA,MAAIhH,KAAK,GAAG2G,iBAAiB,CAACrG,IAAlB,CAAuBD,aAAvB,CAAZ;;AACA,SAAOL,KAAP,EAAc;AACVkH,2BAAuB,CAAClH,KAAD,EAAQiH,SAAR,CAAvB;AACA5G,iBAAa,GAAGA,aAAa,CAACG,SAAd,CAAwBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAAjC,CAAhB;AACAP,SAAK,GAAG2G,iBAAiB,CAACrG,IAAlB,CAAuBD,aAAvB,CAAR;AACH;;AACD,SAAO4G,SAAP;AACH,CAVD;;AAYA,SAASC,uBAAT,CAAiClH,KAAjC,EAAwCiH,SAAxC,EAAmD;AAC/C,MAAIE,GAAG,GAAGnH,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAV;;AACA,MAAI5H,OAAO,CAAC6G,aAAR,CAAsBc,GAAtB,MAA+B7H,SAAnC,EAA8C;AAC1C6H,OAAG,GAAG3H,OAAO,CAAC6G,aAAR,CAAsBc,GAAtB,CAAN;AACH,GAFD,MAEO,IAAGA,GAAG,KAAK,GAAR,IAAeA,GAAG,KAAK,IAA1B,EAA+B;AAClCA,OAAG,GAAG,CAAN;AACH,GAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,KAAV,CAAJ,EAAsB;AACzBmH,OAAG,GAAG,CAAN;AACH,GAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,MAAV,CAAJ,EAAuB;AAC1BmH,OAAG,GAAG,GAAN;AACH,GAFM,MAEA;AACHA,OAAG,GAAGE,UAAU,CAACF,GAAD,CAAhB;AACH;;AAED,MAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AACzBiH,aAAS,CAAC,MAAD,CAAT,GAAoBE,GAApB;AACH,GAFD,MAEO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC/BiH,aAAS,CAAC,QAAD,CAAT,GAAsBE,GAAtB;AACH,GAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC/BiH,aAAS,CAAC,QAAD,CAAT,GAAsBE,GAAtB;AACH,GAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAChCiH,aAAS,CAAC,MAAD,CAAT,GAAoBE,GAApB;AACH,GAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC/BiH,aAAS,CAAC,GAAD,CAAT,GAAiBE,GAAjB;AACH,GAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AACjCiH,aAAS,CAAC,OAAD,CAAT,GAAqBE,GAArB;AACH,GAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAChCiH,aAAS,CAAC,MAAD,CAAT,GAAoBE,GAApB;AACH;;AAED,SAAOF,SAAP;AACH,C;;;;;;AC5KD,IAAMzK,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI4K,WAAW,GAAG;AAAE,YAAU,CAAZ;AAAe,SAAO,CAAtB;AAAyB,YAAU,CAAnC;AAAsC,SAAO,CAA7C;AAA+C,aAAW,CAA1D;AAA6D,UAAO,CAApE;AAAuE,SAAM,CAA7E;AAAgF,eAAa,CAA7F;AAAgG,SAAO,CAAvG;AACd,cAAY,CADE;AACC,WAAQ,CADT;AACY,UAAQ,CADpB;AACuB,SAAO,CAD9B;AACgC,YAAU,CAD1C;AAC6C,SAAO,CADpD;AACsD,cAAY,CADlE;AACqE,SAAO;AAD5E,CAAlB;AAGA,IAAIC,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,0BADqB,GAErB,cAFqB,GAGrB,gCAHqB,GAIrB,GAJqB,GAIfX,MAAM,CAACC,IAAP,CAAYoB,WAAZ,EAAyBnB,IAAzB,CAA8B,GAA9B,CAJe,GAIsB,GAJtB,GAKrB,0BALqB,GAMrB,wCANqB,GAOrB,WAPU,EAOG,GAPH,CAAd;AASA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAGAlI,OAAO,CAACmI,qBAAR,GAAgC,SAASA,qBAAT,CAA+BhL,MAA/B,EAAuCC,GAAvC,EAA4CgL,MAA5C,EAAoDC,QAApD,EAA8D;AAE1F,MAAIC,WAAW,GAAGtL,KAAK,CAACI,GAAD,CAAvB;AACA,MAAImL,gBAAgB,GAAG,KAAvB;AACA,MAAIC,SAAS,GAAGF,WAAW,CAAC9G,GAAZ,EAAhB;;AAEA,MAAG6G,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAArC,EAA6C;AACzCC,eAAW,GAAEA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAb;AACAG,oBAAgB,GAAG,IAAnB;AACH,GAHD,MAGO,IAAGF,QAAQ,IAAI,MAAf,EAAuB;AAC1BC,eAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACAG,oBAAgB,GAAG,IAAnB;AACH,GAHM,MAGA,IAAGF,QAAQ,IAAI,MAAf,EAAuB;AAC1BC,eAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAhB,CAAd;AACH,GAFM,MAEA;AACH,QAAIxG,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAG,CAAT,GAAaI,SAAtB,IAAmC5G,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAGI,SAAlB,CAAvC,EAAqE;AACjEF,iBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,KAFD,MAEO,IAAIxG,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAG,CAAT,GAAaI,SAAtB,IAAmC5G,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAGI,SAAlB,CAAvC,EAAqE;AACxEF,iBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,KAFM,MAEA;AACHE,iBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAhB,CAAd;AACH;AACJ;;AAEDjL,QAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BmJ,MAA/B;;AACA,MAAIG,gBAAJ,EAAsB;AAClBpL,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACH,GAJD,MAIO;AACH1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B2J,WAAW,CAACtK,IAAZ,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B2J,WAAW,CAAC1J,KAAZ,KAAsB,CAAlD;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B2J,WAAW,CAACzJ,IAAZ,EAA3B;AACH;;AAED,SAAO1B,MAAP;AACH,CApCD;;AAuCA6C,OAAO,CAACC,MAAR,GAAiB,SAAS0C,eAAT,GAA2B;AACxC1C,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAX;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAhB;AACA,QAAIQ,MAAM,GAAGN,WAAW,CAACc,SAAD,CAAxB;;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB;AACrB,aAAO,IAAP;AACH;;AAED,QAAI+I,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;AACA,QAAIc,OAAO,GAAGtI,KAAK,CAAC0H,aAAD,CAAnB;AACA,QAAIa,IAAI,GAAGF,MAAM,IAAIC,OAArB;AACAC,QAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,QAAI,GAAGA,IAAI,CAACnB,WAAL,EAAP;AAEA5H,WAAO,CAACmI,qBAAR,CAA8BhL,MAA9B,EAAsCC,GAAtC,EAA2CgL,MAA3C,EAAmDW,IAAnD;AACA5L,UAAM,CAACI,IAAP,CAAY,iBAAZ,IAAiC,IAAjC;AAEA,WAAOJ,MAAP;AACH,GAzBD;AA0BH,CA/BD,C;;;;;;AC5DA;;;AAGA,IAAIM,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AACA,IAAI0H,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AAEA,IAAI4C,OAAO,GAAG,IAAIX,MAAJ,CAAW,0CAAX,CAAd;;AAEA,IAAI4B,UAAU,GAAGhJ,OAAO,CAACgJ,UAAR,GAAqB,UAAS7L,MAAT,EAAiB;AACnD,SAAO,CAACA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,MAAvB,CAAR;AACH,CAFD;;AAIA,IAAI+J,UAAU,GAAGjJ,OAAO,CAACiJ,UAAR,GAAqB,UAAS9L,MAAT,EAAiB;AACnD,SAAO,CAACA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,OAAvB,CAAD,IAAoC,CAAC/B,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,SAAvB,CAA5C;AACH,CAFD;;AAIA,IAAIgK,aAAa,GAAGlJ,OAAO,CAACkJ,aAAR,GAAwB,UAAS5L,IAAT,EAAe6L,UAAf,EAA2BC,SAA3B,EAAsC;AAC9E,MAAIC,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAemI,UAAU,CAAC9L,KAAX,GAAmB8L,UAAU,CAAC7L,IAAX,CAAgByD,MAAlD,EAA0DqI,SAAS,CAAC/L,KAApE,CAAlB;AACA,SAAOgM,WAAW,CAAC7I,KAAZ,CAAkBuH,OAAlB,CAAP;AACH,CAHD;;AAKA,IAAIuB,sBAAsB,GAAGtJ,OAAO,CAACsJ,sBAAR,GAAiC,UAASC,aAAT,EAAwBC,aAAxB,EAAuC;AACjG,MAAIC,iBAAiB,GAAGF,aAAa,CAAC3L,KAAd,EAAxB;;AAEA,MAAI4L,aAAa,CAACtK,SAAd,CAAwB,MAAxB,CAAJ,EAAqC;AACjCuK,qBAAiB,CAACxK,MAAlB,CAAyB,MAAzB,EAAiCuK,aAAa,CAACzK,GAAd,CAAkB,MAAlB,CAAjC;AACA0K,qBAAiB,CAACxK,MAAlB,CAAyB,QAAzB,EAAmCuK,aAAa,CAACzK,GAAd,CAAkB,QAAlB,CAAnC;;AAEA,QAAIyK,aAAa,CAACtK,SAAd,CAAwB,QAAxB,CAAJ,EAAuC;AACnCuK,uBAAiB,CAACxK,MAAlB,CAAyB,QAAzB,EAAmCuK,aAAa,CAACzK,GAAd,CAAkB,QAAlB,CAAnC;;AAEA,UAAIyK,aAAa,CAACtK,SAAd,CAAwB,aAAxB,CAAJ,EAA4C;AACxCuK,yBAAiB,CAACxK,MAAlB,CAAyB,aAAzB,EAAwCuK,aAAa,CAACzK,GAAd,CAAkB,aAAlB,CAAxC;AACH,OAFD,MAEO;AACH0K,yBAAiB,CAAC9K,KAAlB,CAAwB,aAAxB,EAAuC6K,aAAa,CAACzK,GAAd,CAAkB,aAAlB,CAAvC;AACH;AACJ,KARD,MAQO;AACH0K,uBAAiB,CAAC9K,KAAlB,CAAwB,QAAxB,EAAkC6K,aAAa,CAACzK,GAAd,CAAkB,QAAlB,CAAlC;AACA0K,uBAAiB,CAAC9K,KAAlB,CAAwB,aAAxB,EAAuC6K,aAAa,CAACzK,GAAd,CAAkB,aAAlB,CAAvC;AACH;AAEJ,GAjBD,MAiBO;AACH0K,qBAAiB,CAAC9K,KAAlB,CAAwB,MAAxB,EAAgC6K,aAAa,CAACzK,GAAd,CAAkB,MAAlB,CAAhC;AACA0K,qBAAiB,CAAC9K,KAAlB,CAAwB,QAAxB,EAAkC6K,aAAa,CAACzK,GAAd,CAAkB,QAAlB,CAAlC;AACA0K,qBAAiB,CAAC9K,KAAlB,CAAwB,QAAxB,EAAkC6K,aAAa,CAACzK,GAAd,CAAkB,QAAlB,CAAlC;AACA0K,qBAAiB,CAAC9K,KAAlB,CAAwB,aAAxB,EAAuC6K,aAAa,CAACzK,GAAd,CAAkB,aAAlB,CAAvC;AACH;;AAED,MAAIyK,aAAa,CAACtK,SAAd,CAAwB,UAAxB,CAAJ,EAAyC;AACrCuK,qBAAiB,CAACxK,MAAlB,CAAyB,UAAzB,EAAqCuK,aAAa,CAACzK,GAAd,CAAkB,UAAlB,CAArC;AACH,GAFD,MAEO,IACHyK,aAAa,CAACzK,GAAd,CAAkB,UAAlB,MAAkCe,SAAlC,IACA2J,iBAAiB,CAAC1K,GAAlB,CAAsB,UAAtB,MAAsCe,SAFnC,EAGL;AACE2J,qBAAiB,CAAC9K,KAAlB,CAAwB,UAAxB,EAAoC6K,aAAa,CAACzK,GAAd,CAAkB,UAAlB,CAApC;AACH;;AAED,MAAI0K,iBAAiB,CAAC1K,GAAlB,CAAsB,UAAtB,KAAqC,CAArC,IAA0C0K,iBAAiB,CAAC1K,GAAlB,CAAsB,MAAtB,IAAgC,EAA9E,EAAkF;AAC9E,QAAIyK,aAAa,CAACtK,SAAd,CAAwB,MAAxB,CAAJ,EAAqC;AACjCuK,uBAAiB,CAACxK,MAAlB,CAAyB,MAAzB,EAAiCwK,iBAAiB,CAAC1K,GAAlB,CAAsB,MAAtB,IAAgC,EAAjE;AACH,KAFD,MAEO;AACH0K,uBAAiB,CAAC9K,KAAlB,CAAwB,MAAxB,EAAgC8K,iBAAiB,CAAC1K,GAAlB,CAAsB,MAAtB,IAAgC,EAAhE;AACH;AACJ;;AAED,SAAO0K,iBAAP;AACH,CA7CD;;AAgDA,SAASC,WAAT,CAAqBpM,IAArB,EAA2BqM,UAA3B,EAAuCC,UAAvC,EAAkD;AAE9C,MAAIC,SAAS,GAAGF,UAAU,CAACnM,KAA3B;AACA,MAAIsM,SAAS,GAAGF,UAAU,CAACpM,KAA3B;AACA,MAAIuM,aAAa,GAAGT,sBAAsB,CAACO,SAAD,EAAYC,SAAZ,CAA1C;;AAEA,MAAIH,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BkM,UAAU,CAAClM,GAAX,IAAkB,IAAhD,EAAsD;AAElD,QAAIsM,OAAO,GAAKL,UAAU,CAACjM,GAAX,IAAkB,IAAlB,GAAyBiM,UAAU,CAACnM,KAApC,GAA4CmM,UAAU,CAACjM,GAAvE;AACA,QAAIuM,OAAO,GAAKL,UAAU,CAAClM,GAAX,IAAkB,IAAlB,GAAyBkM,UAAU,CAACpM,KAApC,GAA4CoM,UAAU,CAAClM,GAAvE;AACA,QAAIwM,WAAW,GAAGZ,sBAAsB,CAACU,OAAD,EAAUC,OAAV,CAAxC;;AAEA,QAAIN,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BwM,WAAW,CAAClM,IAAZ,GAAmBmM,OAAnB,KAA+BJ,aAAa,CAAC/L,IAAd,GAAqBmM,OAArB,EAA7D,EAA6F;AACzF;AACA,UAAID,WAAW,CAAChL,SAAZ,CAAsB,KAAtB,CAAJ,EAAkC;AAC9BgL,mBAAW,CAACjL,MAAZ,CAAmB,KAAnB,EAA0BiL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAnD;AACH,OAFD,MAEO;AACHmL,mBAAW,CAACvL,KAAZ,CAAkB,KAAlB,EAAyBuL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAlD;AACH;AACJ;;AAED4K,cAAU,CAACjM,GAAX,GAAiBwM,WAAjB;AACH;;AAEDP,YAAU,CAACnM,KAAX,GAAmBuM,aAAnB;AAEA,MAAIK,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASV,UAAU,CAACtM,KAApB,EAA2BuM,UAAU,CAACvM,KAAtC,CAAjB;AACA,MAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACPZ,UAAU,CAACtM,KAAX,GAAmBsM,UAAU,CAACrM,IAAX,CAAgByD,MAD5B,EAEP6I,UAAU,CAACvM,KAAX,GAAmBuM,UAAU,CAACtM,IAAX,CAAgByD,MAF5B,CAAf;AAIA4I,YAAU,CAACtM,KAAX,GAAmB+M,UAAnB;AACAT,YAAU,CAACrM,IAAX,GAAmBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAnB;;AAEA,OAAK,IAAIE,GAAT,IAAgBZ,UAAU,CAACrM,IAA3B,EAAiC;AAC7BoM,cAAU,CAACpM,IAAX,CAAgBiN,GAAhB,IAAuB,IAAvB;AACH;;AACDb,YAAU,CAACpM,IAAX,CAAgB,2BAAhB,IAA+C,IAA/C;AACA,SAAOoM,UAAP;AACH;;AAED3J,OAAO,CAACmF,OAAR,GAAkB,SAASW,sBAAT,GAAkC;AAChDX,SAAO,CAACE,IAAR,CAAa,IAAb;;AAGA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7E,OAAO,CAACI,MAA5B,EAAoCyE,CAAC,EAArC,EAAyC;AAErCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAIwD,UAAU,CAACG,UAAD,CAAV,IAA0BF,UAAU,CAACyB,UAAD,CAApC,IACOxB,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADxB,EACwD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CAAxB;AACAA,kBAAU,GAAG/J,OAAO,CAAC6E,CAAC,GAAG,CAAL,CAApB;AACAA,SAAC,IAAI,CAAL;AAEH,OAPD,MAOO,IAAIwD,UAAU,CAAC0B,UAAD,CAAV,IAA0BzB,UAAU,CAACE,UAAD,CAApC,IACAD,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADjB,EACiD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAOoN,UAAP,EAAmBvB,UAAnB,CAAxB;AACAuB,kBAAU,GAAG/J,OAAO,CAAC6E,CAAC,GAAG,CAAL,CAApB;AACAA,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAED,WAAOD,YAAP;AACH,GApCD;AAqCH,CAzCD,C;;;;;;AC9GA,IAAIE,MAAM,GAAE;AACV,OAAI,CADM;AAEV,OAAI,CAFM;AAGV,OAAI,CAHM;AAIV,OAAI,CAJM;AAKV,OAAI,CALM;AAMV,OAAI,CANM;AAOV,OAAI,CAPM;AAQV,OAAI,CARM;AASV,OAAI,CATM;AAUV,OAAI,CAVM;AAWV,OAAI,CAXM;AAYV,OAAI,EAZM;AAaV,OAAI,EAbM;AAcV,OAAI;AAdM,CAAZ;AAiBA,IAAIrE,cAAc,GAAE;AAClB,OAAI,CADc;AAElB,OAAI,CAFc;AAGlB,OAAI,CAHc;AAIlB,OAAI,CAJc;AAKlB,OAAI,CALc;AAMlB,OAAI,CANc;AAOlB,OAAI,CAPc;AAQlB,OAAI;AARc,CAApB;AAWAtG,OAAO,CAAC2K,MAAR,GAAiBA,MAAjB;AACA3K,OAAO,CAACsG,cAAR,GAAyBA,cAAzB;;AAEAtG,OAAO,CAAC4K,gBAAR,GAAyB,UAAStN,IAAT,EAAc;AACrC,MAAIuN,MAAM,GAAG,CAAb;;AACA,OAAI,IAAIrF,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAClI,IAAI,CAACyD,MAApB,EAA4ByE,CAAC,EAA7B,EAAgC;AAC9B,QAAIsF,KAAI,GAAGxN,IAAI,CAACkI,CAAD,CAAf;;AACA,QAAGsF,KAAI,KAAK,GAAZ,EAAgB;AACdD,YAAM,GAAGA,MAAM,KAAI,CAAV,GAAcF,MAAM,CAACG,KAAD,CAApB,GAA8BD,MAAM,GAAGF,MAAM,CAACG,KAAD,CAAtD;AACD,KAFD,MAEK;AACHD,YAAM,IAAIF,MAAM,CAACG,KAAD,CAAhB;AACD;AACF;;AACD,SAAOD,MAAP;AACD,CAXD;;AAaA7K,OAAO,CAAC+K,cAAR,GAAuB,UAASzN,IAAT,EAAc;AACnC,MAAI0N,MAAM,GAAG,EAAb;;AACA,OAAI,IAAIxF,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAClI,IAAI,CAACyD,MAApB,EAA4ByE,CAAC,EAA7B,EAAgC;AAC9B,QAAIsF,MAAI,GAAGxN,IAAI,CAACkI,CAAD,CAAf;AACAwF,UAAM,GAAGA,MAAM,GAAGL,MAAM,CAACG,MAAD,CAAxB;AACD;;AACD,SAAOG,QAAQ,CAACD,MAAD,CAAf;AACD,CAPD,C;;;;;;AC5CAhL,OAAO,CAACsG,cAAR,GAAyB;AACrB,aAAW,CADU;AAErB,QAAM,CAFe;AAGrB,YAAU,CAHW;AAIrB,QAAM,CAJe;AAKrB,cAAY,CALS;AAMrB,QAAK,CANgB;AAOrB,cAAY,CAPS;AAQrB,QAAM,CARe;AASrB,gBAAc,CATO;AAUrB,QAAM,CAVe;AAWrB,aAAW,CAXU;AAYrB,QAAM,CAZe;AAarB,aAAW,CAbU;AAcrB,QAAM;AAde,CAAzB;AAiBAtG,OAAO,CAACuG,YAAR,GAAuB;AACnB,YAAU,CADS;AAEnB,SAAO,CAFY;AAGnB,UAAQ,CAHW;AAInB,aAAW,CAJQ;AAKnB,SAAO,CALY;AAMnB,UAAQ,CANW;AAOnB,UAAQ,CAPW;AAQnB,WAAS,CARU;AASnB,SAAO,CATY;AAUnB,UAAQ,CAVW;AAWnB,SAAO,CAXY;AAYnB,UAAQ,CAZW;AAanB,WAAS,CAbU;AAcnB,SAAO,CAdY;AAenB,UAAQ,CAfW;AAgBnB,SAAO,CAhBY;AAiBnB,UAAQ,CAjBW;AAkBnB,SAAO,CAlBY;AAmBnB,UAAQ,CAnBW;AAoBnB,UAAQ,CApBW;AAqBnB,SAAO,CArBY;AAsBnB,UAAQ,CAtBW;AAuBnB,YAAU,CAvBS;AAwBnB,SAAO,CAxBY;AAyBnB,UAAQ,CAzBW;AA0BnB,eAAa,CA1BM;AA2BnB,SAAO,CA3BY;AA4BnB,UAAQ,CA5BW;AA6BnB,UAAQ,CA7BW;AA8BnB,WAAS,CA9BU;AA+BnB,aAAW,EA/BQ;AAgCnB,SAAO,EAhCY;AAiCnB,UAAQ,EAjCW;AAkCnB,cAAY,EAlCO;AAmCnB,SAAO,EAnCY;AAoCnB,UAAQ,EApCW;AAqCnB,cAAY,EArCO;AAsCnB,SAAO,EAtCY;AAuCnB,UAAQ;AAvCW,CAAvB;AA0CAvG,OAAO,CAAC8G,qBAAR,GAAgC,iFAAhC;AACA9G,OAAO,CAAC6G,aAAR,GAAwB;AACpB,UAAS,CADW;AAEpB,UAAS,CAFW;AAGpB,UAAS,CAHW;AAIpB,UAAS,CAJW;AAKpB,UAAS,CALW;AAMpB,WAAS,CANW;AAOpB,WAAU,CAPU;AAQpB,YAAW,CARS;AASpB,UAAS,CATW;AAUpB,UAAS,CAVW;AAWpB,UAAS,EAXW;AAYpB,SAAQ,EAZY;AAapB,WAAU,EAbU;AAcpB,YAAW;AAdS,CAAxB,C;;;;;;AC5DA7G,OAAO,CAACsG,cAAR,GAAyB;AACrB,cAAY,CADS;AAErB,SAAO,CAFc;AAGrB,WAAS,CAHY;AAIrB,SAAO,CAJc;AAKrB,WAAS,CALY;AAMrB,SAAM,CANe;AAOrB,cAAY,CAPS;AAQrB,SAAO,CARc;AASrB,WAAS,CATY;AAUrB,SAAO,CAVc;AAWrB,cAAY,CAXS;AAYrB,SAAO,CAZc;AAarB,YAAU,CAbW;AAcrB,SAAO;AAdc,CAAzB;AAiBAtG,OAAO,CAACuG,YAAR,GAAuB;AACnB,aAAW,CADQ;AAEnB,SAAO,CAFY;AAGnB,UAAQ,CAHW;AAInB,aAAW,CAJQ;AAKnB,SAAO,CALY;AAMnB,UAAQ,CANW;AAOnB,aAAW,CAPQ;AAQnB,SAAO,CARY;AASnB,UAAQ,CATW;AAUnB,UAAQ,CAVW;AAWnB,SAAO,CAXY;AAYnB,UAAQ,CAZW;AAanB,WAAS,CAbU;AAcnB,SAAO,CAdY;AAenB,UAAQ,CAfW;AAgBnB,SAAO,CAhBY;AAiBnB,UAAQ,CAjBW;AAkBnB,SAAO,CAlBY;AAmBnB,aAAW,CAnBQ;AAoBnB,SAAO,CApBY;AAqBnB,UAAQ,CArBW;AAsBnB,UAAQ,CAtBW;AAuBnB,UAAQ,CAvBW;AAwBnB,eAAa,CAxBM;AAyBnB,SAAO,CAzBY;AA0BnB,UAAQ,CA1BW;AA2BnB,UAAQ,CA3BW;AA4BnB,WAAS,CA5BU;AA6BnB,aAAW,EA7BQ;AA8BnB,SAAO,EA9BY;AA+BnB,UAAQ,EA/BW;AAgCnB,cAAY,EAhCO;AAiCnB,SAAO,EAjCY;AAkCnB,UAAQ,EAlCW;AAmCnB,cAAY,EAnCO;AAoCnB,cAAY,EApCO;AAqCnB,SAAO,EArCY;AAsCnB,UAAQ;AAtCW,CAAvB;AAyCAvG,OAAO,CAAC8G,qBAAR,GAAgC,wEAAhC;AACA9G,OAAO,CAAC6G,aAAR,GAAwB;AACpB,QAAO,CADa;AAEpB,UAAS,CAFW;AAGpB,WAAU,CAHU;AAIpB,YAAW,CAJS;AAKpB,UAAS,CALW;AAMpB,SAAQ,CANY;AAOpB,UAAS,CAPW;AAQpB,UAAS,CARW;AASpB,UAAS,CATW;AAUpB,SAAQ,EAVY;AAWpB,UAAS,EAXW;AAYpB,WAAU,EAZU;AAapB,YAAW;AAbS,CAAxB,C;;;;;;AC3DA;;;AAGA,IAAI1B,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASY,uBAAT,GAAmC;AACjDZ,SAAO,CAACE,IAAR,CAAa,IAAb;;AAEA,OAAK/E,OAAL,GAAe,YAAY;AAAE,WAAO,kBAAP;AAA2B,GAAxD;;AAEA,OAAKe,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC7E,OAAO,CAACI,MAAxB,EAAgCyE,CAAC,EAAjC,EAAoC;AAEhCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAI,CAAC2D,UAAU,CAACzL,GAAZ,IAAmB,CAACgN,UAAU,CAAChN,GAA/B,IACG,KAAKwL,aAAL,CAAmB5L,IAAnB,EAAyB6L,UAAzB,EAAqCuB,UAArC,CADP,EACyD;AAErDvB,kBAAU,GAAG,KAAKO,WAAL,CAAiBpM,IAAjB,EAAuB6L,UAAvB,EAAmCuB,UAAnC,CAAb;AACAA,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAGD,WAAOD,YAAP;AACH,GA9BD;;AAgCA,OAAKvB,aAAL,GAAqB,UAAS5L,IAAT,EAAe4N,OAAf,EAAwBC,OAAxB,EAAiC;AAClD,QAAIC,KAAK,GAAGF,OAAO,CAAC7N,KAAR,GAAgB6N,OAAO,CAAC5N,IAAR,CAAayD,MAAzC;AACA,QAAIrD,GAAG,GAAKyN,OAAO,CAAC9N,KAApB;AACA,QAAIgM,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAeoK,KAAf,EAAqB1N,GAArB,CAAlB;AAEA,WAAO2L,WAAW,CAAC7I,KAAZ,CAAkB,KAAKF,OAAL,EAAlB,CAAP;AACH,GAND;;AAQA,OAAKoJ,WAAL,GAAmB,UAASpM,IAAT,EAAe+N,UAAf,EAA2BC,QAA3B,EAAqC;AAEpD,QAAI,CAACD,UAAU,CAAClN,aAAX,EAAD,IAA+B,CAACmN,QAAQ,CAACnN,aAAT,EAApC,EAA8D;AAE1D,UAAIoN,QAAQ,GAAG;AAAC,gBAAQ,IAAT;AAAe,kBAAU,IAAzB;AAA+B,kBAAU;AAAzC,OAAf;;AAEA,WAAK,IAAI7M,GAAT,IAAgB4M,QAAQ,CAAC9N,KAAT,CAAegB,WAA/B,EAA4C;AACxC,YAAI,CAAC6M,UAAU,CAAC7N,KAAX,CAAiB0B,SAAjB,CAA2BR,GAA3B,CAAL,EAAsC;AAClC2M,oBAAU,CAAC7N,KAAX,CAAiByB,MAAjB,CAAwBP,GAAxB,EAA6B4M,QAAQ,CAAC9N,KAAT,CAAeuB,GAAf,CAAmBL,GAAnB,CAA7B;AACH;AACJ;;AAED,WAAK,IAAIA,GAAT,IAAgB2M,UAAU,CAAC7N,KAAX,CAAiBgB,WAAjC,EAA8C;AAC1C,YAAI,CAAC8M,QAAQ,CAAC9N,KAAT,CAAe0B,SAAf,CAAyBR,GAAzB,CAAL,EAAoC;AAChC4M,kBAAQ,CAAC9N,KAAT,CAAeyB,MAAf,CAAsBP,GAAtB,EAA2B2M,UAAU,CAAC7N,KAAX,CAAiBuB,GAAjB,CAAqBL,GAArB,CAA3B;AACH;AACJ;AACJ;;AAED,QAAI2M,UAAU,CAAC7N,KAAX,CAAiBQ,IAAjB,GAAwBmM,OAAxB,KAAoCmB,QAAQ,CAAC9N,KAAT,CAAeQ,IAAf,GAAsBmM,OAAtB,EAAxC,EAAyE;AAErE,UAAIqB,UAAU,GAAGH,UAAU,CAAC7N,KAAX,CAAiBR,KAAjB,EAAjB;AACA,UAAIyO,QAAQ,GAAGH,QAAQ,CAAC9N,KAAT,CAAeR,KAAf,EAAf;;AAEA,UAAIqO,UAAU,CAAClN,aAAX,MAA8BqN,UAAU,CAAClM,GAAX,CAAe,CAAC,CAAhB,EAAmB,MAAnB,EAA2BoM,QAA3B,CAAoCD,QAApC,CAAlC,EAAiF;AAC7ED,kBAAU,GAAGA,UAAU,CAAClM,GAAX,CAAe,CAAC,CAAhB,EAAmB,MAAnB,CAAb;AACA+L,kBAAU,CAAC7N,KAAX,CAAiBmB,KAAjB,CAAuB,KAAvB,EAA8B6M,UAAU,CAACxN,IAAX,EAA9B;AACAqN,kBAAU,CAAC7N,KAAX,CAAiBmB,KAAjB,CAAuB,OAAvB,EAAgC6M,UAAU,CAAC5M,KAAX,KAAqB,CAArD;AACAyM,kBAAU,CAAC7N,KAAX,CAAiBmB,KAAjB,CAAuB,MAAvB,EAA+B6M,UAAU,CAAC3M,IAAX,EAA/B;AACH,OALD,MAKO,IAAIyM,QAAQ,CAACnN,aAAT,MAA4BsN,QAAQ,CAACnM,GAAT,CAAa,CAAb,EAAgB,MAAhB,EAAwBqM,OAAxB,CAAgCH,UAAhC,CAAhC,EAA6E;AAChFC,gBAAQ,GAAGA,QAAQ,CAACnM,GAAT,CAAa,CAAb,EAAgB,MAAhB,CAAX;AACAgM,gBAAQ,CAAC9N,KAAT,CAAemB,KAAf,CAAqB,KAArB,EAA4B8M,QAAQ,CAACzN,IAAT,EAA5B;AACAsN,gBAAQ,CAAC9N,KAAT,CAAemB,KAAf,CAAqB,OAArB,EAA8B8M,QAAQ,CAAC7M,KAAT,KAAmB,CAAjD;AACA0M,gBAAQ,CAAC9N,KAAT,CAAemB,KAAf,CAAqB,MAArB,EAA6B8M,QAAQ,CAAC5M,IAAT,EAA7B;AACH,OALM,MAKA;AACH,YAAI+M,GAAG,GAAGN,QAAV;AACAA,gBAAQ,GAAGD,UAAX;AACAA,kBAAU,GAAGO,GAAb;AACH;AACJ;;AAEDP,cAAU,CAAC3N,GAAX,GAAiB4N,QAAQ,CAAC9N,KAA1B;;AAIA,SAAK,IAAIgN,GAAT,IAAgBc,QAAQ,CAAC/N,IAAzB,EAA+B;AAC3B8N,gBAAU,CAAC9N,IAAX,CAAgBiN,GAAhB,IAAuB,IAAvB;AACH;;AAGD,QAAIJ,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASgB,UAAU,CAAChO,KAApB,EAA2BiO,QAAQ,CAACjO,KAApC,CAAjB;AACA,QAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACXc,UAAU,CAAChO,KAAX,GAAmBgO,UAAU,CAAC/N,IAAX,CAAgByD,MADxB,EAEXuK,QAAQ,CAACjO,KAAT,GAAiBiO,QAAQ,CAAChO,IAAT,CAAcyD,MAFpB,CAAf;AAIAsK,cAAU,CAAChO,KAAX,GAAmB+M,UAAnB;AACAiB,cAAU,CAAC/N,IAAX,GAAmBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAnB;AACAe,cAAU,CAAC9N,IAAX,CAAgB,KAAKsO,WAAL,CAAiBC,IAAjC,IAAyC,IAAzC;AACA,WAAOT,UAAP;AACH,GA3DD;AA4DH,CAzGD,C;;;;;;ACJA,IAAI/J,OAAO,GAAGtB,OAAO,CAACsB,OAAR,GAAkBrE,mBAAO,CAAC,EAAD,CAAvC;;AAEA+C,OAAO,CAAC+L,MAAR,GAAiB9O,mBAAO,CAAC,CAAD,CAAxB;AACA+C,OAAO,CAACoB,OAAR,GAAkBnE,mBAAO,CAAC,CAAD,CAAzB;AAEA+C,OAAO,CAACC,MAAR,GAAiBD,OAAO,CAAC+L,MAAR,CAAe9L,MAAhC;AACAD,OAAO,CAACmF,OAAR,GAAkBnF,OAAO,CAACoB,OAAR,CAAgB+D,OAAlC;AACAnF,OAAO,CAACoF,MAAR,GAAiBpF,OAAO,CAACoB,OAAR,CAAgBgE,MAAjC;AAEApF,OAAO,CAAC9C,YAAR,GAAuBD,mBAAO,CAAC,CAAD,CAAP,CAAoBC,YAA3C;AACA8C,OAAO,CAACvC,gBAAR,GAA2BR,mBAAO,CAAC,CAAD,CAAP,CAAoBQ,gBAA/C;;AAEA,IAAIuO,MAAM,GAAG,SAATA,MAAS,CAASC,MAAT,EAAiB;AAE1BA,QAAM,GAAGA,MAAM,IAAIjM,OAAO,CAACsB,OAAR,CAAgB4K,YAAhB,EAAnB;AACA,OAAKC,OAAL,GAAe,IAAI1F,MAAJ,CAAWwF,MAAM,CAACE,OAAlB,CAAf;AACA,OAAKjL,QAAL,GAAgB,IAAIuF,MAAJ,CAAWwF,MAAM,CAAC/K,QAAlB,CAAhB;AACH,CALD;;AAQA8K,MAAM,CAACrO,SAAP,CAAiBG,KAAjB,GAAyB,UAASR,IAAT,EAAe8O,OAAf,EAAwB3L,GAAxB,EAA6B;AAElD2L,SAAO,GAAGA,OAAO,IAAI,IAAIC,IAAJ,EAArB;AACA5L,KAAG,GAAGA,GAAG,IAAI,EAAb;AACAA,KAAG,CAAC6L,WAAJ,GAAkB7L,GAAG,CAAC6L,WAAJ,IAAmB7L,GAAG,CAAC6L,WAAzC;AAEA,MAAIC,UAAU,GAAG,EAAjB;AAEA,OAAKJ,OAAL,CAAahL,OAAb,CAAqB,UAAU4K,MAAV,EAAkB;AACnC,QAAIpL,OAAO,GAAGoL,MAAM,CAACrL,OAAP,CAAepD,IAAf,EAAqB8O,OAArB,EAA8B3L,GAA9B,CAAd;AACA8L,cAAU,GAAGA,UAAU,CAACC,MAAX,CAAkB7L,OAAlB,CAAb;AACH,GAHD;AAKA4L,YAAU,CAACE,IAAX,CAAgB,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAC3B,WAAOD,CAAC,CAACrP,KAAF,GAAUsP,CAAC,CAACtP,KAAnB;AACH,GAFD;AAIA,OAAK6D,QAAL,CAAcC,OAAd,CAAsB,UAAUC,OAAV,EAAmB;AACrCmL,cAAU,GAAGnL,OAAO,CAACC,MAAR,CAAe/D,IAAf,EAAqBiP,UAArB,EAAiC9L,GAAjC,CAAb;AACH,GAFD;AAIA,SAAO8L,UAAP;AACH,CAtBD;;AAyBAP,MAAM,CAACrO,SAAP,CAAiBiP,SAAjB,GAA6B,UAAStP,IAAT,EAAe8O,OAAf,EAAwB3L,GAAxB,EAA6B;AACtD,MAAIE,OAAO,GAAG,KAAK7C,KAAL,CAAWR,IAAX,EAAiB8O,OAAjB,EAA0B3L,GAA1B,CAAd;;AACA,MAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB;AACpB,WAAOJ,OAAO,CAAC,CAAD,CAAP,CAAWnD,KAAX,CAAiBQ,IAAjB,EAAP;AACH;;AACD,SAAO,IAAP;AACH,CAND;;AAQAgC,OAAO,CAACgM,MAAR,GAAiBA,MAAjB;AACAhM,OAAO,CAACI,MAAR,GAAiB,IAAI4L,MAAJ,CAAY1K,OAAO,CAACuL,YAAR,EAAZ,CAAjB;AACA7M,OAAO,CAAC8M,MAAR,GAAiB,IAAId,MAAJ,CAAY1K,OAAO,CAAC4K,YAAR,EAAZ,CAAjB;AAEAlM,OAAO,CAAC+M,EAAR,GAAa,IAAIf,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAACyL,EAAR,CAAWD,MAD+B,EACvBxL,OAAO,CAAC2L,oBADe,CAArB,CAAZ,CAAb;AAGAjN,OAAO,CAACkN,KAAR,GAAgB,IAAIlB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC7C1L,OAAO,CAAC4L,KAAR,CAAcJ,MAD+B,EACvBxL,OAAO,CAAC2L,oBADe,CAArB,CAAZ,CAAhB;AAGAjN,OAAO,CAACmN,EAAR,GAAa,IAAInB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAAC6L,EAAR,CAAWL,MAD+B,EACvBxL,OAAO,CAACyL,EADe,EACXzL,OAAO,CAAC2L,oBADG,CAArB,CAAZ,CAAb;AAGAjN,OAAO,CAACoN,EAAR,GAAa,IAAIpB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAAC8L,EAAR,CAAWN,MAD+B,EACvBxL,OAAO,CAACyL,EADe,EACXzL,OAAO,CAAC2L,oBADG,CAArB,CAAZ,CAAb;AAGAjN,OAAO,CAACqN,EAAR,GAAa,IAAIrB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAAC+L,EAAR,CAAWP,MAD+B,EACvBxL,OAAO,CAACyL,EADe,EACXzL,OAAO,CAAC2L,oBADG,CAArB,CAAZ,CAAb;AAGAjN,OAAO,CAACsN,EAAR,GAAa,IAAItB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAACgM,EAAR,CAAWR,MAD+B,EACvBxL,OAAO,CAACyL,EADe,EACXzL,OAAO,CAAC2L,oBADG,CAArB,CAAZ,CAAb;AAGAjN,OAAO,CAACuN,EAAR,GAAa,IAAIvB,MAAJ,CAAY1K,OAAO,CAAC0L,YAAR,CAAqB,CAC1C1L,OAAO,CAACiM,EAAR,CAAWT,MAD+B,EACvBxL,OAAO,CAACyL,EADe,EACXzL,OAAO,CAAC2L,oBADG,CAArB,CAAZ,CAAb;;AAIAjN,OAAO,CAAClC,KAAR,GAAgB,YAAY;AACxB,SAAOkC,OAAO,CAAC8M,MAAR,CAAehP,KAAf,CAAqB2K,KAArB,CAA2BzI,OAAO,CAAC8M,MAAnC,EAA2CpE,SAA3C,CAAP;AACH,CAFD;;AAIA1I,OAAO,CAAC4M,SAAR,GAAoB,YAAY;AAC5B,SAAO5M,OAAO,CAAC8M,MAAR,CAAeF,SAAf,CAAyBnE,KAAzB,CAA+BzI,OAAO,CAAC8M,MAAvC,EAA+CpE,SAA/C,CAAP;AACH,CAFD,C;;;;;;ACpFA,IAAIqD,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAImE,OAAO,GAAGnE,mBAAO,CAAC,CAAD,CAArB;;AAGA+C,OAAO,CAACgN,YAAR,GAAuB,UAAS1L,OAAT,EAAkB;AAErC,MAAIkM,UAAU,GAAG,EAAjB;AACA,MAAIC,YAAY,GAAG;AACftB,WAAO,EAAE,EADM;AAEfjL,YAAQ,EAAE;AAFK,GAAnB;AAKAI,SAAO,CAACH,OAAR,CAAgB,UAAU8K,MAAV,EAAkB;AAE9B,QAAIA,MAAM,CAAC5G,IAAX,EAAiB;AACb4G,YAAM,GAAGA,MAAM,CAAC5G,IAAP,EAAT;AACH;;AAED,QAAI4G,MAAM,CAACE,OAAX,EAAoB;AAChBF,YAAM,CAACE,OAAP,CAAehL,OAAf,CAAuB,UAAUuM,CAAV,EAAa;AAChC,YAAI,CAACF,UAAU,CAACE,CAAC,CAAC7B,WAAH,CAAf,EAAgC;AAC5B4B,sBAAY,CAACtB,OAAb,CAAqBlL,IAArB,CAA0ByM,CAA1B;AACAF,oBAAU,CAACE,CAAC,CAAC7B,WAAH,CAAV,GAA4B,IAA5B;AACH;AACJ,OALD;AAMH;;AAED,QAAII,MAAM,CAAC/K,QAAX,EAAqB;AACjB+K,YAAM,CAAC/K,QAAP,CAAgBC,OAAhB,CAAwB,UAAUwM,CAAV,EAAa;AACjC,YAAI,CAACH,UAAU,CAACG,CAAC,CAAC9B,WAAH,CAAf,EAAgC;AAC5B4B,sBAAY,CAACvM,QAAb,CAAsBD,IAAtB,CAA2B0M,CAA3B;AACAH,oBAAU,CAACG,CAAC,CAAC9B,WAAH,CAAV,GAA4B,IAA5B;AACH;AACJ,OALD;AAMH;AACJ,GAvBD;AAyBA,SAAO4B,YAAP;AACH,CAlCD;;AAqCAzN,OAAO,CAACiN,oBAAR,GAA+B,YAAW;AACtC,SAAO;AACH/L,YAAQ,EAAE,CACN;AACA,QAAIE,OAAO,CAACsE,4BAAZ,EAFM,EAGN,IAAItE,OAAO,CAACuE,0BAAZ,EAHM,EAIN,IAAIvE,OAAO,CAACyE,oBAAZ,EAJM;AADP,GAAP;AAQH,CATD,C,CAYA;;;AAEA7F,OAAO,CAAC6M,YAAR,GAAuB,YAAY;AAC/B,MAAIe,YAAY,GAAG;AACfxN,UAAM,EAAE;AADO,GAAnB;AAIA,SAAOJ,OAAO,CAACgN,YAAR,CAAqB,CACxBhN,OAAO,CAAC+M,EAAR,CAAWa,YAAX,CADwB,EAExB5N,OAAO,CAACmN,EAAR,CAAWS,YAAX,CAFwB,EAGxB5N,OAAO,CAACoN,EAAR,CAAWQ,YAAX,CAHwB,EAIxB5N,OAAO,CAACqN,EAAR,CAAWO,YAAX,CAJwB,EAKxB5N,OAAO,CAACsN,EAAR,CAAWM,YAAX,CALwB,EAMxB5N,OAAO,CAACuN,EAAR,CAAWK,YAAX,CANwB,EAOxB5N,OAAO,CAAC6N,EAPgB,EAQxB7N,OAAO,CAACiN,oBARgB,CAArB,CAAP;AAUH,CAfD;;AAiBAjN,OAAO,CAACkM,YAAR,GAAuB,YAAY;AAC/B,SAAOlM,OAAO,CAACgN,YAAR,CAAqB,CACxBhN,OAAO,CAAC+M,EAAR,CAAWD,MADa,EAExB;AACA9M,SAAO,CAACmN,EAAR,CAAW;AAAE/M,UAAM,EAAE;AAAV,GAAX,CAHwB,EAIxBJ,OAAO,CAACoN,EAAR,CAAWN,MAJa,EAKxB9M,OAAO,CAACqN,EAAR,CAAWP,MALa,EAMxB9M,OAAO,CAACsN,EAAR,CAAWR,MANa,EAOxB9M,OAAO,CAACuN,EAAR,CAAWT,MAPa,EAQxB9M,OAAO,CAAC6N,EARgB,EASxB7N,OAAO,CAACiN,oBATgB,CAArB,CAAP;AAWH,CAZD,C,CAcA;;;AAEAjN,OAAO,CAACmN,EAAR,GAAa,UAASjN,MAAT,EAAiB;AAC1B,SAAO;AACHiM,WAAO,EAAE,CACL,IAAIJ,MAAM,CAACpH,sBAAX,CAAkCzE,MAAlC,CADK,EAEL,IAAI6L,MAAM,CAACnH,6BAAX,CAAyC1E,MAAzC,CAFK,EAGL,IAAI6L,MAAM,CAAClH,iBAAX,CAA6B3E,MAA7B,CAHK,EAIL,IAAI6L,MAAM,CAACjH,uBAAX,CAAmC5E,MAAnC,CAJK,EAKL,IAAI6L,MAAM,CAAChH,qBAAX,CAAiC7E,MAAjC,CALK,EAML,IAAI6L,MAAM,CAAC/G,sBAAX,CAAkC9E,MAAlC,CANK,CADN;AASHgB,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM,EAGN,IAAIxE,OAAO,CAACiF,sBAAZ,EAHM,EAIN,IAAIjF,OAAO,CAACgF,uBAAZ,EAJM;AATP,GAAP;AAgBH,CAjBD;;AAmBApG,OAAO,CAACmN,EAAR,CAAWL,MAAX,GAAoB,YAAW;AAC3B,MAAIb,MAAM,GAAGjM,OAAO,CAACmN,EAAR,CAAW;AACpB/M,UAAM,EAAE;AADY,GAAX,CAAb;AAGA6L,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC7G,kBAAX,EAAvB;AACA+G,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC9G,eAAX,EAAvB;AACA,SAAOgH,MAAP;AACH,CAPD,C,CAWA;;;AAGAjM,OAAO,CAAC+M,EAAR,GAAa,UAAS7M,MAAT,EAAiB;AAC1B,SAAO;AACHiM,WAAO,EAAE,CACL,IAAIJ,MAAM,CAAChK,iBAAX,CAA6B7B,MAA7B,CADK,EAEL,IAAI6L,MAAM,CAAC/J,sBAAX,CAAkC9B,MAAlC,CAFK,EAGL,IAAI6L,MAAM,CAAC7J,6BAAX,CAAyChC,MAAzC,CAHK,EAIL,IAAI6L,MAAM,CAAC5J,6BAAX,CAAyCjC,MAAzC,CAJK,EAKL,IAAI6L,MAAM,CAAC3J,iBAAX,CAA6BlC,MAA7B,CALK,EAML,IAAI6L,MAAM,CAAC1J,uBAAX,CAAmCnC,MAAnC,CANK,EAOL,IAAI6L,MAAM,CAACzJ,oCAAX,CAAgDpC,MAAhD,CAPK,EAQL,IAAI6L,MAAM,CAACxJ,wBAAX,CAAoCrC,MAApC,CARK,EASL,IAAI6L,MAAM,CAACvJ,qBAAX,CAAiCtC,MAAjC,CATK,EAUL,IAAI6L,MAAM,CAACrJ,uBAAX,CAAmCxC,MAAnC,CAVK,EAWL,IAAI6L,MAAM,CAACtJ,sBAAX,CAAkCvC,MAAlC,CAXK,CADN;AAcHgB,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM,EAIN;AACA,QAAIxE,OAAO,CAAC0E,sBAAZ,EALM,EAMN,IAAI1E,OAAO,CAAC2E,uBAAZ,EANM,EAON,IAAI3E,OAAO,CAAC4E,+BAAZ,EAPM;AAdP,GAAP;AAwBH,CAzBD;;AA2BAhG,OAAO,CAAC+M,EAAR,CAAWD,MAAX,GAAoB,UAAS5M,MAAT,EAAiB;AACjCA,QAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,QAAM,CAACE,MAAP,GAAgB,KAAhB;AACA,MAAI6L,MAAM,GAAGjM,OAAO,CAAC+M,EAAR,CAAW7M,MAAX,CAAb,CAHiC,CAKjC;;AACA+L,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACnJ,kBAAX,EAAvB;AACAqJ,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAClJ,kBAAX,EAAvB;AACAoJ,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACpJ,eAAX,EAAvB;AACAsJ,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC9J,0BAAX,EAAvB;AACA,SAAOgK,MAAP;AACH,CAXD;;AAcAjM,OAAO,CAACkN,KAAR,GAAgB,UAAShN,MAAT,EAAiB;AAC7BA,QAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,QAAM,CAAC6N,YAAP,GAAsB,IAAtB;AACA,SAAO/N,OAAO,CAAC+M,EAAR,CAAW7M,MAAX,CAAP;AACH,CAJD;;AAMAF,OAAO,CAACkN,KAAR,CAAcJ,MAAd,GAAuB,UAAS5M,MAAT,EAAiB;AACpCA,QAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,QAAM,CAAC6N,YAAP,GAAsB,IAAtB;AACA,SAAO/N,OAAO,CAAC+M,EAAR,CAAWD,MAAX,CAAkB5M,MAAlB,CAAP;AACH,CAJD,C,CAMA;;;AAEAF,OAAO,CAACuN,EAAR,GAAa,YAAW;AACpB,SAAO;AACHpB,WAAO,EAAE,CACL,IAAIJ,MAAM,CAACjJ,gBAAX,EADK,CADN;AAIH5B,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM,EAGN,IAAIxE,OAAO,CAAC6E,uBAAZ,EAHM;AAJP,GAAP;AAUH,CAXD;;AAaAjG,OAAO,CAACuN,EAAR,CAAWT,MAAX,GAAoB,YAAW;AAC3B,MAAIb,MAAM,GAAGjM,OAAO,CAACuN,EAAR,EAAb;AACAtB,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAChJ,kBAAX,EAAvB;AACA,SAAOkJ,MAAP;AACH,CAJD,C,CAMA;;;AAGAjM,OAAO,CAACoN,EAAR,GAAa,UAASlN,MAAT,EAAiB;AAC1B,SAAO;AACHiM,WAAO,EAAE,CACL,IAAIJ,MAAM,CAAC3I,qBAAX,CAAiClD,MAAjC,CADK,EAEL,IAAI6L,MAAM,CAAC9I,sBAAX,CAAkC/C,MAAlC,CAFK,EAGL,IAAI6L,MAAM,CAAC1I,sBAAX,CAAkCnD,MAAlC,CAHK,EAIL,IAAI6L,MAAM,CAAC7I,6BAAX,CAAyChD,MAAzC,CAJK,EAKL,IAAI6L,MAAM,CAAC5I,uBAAX,CAAmCjD,MAAnC,CALK,CADN;AAQHgB,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM;AARP,GAAP;AAaH,CAdD;;AAgBA5F,OAAO,CAACoN,EAAR,CAAWN,MAAX,GAAoB,YAAW;AAC3B,MAAIb,MAAM,GAAGjM,OAAO,CAACoN,EAAR,CAAW;AACpBhN,UAAM,EAAE;AADY,GAAX,CAAb;AAIA6L,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC/I,kBAAX,EAAvB;AACAiJ,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACzI,eAAX,EAAvB;AACA,SAAO2I,MAAP;AACH,CARD,C,CAUA;;;AAGAjM,OAAO,CAACqN,EAAR,GAAa,UAASnN,MAAT,EAAiB;AAC1B,SAAO;AACHiM,WAAO,EAAE,CACL,IAAIJ,MAAM,CAACtI,qBAAX,CAAiCvD,MAAjC,CADK,EAEL,IAAI6L,MAAM,CAACvI,sBAAX,CAAkCtD,MAAlC,CAFK,EAGL,IAAI6L,MAAM,CAACrI,sBAAX,CAAkCxD,MAAlC,CAHK,EAIL,IAAI6L,MAAM,CAACnI,6BAAX,CAAyC1D,MAAzC,CAJK,EAKL,IAAI6L,MAAM,CAAClI,uBAAX,CAAmC3D,MAAnC,CALK,CADN;AAQHgB,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM;AARP,GAAP;AAaH,CAdD;;AAgBA5F,OAAO,CAACqN,EAAR,CAAWP,MAAX,GAAoB,YAAW;AAC3B,MAAIb,MAAM,GAAGjM,OAAO,CAACqN,EAAR,CAAW;AACpBjN,UAAM,EAAE;AADY,GAAX,CAAb;AAIA6L,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACxI,kBAAX,EAAvB;AACA0I,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACpI,eAAX,EAAvB;AACA,SAAOsI,MAAP;AACH,CARD,C,CAWA;;;AAEAjM,OAAO,CAACsN,EAAR,GAAa,UAASpN,MAAT,EAAiB;AAC1B,SAAO;AACHiM,WAAO,EAAE,CACL,IAAIJ,MAAM,CAAChI,sBAAX,CAAkC7D,MAAlC,CADK,EAEL,IAAI6L,MAAM,CAAC/H,6BAAX,CAAyC9D,MAAzC,CAFK,EAGL,IAAI6L,MAAM,CAAC9H,uBAAX,CAAmC/D,MAAnC,CAHK,EAIL,IAAI6L,MAAM,CAAC7H,qBAAX,CAAiChE,MAAjC,CAJK,EAKL,IAAI6L,MAAM,CAAC5H,sBAAX,CAAkCjE,MAAlC,CALK,CADN;AAQHgB,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM,EAGN,IAAIxE,OAAO,CAAC8E,uBAAZ,EAHM,EAIN,IAAI9E,OAAO,CAAC+E,sBAAZ,EAJM;AARP,GAAP;AAeH,CAhBD;;AAkBAnG,OAAO,CAACsN,EAAR,CAAWR,MAAX,GAAoB,YAAW;AAC3B,MAAIb,MAAM,GAAGjM,OAAO,CAACsN,EAAR,CAAW;AACpBlN,UAAM,EAAE;AADY,GAAX,CAAb;AAIA6L,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAACjI,kBAAX,EAAvB;AACAmI,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC3H,eAAX,EAAvB;AACA6H,QAAM,CAACE,OAAP,CAAe2B,OAAf,CAAuB,IAAI/B,MAAM,CAAC1H,0BAAX,EAAvB;AACA,SAAO4H,MAAP;AACH,CATD,C,CAYA;;;AAEAjM,OAAO,CAAC6N,EAAR,GAAa,YAAW;AACpB,SAAO;AACH1B,WAAO,EAAE,CACL,IAAIJ,MAAM,CAACzH,gBAAX,EADK,EAEL,IAAIyH,MAAM,CAACxH,mBAAX,EAFK,EAGL,IAAIwH,MAAM,CAACvH,0BAAX,EAHK,EAIL,IAAIuH,MAAM,CAACtH,sBAAX,EAJK,EAKL,IAAIsH,MAAM,CAACrH,0BAAX,EALK,CADN;AAQHxD,YAAQ,EAAE,CACN,IAAIE,OAAO,CAACqE,qBAAZ,EADM,EAEN,IAAIrE,OAAO,CAACwE,kBAAZ,EAFM;AARP,GAAP;AAaH,CAdD,C;;;;;;AChSA;;;;;;;;;AASA,IAAM5I,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACX,0CADW,GAEX,MAFW,CAEJ;AAFI,EAGP,2BAHO,CAGqB;AAHrB,EAIP,sCAJO,CAIgC;AAJhC,EAKP,gCALO,CAK0B;AAL1B,EAMX,IANW,CAML;AANK,EAOX,WAPA,EAOa,GAPb,CAAd;AASA,IAAI4G,iBAAiB,GAAG,CAAxB;AACA,IAAIC,kBAAkB,GAAG,CAAzB;AACA,IAAIC,iBAAiB,GAAI,CAAzB;AACA,IAAIC,iBAAiB,GAAI,CAAzB;AACA,IAAIC,mBAAmB,GAAG,CAA1B;AACA,IAAIC,mBAAmB,GAAG,CAA1B;AACA,IAAIC,wBAAwB,GAAG,CAA/B;AACA,IAAIC,qBAAqB,GAAG,CAA5B;AACA,IAAIC,uBAAuB,GAAG,EAA9B;;AAEAxO,OAAO,CAACC,MAAR,GAAiB,SAAS8B,iBAAT,GAA4B;AACzC9B,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMAD,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BgM,QAAQ,CAACzK,KAAK,CAACwN,iBAAD,CAAN,CAApC;AACA7Q,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BgM,QAAQ,CAACzK,KAAK,CAACyN,kBAAD,CAAN,CAArC;AACA9Q,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BgM,QAAQ,CAACzK,KAAK,CAAC0N,iBAAD,CAAN,CAAnC;;AAEA,QAAIlR,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,OAAjB,CAAD,CAAL,GAAmC,EAAnC,IAAyC/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,OAAjB,CAAD,CAAL,GAAmC,CAA5E,IACA/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,KAAjB,CAAD,CAAL,GAAiC,EADjC,IACuC/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,KAAjB,CAAD,CAAL,GAAiC,CAD5E,EAC+E;AAC3E,aAAO,IAAP;AACH;;AAED,QAAIyB,KAAK,CAAC2N,iBAAD,CAAL,IAA4B,IAAhC,EAAsC;AAElChR,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EACQgM,QAAQ,CAACzK,KAAK,CAAC2N,iBAAD,CAAN,CADhB;AAEAhR,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EACQgM,QAAQ,CAACzK,KAAK,CAAC4N,mBAAD,CAAN,CADhB;;AAGA,UAAI5N,KAAK,CAAC6N,mBAAD,CAAL,IAA8B,IAAlC,EAAwC;AAEpClR,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EACQgM,QAAQ,CAACzK,KAAK,CAAC6N,mBAAD,CAAN,CADhB;AAEH;;AAED,UAAI7N,KAAK,CAAC8N,wBAAD,CAAL,IAAmC,IAAvC,EAA6C;AAEzCnR,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,aAApB,EACQgM,QAAQ,CAACzK,KAAK,CAAC8N,wBAAD,CAAN,CADhB;AAEH;;AAED,UAAI9N,KAAK,CAAC+N,qBAAD,CAAL,IAAgC,IAApC,EAA0C;AAEtCpR,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,gBAApB,EAAsC,CAAtC;AACH,OAHD,MAGO;AAEH,YAAIwP,YAAY,GAAG,CAAnB;AACA,YAAIC,UAAU,GAAGzD,QAAQ,CAACzK,KAAK,CAAC+N,qBAAD,CAAN,CAAzB;AACA,YAAI/N,KAAK,CAACgO,uBAAD,CAAL,IAAkC,IAAtC,EACIC,YAAY,GAAGxD,QAAQ,CAACzK,KAAK,CAACgO,uBAAD,CAAN,CAAvB;AAEJ,YAAIpG,MAAM,GAAGsG,UAAU,GAAG,EAA1B;;AACA,YAAItG,MAAM,GAAG,CAAb,EAAgB;AACZA,gBAAM,IAAIqG,YAAV;AACH,SAFD,MAEO;AACHrG,gBAAM,IAAIqG,YAAV;AACH;;AAEDtR,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,gBAApB,EAAsCmJ,MAAtC;AACH;AACJ;;AAEDjL,UAAM,CAACI,IAAP,CAAY,mBAAZ,IAAmC,IAAnC;AACA,WAAOJ,MAAP;AACH,GA9DD;AAgEH,CArED,C;;;;;;AChCA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,iBADqB,GAErB,GAFqB,GAEhBuH,IAAI,CAAC7H,qBAFW,GAEa,+CAFb,GAGrB,iEAHqB,GAIrB,WAJU,EAIG,GAJH,CAAd;AAOA,IAAI8H,cAAc,GAAG,IAAIxH,MAAJ,CAAW,YAC5B,iBAD4B,GAE5B,GAF4B,GAEvBuH,IAAI,CAAC7H,qBAFkB,GAEM,kBAFN,GAG5B,sCAH4B,GAI5B,WAJiB,EAIJ,GAJI,CAArB;;AAOA9G,OAAO,CAACC,MAAR,GAAiB,SAAS+B,sBAAT,GAAiC;AAC9C/B,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGnH,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAV;;AACA,QAAI+G,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,MAA4B7H,SAAhC,EAA2C;AACvC6H,SAAG,GAAGgH,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,CAAN;AACH,KAFD,MAEO,IAAIA,GAAG,KAAK,GAAR,IAAeA,GAAG,KAAK,IAA3B,EAAgC;AACnCA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,MAAV,CAAJ,EAAsB;AACzBmH,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,OAAV,CAAJ,EAAwB;AAC3BmH,SAAG,GAAG,GAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAGsD,QAAQ,CAACtD,GAAD,CAAd;AACH;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,sBAAf,CAAJ,EAA4C;AAExC,UAAIA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AACxBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AACH,OAFD,MAEO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAChCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAG,GAAG,CAAf,EAAkB,GAAlB,CAAP;AACH,OAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AACjCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,OAAd,CAAP;AACH,OAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAChCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACA,aAAOb,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAEzBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AAEH,KAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAE/BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AAEH,KAJM,MAIA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,SAAf,CAAJ,EAA+B;AAElCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACwB,IAAL,EAA3B;AACArC,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6BX,IAAI,CAACyB,MAAL,EAA7B;AACAtC,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6BX,IAAI,CAAC0B,MAAL,EAA7B;AACAvC,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AACA,WAAOJ,MAAP;AACH,GAjED;AAkEH,CAzED,C;;;;;;ACnBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,2BADqB,GAErB,GAFqB,GAEhBuH,IAAI,CAAC7H,qBAFW,GAEa,oCAFb,GAGrB,qEAHqB,GAIrB,WAJU,EAIG,GAJH,CAAd;AAOA,IAAI+H,mBAAmB,GAAG,CAA1B;AACA,IAAIC,qBAAqB,GAAG,CAA5B;AACA,IAAIC,mBAAmB,GAAG,CAA1B;;AAEA/O,OAAO,CAACC,MAAR,GAAiB,SAASgC,0BAAT,GAAqC;AAClDhC,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIsH,QAAQ,GAAG7H,KAAK,CAACqO,mBAAD,CAAL,CAA2BjH,WAA3B,GAAyCpH,KAAzC,CAA+C,OAA/C,IAA0D,CAA1D,GAA8D,CAAC,CAA9E;AACA,QAAIlD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAKAD,UAAM,CAACI,IAAP,CAAY,4BAAZ,IAA4C,IAA5C;AAEA,QAAIoK,GAAG,GAAGnH,KAAK,CAACsO,qBAAD,CAAL,KAAiChP,SAAjC,GAA6C,EAA7C,GAAkDU,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAA5D;;AACA,QAAI+G,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,MAA4B7H,SAAhC,EAA2C;AACvC6H,SAAG,GAAGgH,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,CAAN;AACH,KAFD,MAEO,IAAIA,GAAG,KAAK,EAAZ,EAAe;AAClBA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,MAAV,CAAJ,EAAsB;AACzBmH,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,OAAV,CAAJ,EAAwB;AAC3BmH,SAAG,GAAG,GAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAGsD,QAAQ,CAACtD,GAAD,CAAd;AACH;;AAEDA,OAAG,IAAIU,QAAP;AACA,QAAIrK,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,QAAIoD,KAAK,CAACqO,mBAAD,CAAL,CAA2BjH,WAA3B,GAAyCpH,KAAzC,CAA+C,OAA/C,CAAJ,EAA6D;AAEzD,UAAIA,KAAK,CAACsO,qBAAD,CAAT,EAAkC;AAC9B,eAAO,IAAP;AACH;;AAED,UAAItO,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,sBAAjC,CAAJ,EAA8D;AAE1D;AACA,YAAIA,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,OAAjC,CAAJ,EAA+C;AAC3CxC,cAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACtB,IAAI,CAACe,GAAL,CAAS,GAAT,CAAV,EAAyB,GAAzB,CAAP;AACA5B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACH,SALD,CAOA;AAPA,aAQK,IAAI2B,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,QAAjC,CAAJ,EAAgD;AACjDxC,gBAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACtB,IAAI,CAACA,IAAL,EAAD,GAAe,CAAxB,EAA2B,GAA3B,CAAP;AACAb,kBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACH,WALI,CAOL;AAPK,eAQA,IAAI4B,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,OAAjC,CAAJ,EAA+C;AAChDxC,kBAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACtB,IAAI,CAACA,IAAL,EAAD,GAAe,CAAxB,EAA2B,GAA3B,CAAP;AACAA,kBAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACtB,IAAI,CAACY,KAAL,EAAV,EAAwB,OAAxB,CAAP;AAEAzB,oBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,oBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,oBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACH;;AAED,eAAO1B,MAAP;AACH;AACJ;;AAED,QAAIqD,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,sBAAjC,CAAJ,EAA8D;AAE1D,UAAIA,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,MAAjC,CAAJ,EAA8C;AAC1CxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AACAxK,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACH,OALD,MAKO,IAAIwC,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,OAAjC,CAAJ,EAA+C;AAClDxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAG,GAAG,CAAf,EAAkB,GAAlB,CAAP,CADkD,CAElD;AACA;;AACAxK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACH,OAPM,MAOA,IAAI2B,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,QAAjC,CAAJ,EAAgD;AACnDxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,OAAd,CAAP,CADmD,CAEnD;;AACAxK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACH,OANM,MAMA,IAAI4B,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,OAAjC,CAAJ,EAA+C;AAClDxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP,CADkD,CAElD;;AACAxK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,cAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACH;;AAED,aAAO1B,MAAP;AACH;;AAED,QAAIqD,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,OAAjC,CAAJ,EAA+C;AAE3CxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AACAxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6BX,IAAI,CAACyB,MAAL,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6BX,IAAI,CAAC0B,MAAL,EAA7B;AAEH,KAND,MAMO,IAAIc,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,MAAjC,CAAJ,EAA8C;AAEjDxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACAxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6BX,IAAI,CAAC0B,MAAL,EAA7B;AAEH,KANM,MAMA,IAAIc,KAAK,CAACuO,mBAAD,CAAL,CAA2BvO,KAA3B,CAAiC,SAAjC,CAAJ,EAAiD;AAEpDxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACAxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACH;;AAEDtC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,WAAOb,MAAP;AACH,GA3HD;AA4HH,CAjID,C;;;;;;AChBA,IAAM4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAAtB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACjB,cADiB,GAEjB,uGAFiB,GAGjB,gCAHiB,GAGkBuH,IAAI,CAAC3H,qBAHvB,GAG+C,GAH/C,GAIjB,SAJiB,GAKb,2CALa,GAMb,gCANa,GAMsB2H,IAAI,CAAC3H,qBAN3B,GAMmD,GANnD,GAOjB,IAPiB,GAQjB,0BARiB,GASjB,GATiB,GASX2H,IAAI,CAACnI,aATM,GASU,GATV,GAUjB,KAViB,GAWb,iBAXa,GAYb,MAZa,GAaT,kCAbS,GAcT,eAdS,GAeb,iBAfa,GAgBjB,IAhBiB,GAiBjB,WAjBM,EAiBO,GAjBP,CAAd;AAoBA,IAAIyB,aAAa,GAAG,CAApB;AACA,IAAI+G,UAAU,GAAG,CAAjB;AACA,IAAIC,cAAc,GAAG,CAArB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,iBAAiB,GAAG,CAAxB;AACA,IAAIC,gBAAgB,GAAG,CAAvB;AACA,IAAIC,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAASiC,6BAAT,GAAwC;AACrD6J,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAGhB,KAAK,CAACyO,cAAD,CAAL,GACNhE,QAAQ,CAACzK,KAAK,CAACyO,cAAD,CAAN,CADF,GAENN,IAAI,CAAC5H,aAAL,CAAmBvG,KAAK,CAACwO,UAAD,CAAL,CAAkBM,IAAlB,GAAyB1I,OAAzB,CAAiC,GAAjC,EAAsC,GAAtC,EAA2CgB,WAA3C,EAAnB,CAFJ;AAIA,QAAI/I,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;;AAEA,UAAI,MAAME,IAAN,CAAW1Q,IAAX,CAAJ,EAAsB;AAClB;AACAA,YAAI,GAAGA,IAAI,CAAC+H,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;AACA/H,YAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAR,GAAiB,GAAxB;AACH,OAJD,MAIO,IAAI,MAAM0Q,IAAN,CAAW1Q,IAAX,CAAJ,EAAqB;AACxB;AACAA,YAAI,GAAGA,IAAI,CAAC+H,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;AACA/H,YAAI,GAAG,CAACoM,QAAQ,CAACpM,IAAD,CAAhB;AACH,OAJM,MAIA,IAAI,MAAM0Q,IAAN,CAAW1Q,IAAX,CAAJ,EAAqB;AACxBA,YAAI,GAAGA,IAAI,CAAC+H,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;AACA/H,YAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;AACH,OAHM,MAGA;AACHA,YAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AACA,YAAIA,IAAI,GAAG,GAAX,EAAe;AACXA,cAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KA/CyC,CAiD1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KAtDyC,CAwD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB,UAAIlF,OAAO,GAAGxJ,KAAK,CAAC2O,iBAAD,CAAL,GACVlE,QAAQ,CAACzK,KAAK,CAAC2O,iBAAD,CAAN,CADE,GAEVR,IAAI,CAAC5H,aAAL,CAAmBvG,KAAK,CAAC0O,aAAD,CAAL,CAAqBI,IAArB,GAA4B1I,OAA5B,CAAoC,GAApC,EAAyC,GAAzC,EAA8CgB,WAA9C,EAAnB,CAFJ;AAIAzK,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyB+K,OAAzB;AACH;;AAED7M,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GApED;AAqEH,CA1ED,C;;;;;;AChCA;;;;;;;;;;;;;;;AAeA,IAAI4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,cAFiB,GAGjB,oHAHiB,GAIrB,cAJqB,GAKrB,GALqB,GAKfuH,IAAI,CAACnI,aALU,GAKM,GALN,GAMrB,qBANqB,GAOrB,gCAPqB,GAOcmI,IAAI,CAAC3H,qBAPnB,GAO0C,wBAP1C,GAOqE,EAPrE,GAQrB,KARqB,GASjB,gBATiB,GAUjB,iCAViB,GAUmB2H,IAAI,CAAC3H,qBAVxB,GAUgD,OAVhD,GAWrB,IAXqB,GAYrB,KAZqB,GAajB,qBAbiB,GAcjB,2DAdiB,GAerB,IAfqB,GAgBrB,qBAhBU,EAgBa,GAhBb,CAAd;AAkBA,IAAIiB,aAAa,GAAG,CAApB;AACA,IAAImH,gBAAgB,GAAG,CAAvB;AACA,IAAIJ,UAAU,GAAG,CAAjB;AACA,IAAIC,cAAc,GAAG,CAArB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,iBAAiB,GAAG,CAAxB;AACA,IAAIE,UAAU,GAAG,CAAjB;AACA,IAAII,aAAa,GAAG,CAApB;AACA,IAAIC,WAAW,GAAG,EAAlB;AACA,IAAIC,cAAc,GAAG,EAArB;;AAEA3P,OAAO,CAACC,MAAR,GAAiB,SAASkC,6BAAT,GAAwC;AACrD4J,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAOA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AACA,QAAIpG,GAAG,GAAGhB,KAAK,CAACyO,cAAD,CAAL,GACNhE,QAAQ,CAACzK,KAAK,CAACyO,cAAD,CAAN,CADF,GAENN,IAAI,CAAC5H,aAAL,CAAmBvG,KAAK,CAACwO,UAAD,CAAL,CAAkBM,IAAlB,GAAyB1I,OAAzB,CAAiC,GAAjC,EAAsC,GAAtC,EAA2CgB,WAA3C,EAAnB,CAFJ;AAIA,QAAI/I,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAL,IAAqB7O,KAAK,CAACkP,WAAD,CAA9B,EAA6C;AACzC7Q,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqB7O,KAAK,CAACkP,WAAD,CAAjC;AACA7Q,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;AAEA,UAAI+Q,MAAM,GAAGpP,KAAK,CAACiP,aAAD,CAAL,IAAwBjP,KAAK,CAACmP,cAAD,CAA1C;;AACA,UAAIC,MAAJ,EAAY;AACR,YAAI,MAAML,IAAN,CAAWK,MAAX,CAAJ,EAAwB;AACpB;AACA/Q,cAAI,GAAGA,IAAI,GAAG,GAAd;AACH,SAHD,MAGO,IAAI,MAAM0Q,IAAN,CAAWK,MAAX,CAAJ,EAAwB;AAC3B;AACA/Q,cAAI,GAAG,CAACA,IAAR;AACH;AACJ,OARD,MAQO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KA5CyC,CA8C1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KAnDyC,CAqD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB,UAAIlF,OAAO,GAAGxJ,KAAK,CAAC2O,iBAAD,CAAL,GACVnF,OAAO,GAAGiB,QAAQ,CAACzK,KAAK,CAAC2O,iBAAD,CAAN,CADR,GAEVR,IAAI,CAAC5H,aAAL,CAAmBvG,KAAK,CAAC0O,aAAD,CAAL,CAAqBtI,OAArB,CAA6B,GAA7B,EAAkC,GAAlC,EAAuC0I,IAAvC,GAA8C1H,WAA9C,EAAnB,CAFJ;AAIAzK,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyB+K,OAAzB;AACH;;AAED7M,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GAjED;AAkEH,CAvED,C;;;;;;AChDA;;;;;;;;;AASA,IAAI4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,0BACrB,GADqB,GAChBuH,IAAI,CAACnI,aADW,GACI,GADJ,GAErB,MAFqB,GAGrB,KAHqB,GAIjB,oCAJiB,GAKrB,IALqB,GAMrB,kCANU,EAM0B,GAN1B,CAAd;AAQA,IAAI4I,gBAAgB,GAAG,CAAvB;AACA,IAAIC,UAAU,GAAG,CAAjB;AACA,IAAII,aAAa,GAAG,CAApB;;AAEAzP,OAAO,CAACC,MAAR,GAAiB,SAASmC,iBAAT,GAA4B;AACzC2J,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAOA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAG,CAAV;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAG2B,KAAK,CAACiP,aAAD,CAAR,EAAwB;AACpB,YAAIjP,KAAK,CAACiP,aAAD,CAAL,CAAqBjP,KAArB,CAA2B,IAA3B,CAAJ,EAAsC;AAClC;AACA3B,cAAI,GAAGA,IAAI,GAAG,GAAd;AACH,SAHD,MAGO,IAAI2B,KAAK,CAACiP,aAAD,CAAL,CAAqBjP,KAArB,CAA2B,IAA3B,CAAJ,EAAsC;AACzC;AACA3B,cAAI,GAAG,CAACA,IAAR;AACH;AAEJ,OATD,MASO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B6C,GAA1B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B6C,GAA1B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH;;AAED1B,UAAM,CAACI,IAAP,CAAY,mBAAZ,IAAmC,IAAnC;AACA,WAAOJ,MAAP;AACH,GA9CD;AA+CH,CApDD,C;;;;;;ACzBA;;;;;;;;;;;;;;AAcA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,cAFiB,GAGjB,oEAHiB,GAIjB,cAJiB,GAKrB,IALqB,GAMrB,qDANqB,GAOrB,KAPqB,GAQjB,aARiB,GASjB,uCATiB,GAUrB,IAVqB,GAWrB,SAXU,EAWC,GAXD,CAAd;AAaA,IAAIU,WAAW,GAAG;AAAE,YAAU,CAAZ;AAAe,SAAO,CAAtB;AAAyB,YAAU,CAAnC;AAAsC,SAAO,CAA7C;AAA+C,aAAW,CAA1D;AAA6D,eAAa,CAA1E;AAA6E,SAAO,CAApF;AACd,cAAY,CADE;AACC,UAAQ,CADT;AACW,YAAU,CADrB;AACwB,SAAO,CAD/B;AACiC,cAAY,CAD7C;AACgD,SAAO;AADvD,CAAlB;AAIA,IAAI+H,cAAc,GAAG,CAArB;AACA,IAAIC,YAAY,GAAG,CAAnB;AAEA,IAAI7H,aAAa,GAAG,CAApB;AAGA,IAAI8H,mBAAmB,GAAG,CAA1B;AACA,IAAIC,oBAAoB,GAAG,CAA3B;AAEA,IAAIX,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAASoC,uBAAT,CAAiCnC,MAAjC,EAAyC;AACtDD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;AACAxI,QAAM,GAAGA,MAAM,IAAI,EAAnB;AACA,MAAI6N,YAAY,GAAI7N,MAAM,CAAC6N,YAA3B;AACA,MAAIkC,WAAW,GAAGlC,YAAY,GAAGiC,oBAAH,GAA0BD,mBAAxD;AACA,MAAIG,SAAS,GAAGnC,YAAY,GAAGgC,mBAAH,GAAyBC,oBAArD;;AAEA,OAAK1P,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAGD,KAAK,CAACqP,cAAD,CAAL,IAAyB,GAAzB,IAAgCrP,KAAK,CAACsP,YAAD,CAAL,IAAuB,GAA1D,EAA+D;AAC3D;AACA;AACA;AACAtP,WAAK,CAACnD,KAAN,IAAemD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAxB;AACA;AACH;;AAED,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAACsP,YAAD,CAAL,CAAoB/O,MAApF,CAAX;AAGA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAGE,IAAI,CAACkD,KAAL,CAAW,UAAX,CAAH,EAA2B;AAC3B,QAAGlD,IAAI,CAACkD,KAAL,CAAW,wBAAX,CAAH,EAAyC,OArBC,CAuB1C;AACA;;AACA,QAAG,CAACA,KAAK,CAAC6O,UAAD,CAAN,IAAsB7O,KAAK,CAAC,CAAD,CAAL,CAAS2P,OAAT,CAAiB,GAAjB,IAAwB,CAAjD,EAAoD;AAEpD,QAAInS,IAAI,GAAG,IAAX;AACA,QAAIa,IAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqBrS,KAAK,CAACI,GAAD,CAAL,CAAWyB,IAAX,KAAoB,EAApD;AACA,QAAID,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAKhB,KAAK,CAAC0P,SAAD,CAAjB;AAEAtR,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AACA4C,OAAG,GAAIyJ,QAAQ,CAACzJ,GAAD,CAAf;AACA3C,QAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,QAAGD,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,EAAxB,EAA4B;AACxB,UAAGA,KAAK,GAAG,EAAX,EAAe;AACX;AACA;AACA,YAAI4C,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI,EAAnB,IAAyB5C,KAAK,IAAI,EAAlC,IAAwCA,KAAK,IAAI,EAArD,EAAyD;AACrD;AACA,cAAIwR,IAAI,GAAGxR,KAAX;AACAA,eAAK,GAAG4C,GAAR;AACAA,aAAG,GAAG4O,IAAN;AACH,SALD,MAMK;AACD;AACA,iBAAO,IAAP;AACH;AACJ;AACJ;;AACD,QAAG5O,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAApB,EAAwB,OAAO,IAAP;;AAExB,QAAG3C,IAAI,GAAG,GAAV,EAAc;AACV,UAAIA,IAAI,GAAG,EAAX,EAAe;AACXA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH,OAFD,MAEO;AACHA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;;AACA,QAAI4B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBlS,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAFD,MAEO;AACH1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KApEyC,CAsE1C;;;AACA,QAAG2B,KAAK,CAACyH,aAAD,CAAR,EAAyB;AACrB9K,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+B6I,WAAW,CAACtH,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAD,CAA1C;AACH;;AAEDzK,UAAM,CAACI,IAAP,CAAY,yBAAZ,IAAyC,IAAzC;AACA,WAAOJ,MAAP;AACH,GA7ED;AA8EH,CAtFD,C;;;;;;AC9CA;;;;;;;AAOA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACX,uBADW,GAEX,MAFW,GAEFuH,IAAI,CAACnI,aAFH,GAEmB,0BAFnB,GAGX,cAHW,GAIX,WAJA,EAIa,GAJb,CAAd;AAMA,IAAIwH,iBAAiB,GAAG,CAAxB;AACA,IAAIC,kBAAkB,GAAG,CAAzB;AACA,IAAIC,iBAAiB,GAAI,CAAzB;;AAEAlO,OAAO,CAACC,MAAR,GAAiB,SAASqC,oCAAT,GAA+C;AAC5DrC,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAACyN,kBAAD,CAAL,CAA0BrG,WAA1B,EAAZ;AACAhJ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAlB,IAA2BA,KAAnC;AAEAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BgM,QAAQ,CAACzK,KAAK,CAACwN,iBAAD,CAAN,CAApC;AACA7Q,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BgM,QAAQ,CAACrM,KAAD,CAArC;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BgM,QAAQ,CAACzK,KAAK,CAAC0N,iBAAD,CAAN,CAAnC;;AAEA,QACIlR,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,OAAjB,CAAD,CAAL,GAAmC,EAAnC,IAAyC/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,OAAjB,CAAD,CAAL,GAAmC,CAA5E,IACA/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,KAAjB,CAAD,CAAL,GAAiC,EADjC,IACuC/B,KAAK,CAACG,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,KAAjB,CAAD,CAAL,GAAiC,CAF5E,EAE+E;AAC3E,aAAO,IAAP;AACH;;AAED5B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GA1BD;AA2BH,CAhCD,C;;;;;;ACtBA;;;;;AAKA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,8BACrB,kCADqB,GAErB,eAFU,EAEO,GAFP,CAAd;AAIA,IAAIyI,cAAc,GAAG,CAArB;AAEA,IAAII,WAAW,GAAG,CAAlB;AACA,IAAIZ,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAASsC,wBAAT,CAAkC8N,QAAlC,EAA4C;AACzDpQ,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAvD,EAA+DuO,IAA/D,EAAX;AAEA,QAAInS,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIyB,IAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAhB;AACA,QAAIzQ,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAK,CAAZ;AAEA5C,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AACAC,QAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;AAEA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B6C,GAA1B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AAEA1B,UAAM,CAACI,IAAP,CAAY,0BAAZ,IAA0C,IAA1C;AACA,WAAOJ,MAAP;AACH,GAxBD;AAyBH,CA7BD,C;;;;;;ACjBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,KACrB,SADqB,GAErB,iBAFqB,GAGrB,GAHqB,GAGfuH,IAAI,CAACtH,iBAHU,GAGU,GAHV,GAIrB,qCAJU,EAI6B,GAJ7B,CAAd;AAMA,IAAIuH,cAAc,GAAG,IAAIxH,MAAJ,CAAW,KAC5B,SAD4B,GAE5B,iBAF4B,GAG5B,GAH4B,GAGtBuH,IAAI,CAACrH,wBAHiB,GAGU,GAHV,GAI5B,kBAJiB,EAIG,GAJH,CAArB;;AAMAtH,OAAO,CAACC,MAAR,GAAiB,SAASuC,qBAAT,GAAgC;AAC7CvC,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIlD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqK,SAAS,GAAGkH,IAAI,CAACpH,4BAAL,CAAkC/G,KAAK,CAAC,CAAD,CAAvC,CAAhB;AACA,QAAIxC,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,SAAK,IAAIsB,GAAT,IAAgB+I,SAAhB,EAA2B;AACvBzJ,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACmI,SAAS,CAAC/I,GAAD,CAAnB,EAA0BA,GAA1B,CAAP;AACH;;AAED,QAAI+I,SAAS,CAAC,MAAD,CAAT,GAAoB,CAApB,IAAyBA,SAAS,CAAC,QAAD,CAAT,GAAsB,CAA/C,IAAoDA,SAAS,CAAC,QAAD,CAAT,GAAsB,CAA9E,EAAiF;AAC7EtK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,YAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AACH;;AAED,QAAIkK,SAAS,CAAC,GAAD,CAAT,GAAiB,CAAjB,IAAsBA,SAAS,CAAC,OAAD,CAAT,GAAqB,CAA3C,IAAgDA,SAAS,CAAC,MAAD,CAAT,GAAoB,CAAxE,EAA2E;AACvEtK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACH,KAJD,MAIO;AACH,UAAI4I,SAAS,CAAC,MAAD,CAAT,GAAoB,CAAxB,EAA2B;AACvBtK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACH;;AAEDrE,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACH;;AAED,WAAO1B,MAAP;AACH,GA3CD;AA4CH,CAnDD,C;;;;;;ACjBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAI6S,iBAAiB,GAAI,IAAIlJ,MAAJ,CAAW,cAChC,uBADgC,GAEhC,0BAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,uCANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,iDATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAaA,IAAImJ,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW,UAChC,8BADgC,GAEhC,YAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,6CANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,iDATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAYA,IAAIoJ,UAAU,GAAM,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,kBAAkB,GAAI,CAA1B;AACA,IAAIC,gBAAgB,GAAG,CAAvB;;AAGA5Q,OAAO,CAACC,MAAR,GAAiB,SAASwC,sBAAT,GAAiC;AAC9CxC,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOgQ,iBAAP;AAA2B,GAAvD;;AAEA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AACxD,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAtC;AACA5D,UAAM,CAACG,IAAP,GAAekD,KAAK,CAAC,CAAD,CAAL,CAASQ,SAAT,CAAmBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5B,CAAf;AACA5D,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AAEAJ,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA4B8C,SAAS,CAACzD,IAAV,EAA5B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAkB,CAA9C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA4B8C,SAAS,CAAC5C,IAAV,EAA5B;AAEA,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAjB0C,CAmB1C;;AACA,QAAGrQ,KAAK,CAACmQ,kBAAD,CAAL,IAA6B,IAAhC,EAAqC;AACjC,UAAIhR,WAAW,GAAGsL,QAAQ,CAACzK,KAAK,CAACmQ,kBAAD,CAAL,CAA0B3P,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,CAAD,CAA1B;AACA,UAAGrB,WAAW,IAAI,IAAlB,EAAwB,OAAO,IAAP;AAExBxC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,aAApB,EAAmCU,WAAnC;AACH,KAzByC,CA2B1C;;;AACA,QAAGa,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH,KAjCyC,CAmC1C;;;AACA,QAAIc,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,MAAvC,EAA8C;AAC1CiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,EAAP;AACH,KAHD,MAGO,IAAIgB,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,UAAvC,EAAmD;AACtDiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,CAAP;AACH,KAHM,MAGA;AACHA,UAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;AACH,KA5CyC,CA8C1C;;;AACA,QAAGhQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACH,KAFD,MAEO,IAAGjR,IAAI,GAAG,GAAV,EAAe;AAClBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KA/DyC,CAiE1C;;;AACA,QAAGrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA9B,EAAoC;AAChC,UAAGpR,IAAI,GAAG,EAAV,EAAc,OAAO,IAAP;AACd,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAGkJ,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,GAAG,CAAP;AAClB;;AAED,UAAGsR,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;AACJ;;AAEDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AAEA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KAFD,MAEO;AACH,UAAIrR,IAAI,GAAG,EAAX,EAAe;AACXrC,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAFD,MAEO;AACHxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH;AACJ,KA3FyC,CA6F1C;AACA;AACA;;;AACA6B,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR,aAAOrD,MAAP;AACH,KAnGyC,CAuG1C;;;AACA,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,wBAAf,CAAJ,EAA8C;AAC1C,aAAOrD,MAAP;AACH;;AAED,QAAGA,MAAM,CAACO,GAAP,IAAc,IAAjB,EAAsB;AAClBP,YAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2BN,MAAM,CAACK,KAAP,CAAaQ,IAAb,EAA3B,CAAb;AACH;;AAED,QAAIwB,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAlH0C,CAoH1C;;AACA,QAAGrQ,KAAK,CAACmQ,kBAAD,CAAL,IAA6B,IAAhC,EAAqC;AACjC,UAAIhR,WAAW,GAAGsL,QAAQ,CAACzK,KAAK,CAACmQ,kBAAD,CAAL,CAA0B3P,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,CAAD,CAA1B;AACA,UAAGrB,WAAW,IAAI,IAAlB,EAAwB,OAAO,IAAP;AAExBxC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,aAAlB,EAAiCU,WAAjC;AACH,KA1HyC,CA4H1C;;;AACA,QAAGa,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAf,CApI0C,CAsI1C;;AACA,QAAIA,KAAK,CAACiQ,YAAD,CAAL,IAAsB,IAA1B,EAAgC;AAE5BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAOtC,MAAP;AAEpB,KALD,MAKO,IAAIqC,IAAI,GAAG,GAAX,EAAgB;AAEnBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KA3JyC,CA6J1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAoC;AAEhC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;AAEf,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAGkJ,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAe;AACXA,cAAI,GAAG,CAAP;;AACA,cAAI,CAACrC,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,KAArB,CAAL,EAAkC;AAC9B/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;AACJ;AACJ;;AAED,UAAG+R,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AACJ;;AAED5B,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH,KAFD,MAEO;AACH,UAAIE,SAAS,GAAG5T,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,KAAsC/B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,UAAjB,KAAgC,CAAtF;;AACA,UAAIgS,SAAS,IAAI5T,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2BS,IAA5C,EAAkD;AAC9C;AACArC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AAEH,OAJD,MAIO,IAAIa,IAAI,GAAG,EAAX,EAAe;AAClBrC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AACH;AACJ;;AAED,QAAIxB,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GA3ND;AA4NH,CAjOD,C;;;;;;ACrCA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW;AACrB;AAAa,SADQ;AAErB;AAAa,QAFQ;AAGrB;AAAa,GAHQ,GAGFuH,IAAI,CAACtH,iBAHH,GAGuB,GAHvB;AAIrB;AAAa,gDAJQ;AAKrB;AAAa,eALH,EAMd,GANc,CAAd;AAQA,IAAIuH,cAAc,GAAG,IAAIxH,MAAJ,CAAW;AAC5B;AAAa,SADe;AAE5B;AAAa,QAFe;AAG5B;AAAa,GAHe,GAGTuH,IAAI,CAACrH,wBAHI,GAGuB,GAHvB;AAI5B;AAAa,mBAJe;AAK5B;AAAa,eALI,EAMrB,GANqB,CAArB;;AAQAtH,OAAO,CAACC,MAAR,GAAiB,SAASyC,uBAAT,GAAkC;AAC/CzC,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIqI,MAAM,GAAGrI,KAAK,CAAC,CAAD,CAAlB;AACA,QAAIwQ,MAAM,GAAGxQ,KAAK,CAAC,CAAD,CAAlB;AACA,QAAI,CAACqI,MAAD,IAAW,CAACmI,MAAhB,EAAwB,OAAO,IAAP;AAExB,QAAIC,QAAQ,GAAGzQ,KAAK,CAAC,CAAD,CAApB;AACA,QAAIlD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBsI,QAAQ,CAAClQ,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBkQ,QAAQ,CAAClQ,MAA5D,CAAZ;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAc4T,QAAQ,CAAClQ,MAAnC;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqK,SAAS,GAAGkH,IAAI,CAACpH,4BAAL,CAAkC/G,KAAK,CAAC,CAAD,CAAvC,CAAhB;AACA,QAAIxC,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,SAAK,IAAIsB,GAAT,IAAgB+I,SAAhB,EAA2B;AACvBzJ,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASmI,SAAS,CAAC/I,GAAD,CAAlB,EAAyBA,GAAzB,CAAP;AACH;;AAED,QAAI+I,SAAS,CAAC,MAAD,CAAT,GAAoB,CAApB,IAAyBA,SAAS,CAAC,QAAD,CAAT,GAAsB,CAA/C,IAAoDA,SAAS,CAAC,QAAD,CAAT,GAAsB,CAA9E,EAAiF;AAC7EtK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,YAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AACH;;AAED,QAAIkK,SAAS,CAAC,GAAD,CAAT,GAAiB,CAAjB,IAAsBA,SAAS,CAAC,OAAD,CAAT,GAAqB,CAA3C,IAAgDA,SAAS,CAAC,MAAD,CAAT,GAAoB,CAAxE,EAA2E;AACvEtK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACH,KAJD,MAIO;AACH,UAAI4I,SAAS,CAAC,MAAD,CAAT,GAAoB,CAAxB,EAA2B;AACvBtK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACH;;AAEDrE,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACH;;AAED,WAAO1B,MAAP;AACH,GA7CD;AA8CH,CArDD,C;;;;;;ACrBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,sGAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAAS2C,kBAAT,GAA6B;AAE1C3C,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;AACA,QAAIyP,SAAS,GAAG5T,IAAI,CAACsK,WAAL,EAAhB;;AAEA,QAAGsJ,SAAS,IAAI,SAAhB,EAA0B;AACtB;AACA/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAEH,KALD,MAKO,IAAI,iBAAiB4Q,IAAjB,CAAsB2B,SAAtB,CAAJ,EAAsC;AAEzC;AACA,UAAGzP,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AAEJ,KAPM,MAOA,IAAI,aAAaiQ,IAAb,CAAkB2B,SAAlB,CAAJ,EAAkC;AAErC5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AAEH,KAJM,MAIA,IAAG4R,SAAS,CAAC1Q,KAAV,CAAgB,cAAhB,CAAH,EAAoC;AAEvCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;;AACA,UAAI8C,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;AAEJ,KAPM,MAOA,IAAI4R,SAAS,CAAC1Q,KAAV,CAAgB,KAAhB,CAAJ,EAA4B;AAEjCrD,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BwC,SAAS,CAACjC,IAAV,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BwC,SAAS,CAAChC,MAAV,EAA9B;AACAtC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BwC,SAAS,CAAC/B,MAAV,EAA9B;AACAvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,aAApB,EAAmCwC,SAAS,CAAC9B,WAAV,EAAnC;AAED;;AAEDxC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GAnDD;AAoDH,CA1DD,C;;;;;;ACNA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,2DAAd;AAEA,IAAIoJ,UAAU,GAAG,CAAjB;;AAEAnR,OAAO,CAACC,MAAR,GAAiB,SAAS4C,kBAAT,GAA6B;AAE1C5C,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAGA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAG,CAACoD,KAAK,CAAC2Q,UAAD,CAAT,EAAuBA,UAAU,GAAG,CAAb;;AAEvB,YAAQ3Q,KAAK,CAAC2Q,UAAD,CAAL,CAAkBvJ,WAAlB,EAAR;AAEI,WAAK,WAAL;AACIzK,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACA;;AAEJ,WAAK,SAAL;AACA,WAAK,OAAL;AACIxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACA;;AAEJ,WAAK,SAAL;AACIxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACA;;AAEJ,WAAK,MAAL;AACIxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACA;AArBR;;AAwBAxB,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GAtCD;AAuCH,CA9CD,C;;;;;;ACPA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAM8O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAAtB;;AACA,IAAMC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA7C;;AAEA,IAAMyR,IAAI,GAAI1R,mBAAO,CAAC,EAAD,CAArB;;AAEA,IAAM8K,OAAO,GAAG,qFAAhB;AACA,IAAMqJ,kBAAkB,GAAI,CAA5B;AACA,IAAMC,kBAAkB,GAAI,CAA5B;AACA,IAAMC,SAAS,GAAW,CAA1B;AACA,IAAMtD,iBAAiB,GAAG,CAA1B;AACA,IAAMiC,WAAW,GAAS,CAA1B;AACA,IAAMC,SAAS,GAAW,CAA1B;;AAEAlQ,OAAO,CAACC,MAAR,GAAiB,SAAS6C,gBAAT,GAA2B;AACxCiJ,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CADe;AAE1BnD,WAAK,EAAEmD,KAAK,CAACnD,KAFa;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACArR,SAAK,GAAG+P,IAAI,CAAC4C,SAAL,CAAe3S,KAAf,CAAR;AACAA,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AAEA,QAAI4C,GAAG,GAAGhB,KAAK,CAAC0P,SAAD,CAAf;AACA1O,OAAG,GAAGmN,IAAI,CAAC4C,SAAL,CAAe/P,GAAf,CAAN;AACAA,OAAG,GAAGyJ,QAAQ,CAACzJ,GAAD,CAAd;AAEArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;;AAEA,QAAI4B,KAAK,CAAC6Q,kBAAD,CAAT,EAA+B;AAE3B,UAAIxS,IAAI,GAAG2B,KAAK,CAACwN,iBAAD,CAAhB;;AACA,UAAInP,IAAI,IAAI,GAAZ,EAAiB;AACbA,YAAI,GAAG,CAAP;AACH,OAFD,MAEO;AACHA,YAAI,GAAG8P,IAAI,CAAC4C,SAAL,CAAe1S,IAAf,CAAP;AACAA,YAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;AACH;;AAED,UAAI2B,KAAK,CAAC8Q,SAAD,CAAL,IAAoB,IAAxB,EAA8B;AAC1BzS,YAAI,IAAI,IAAR;AACH,OAFD,MAEO,IAAI2B,KAAK,CAAC8Q,SAAD,CAAL,IAAoB,IAAxB,EAA8B;AACjCzS,YAAI,IAAI,IAAR;AACH,OAFM,MAEA,IAAI2B,KAAK,CAAC8Q,SAAD,CAAL,IAAoB,IAAxB,EAA8B;AACjCzS,YAAI,IAAI,IAAR;AACH;;AAED1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AAEH,KApBD,MAoBO,IAAI2B,KAAK,CAAC4Q,kBAAD,CAAL,IAA6B5Q,KAAK,CAAC4Q,kBAAD,CAAL,CAA0B5Q,KAA1B,CAAgC,OAAhC,CAAjC,EAA2E;AAC9E,UAAMT,MAAM,GAAG/C,KAAK,CAACI,GAAD,CAApB;AACAD,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4Bc,MAAM,CAAClB,IAAP,EAA5B;AACH,KAHM,MAGA;AACH,UAAMA,KAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAb;;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,KAA3B;AACH;;AAED1B,UAAM,CAACI,IAAP,CAAY,kBAAZ,IAAkC,IAAlC;AACA,WAAOJ,MAAP;AACH,GAhDD;AAkDH,CAvDD,C;;;;;;ACZA;;;;;;;;;AAUA6C,OAAO,CAACuR,SAAR,GAAqB,UAAUC,MAAV,EAAkBC,YAAlB,EAAgC;AAEjD,WAASF,SAAT,CAAoBvG,MAApB,EAA4B;AACxB,WAAOwG,MAAM,CAACxG,MAAD,CAAN,CAAepE,OAAf,CAAuB,SAAvB,EAAkC,GAAlC,EAA4CA,OAA5C,CAAoD,SAApD,EAA+D,IAA/D,EAAyEA,OAAzE,CAAiF,SAAjF,EAA4F,GAA5F,EAAsGA,OAAtG,CAA8G,SAA9G,EAAyH,MAAzH,EAAmIA,OAAnI,CAA2I,gHAA3I,EAA6P8K,QAA7P,CAAP;AACH;;AAED,WAASA,QAAT,CAAmBC,KAAnB,EAA0B;AACtB,WAAOF,YAAY,CAACE,KAAK,CAACC,UAAN,CAAiB,CAAjB,IAAsB,KAAvB,CAAnB;AACH;;AAED,SAAOL,SAAP;AACH,CAXmB,CAWjBC,MAXiB,EAWTA,MAAM,CAACC,YAXE,CAApB;AAaA;;;;;;;;;;;AASAzR,OAAO,CAAC6R,SAAR,GAAqB,UAAUL,MAAV,EAAkBC,YAAlB,EAAgC;AAEjD,WAASI,SAAT,CAAoB7G,MAApB,EAA4B;AACxB,WAAOwG,MAAM,CAACxG,MAAD,CAAN,CAAepE,OAAf,CAAuB,SAAvB,EAAkC,QAAlC,EAA4CA,OAA5C,CAAoD,SAApD,EAA+D,QAA/D,EAAyEA,OAAzE,CAAiF,SAAjF,EAA4F,QAA5F,EAAsGA,OAAtG,CAA8G,SAA9G,EAAyH,QAAzH,EAAmIA,OAAnI,CAA2I,qCAA3I,EAAkL8K,QAAlL,CAAP;AACH;;AAED,WAASA,QAAT,CAAmBC,KAAnB,EAA0B;AACtB,WAAOF,YAAY,CAACE,KAAK,CAACC,UAAN,CAAiB,CAAjB,IAAsB,KAAvB,CAAnB;AACH;;AAED,SAAOC,SAAP;AACH,CAXmB,CAWjBL,MAXiB,EAWTA,MAAM,CAACC,YAXE,CAApB,C;;;;;;AClCA,IAAMzU,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,0BAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAAS8C,kBAAT,GAA6B;AAE1C9C,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAlB;AACA,QAAIC,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACA,QAAIrD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;;AAEA,QAAGnE,IAAI,IAAI,IAAR,IAAgBA,IAAI,IAAI,IAAxB,IAAgCA,IAAI,IAAI,IAA3C,EAAgD;AAC5C;AACAH,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAEH,KALD,MAKO,IAAGrB,IAAI,IAAI,IAAX,EAAgB;AAEnB;AACA,UAAGmE,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AAEJ,KAPM,MAOA,IAAGhC,IAAI,IAAI,IAAX,EAAiB;AAEpBgL,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AAEH,KAJM,MAIA,IAAIhC,IAAI,CAACkD,KAAL,CAAW,IAAX,CAAJ,EAAsB;AAEzBrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACAxB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH;;AAEDxB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GAxCD;AAyCH,CA/CD,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;AAEA;;;;;;;;;;;;;;;;;AAeA,IAAI6K,OAAO,GAAG,yHAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAAS+C,kBAAT,GAA6B;AAE1C/C,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;AACA,QAAIyP,SAAS,GAAG5T,IAAI,CAACsK,WAAL,GAAmBhB,OAAnB,CAA2B,MAA3B,EAAmC,GAAnC,CAAhB;;AAEA,QAAGsK,SAAS,IAAI,QAAhB,EAAyB;AAErB;AACA,UAAGzP,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AAEJ,KAPD,MAOO,IAAG4R,SAAS,IAAI,OAAhB,EAAyB;AAE5B5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,KAHM,MAIF,IAAG4R,SAAS,IAAI,OAAhB,EAAyB;AAE1B/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;;AACA,UAAI8C,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;AAEJ,KAPI,MAOE,IAAI4R,SAAS,CAAC1Q,KAAV,CAAgB,MAAhB,CAAJ,EAA6B;AAEhC,UAAIsR,WAAW,GAAGtR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAlB;;AACA,UAAIkK,WAAW,IAAI,OAAnB,EAA4B;AAExB3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,OAJD,MAIO,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAE/B3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AAEH,OAJM,MAIA,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAEjC;AACA3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAED;AACJ,KAlBM,MAkBA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,MAAhB,CAAJ,EAA6B;AAEhC,UAAIuR,UAAU,GAAGvR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAjB;;AACA,UAAImK,UAAU,KAAK,OAAnB,EAA4B;AAExBzJ,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AAEH,OAJD,MAIO,IAAIyS,UAAU,KAAK,QAAnB,EAA6B;AAEhCzJ,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AAEH;;AAED,UAAIwS,WAAW,GAAGtR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAlB;;AACA,UAAIkK,WAAW,IAAI,OAAnB,EAA4B;AAExB3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,OAJD,MAIO,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAE/B3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AAEH,OAJM,MAIA,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAEjC;AACA3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAED;AAEJ,KA9BM,MA8BA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,OAAhB,CAAJ,EAA8B;AAEnCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAACjC,IAAV,EAA3B;AACArC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAChC,MAAV,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAC/B,MAAV,EAA7B;AACAvC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,aAAnB,EAAkC8C,SAAS,CAAC9B,WAAV,EAAlC;AAED;;AAEDxC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GA9FD;AA+FH,CArGD,C;;;;;;ACrBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,iGAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASgD,sBAAT,GAAiC;AAC9ChD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGsD,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAlB;;AACA,QAAIwR,KAAK,CAACrK,GAAD,CAAT,EAAgB;AACd,UAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,aAAf,CAAJ,EAAmC;AACjCmH,WAAG,GAAG,GAAN;AACD,OAFD,MAEO;AACLA,WAAG,GAAG,CAAN;AACD;AACF;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AACvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AAEAxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,aAAOb,MAAP;AACH;;AAGD,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAExBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AAEH,KAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAEjCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AACA,WAAOJ,MAAP;AACH,GAhDD;AAiDH,CAtDD,C;;;;;;ACNA,IAAI4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,EAAD,CAAnB;;AAEA,IAAI6K,WAAW,GAAG6G,IAAI,CAACrI,cAAvB;AAEA,IAAIyB,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACjB,sKADiB,GAEjB,wBAFiB,GAGjB,gFAHiB,GAIjB,wMAJiB,GAKjB,uFALiB,GAMjB,WANM,EAMO,GANP,CAAd;AASA,IAAIa,aAAa,GAAG,CAApB;AACA,IAAI+G,UAAU,GAAG,CAAjB;AACA,IAAIE,aAAa,GAAG,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;AACA,IAAIC,UAAU,GAAG,CAAjB;AACA,IAAII,aAAa,GAAG,CAApB;;AAEAzP,OAAO,CAACC,MAAR,GAAiB,SAASiD,6BAAT,GAAwC;AACrD6I,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAGhB,KAAK,CAACwO,UAAD,CAAf;AACAxN,OAAG,GAAGyJ,QAAQ,CAACzJ,GAAD,CAAd;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAG2B,KAAK,CAACiP,aAAD,CAAR,EAAwB;AACpB,YAAI,eAAeF,IAAf,CAAoB/O,KAAK,CAACiP,aAAD,CAAzB,CAAJ,EAA+C;AAC3C;AACA5Q,cAAI,GAAG,CAACA,IAAR;AACH;AACJ,OALD,MAKO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KAvCyC,CAyC1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KA9CyC,CAgD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB/R,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyBgM,QAAQ,CAACzK,KAAK,CAAC0O,aAAD,CAAN,CAAjC;AACH;;AAED/R,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GAxDD;AAyDH,CA9DD,C;;;;;;ACvBA6C,OAAO,CAACsG,cAAR,GAAyB;AACrB,aAAW,CADU;AAErB,SAAO,CAFc;AAGrB,aAAW,CAHU;AAIrB,mBAAiB,CAJI;AAKrB,SAAO,CALc;AAMrB,WAAS,CANY;AAOrB,WAAS,CAPY;AAQrB,iBAAe,CARM;AASrB,iBAAe,CATM;AAUrB,SAAM,CAVe;AAWrB,YAAU,CAXW;AAYrB,kBAAgB,CAZK;AAarB,SAAO,CAbc;AAcrB,YAAU,CAdW;AAerB,kBAAgB,CAfK;AAgBrB,SAAO,CAhBc;AAiBrB,WAAS,CAjBY;AAkBrB,iBAAe,CAlBM;AAmBrB,SAAO,CAnBc;AAoBrB,YAAU,CApBW;AAqBrB,YAAU,CArBW;AAsBrB,SAAO;AAtBc,CAAzB;AAwBEtG,OAAO,CAACuG,YAAR,GAAuB;AACrB,aAAW,CADU;AAErB,SAAO,CAFc;AAGrB,UAAQ,CAHa;AAIrB,eAAa,CAJQ;AAKrB,SAAO,CALc;AAMrB,UAAQ,CANa;AAOrB,WAAS,CAPY;AAQrB,SAAO,CARc;AASrB,UAAQ,CATa;AAUrB,WAAS,CAVY;AAWrB,SAAO,CAXc;AAYrB,UAAQ,CAZa;AAarB,UAAQ,CAba;AAcrB,SAAO,CAdc;AAerB,UAAQ,CAfa;AAgBrB,WAAS,CAhBY;AAiBrB,SAAO,CAjBc;AAkBrB,UAAQ,CAlBa;AAmBrB,WAAS,CAnBY;AAoBrB,SAAO,CApBc;AAqBrB,UAAQ,CArBa;AAsBrB,YAAU,CAtBW;AAuBrB,SAAO,CAvBc;AAwBrB,UAAQ,CAxBa;AAyBrB,cAAY,CAzBS;AA0BrB,SAAO,CA1Bc;AA2BrB,UAAQ,CA3Ba;AA4BrB,aAAW,EA5BU;AA6BrB,SAAO,EA7Bc;AA8BrB,UAAQ,EA9Ba;AA+BrB,cAAY,EA/BS;AAgCrB,SAAO,EAhCc;AAiCrB,UAAQ,EAjCa;AAkCrB,cAAY,EAlCS;AAmCrB,SAAO,EAnCc;AAoCrB,UAAQ;AApCa,CAAvB,C;;;;;;ACxBF;;;;;;AAMA,IAAMvJ,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,uJAFiB,GAGjB,cAHiB,GAIrB,IAJqB,GAKrB,qDALqB,GAMrB,KANqB,GAOjB,aAPiB,GAQjB,uCARiB,GASrB,IATqB,GAUrB,SAVU,EAUC,GAVD,CAAd;AAYA,IAAIU,WAAW,GAAG;AAAE,aAAW,CAAb;AAAgB,SAAO,CAAvB;AAA0B,aAAW,CAArC;AAAwC,mBAAiB,CAAzD;AAA4D,SAAO,CAAnE;AAAsE,WAAS,CAA/E;AAAkF,iBAAe,CAAjG;AAAoG,SAAO,CAA3G;AAA8G,YAAU,CAAxH;AAA2H,kBAAgB,CAA3I;AAA8I,SAAO,CAArJ;AACd,YAAU,CADI;AACD,kBAAgB,CADf;AACkB,SAAO,CADzB;AAC4B,WAAS,CADrC;AACwC,iBAAe,CADvD;AAC0D,SAAO,CADjE;AACoE,YAAU,CAD9E;AACiF,YAAU,CAD3F;AAC8F,SAAO;AADrG,CAAlB;AAIA,IAAI+H,cAAc,GAAG,CAArB;AACA,IAAIC,YAAY,GAAG,CAAnB,C,CAEA;;AACA,IAAI7H,aAAa,GAAG,CAApB;AACA,IAAIgI,WAAW,GAAG,CAAlB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIb,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAASkD,uBAAT,CAAiCkN,QAAjC,EAA2C;AACxDpQ,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAGD,KAAK,CAACqP,cAAD,CAAL,IAAyB,GAAzB,IAAgCrP,KAAK,CAACsP,YAAD,CAAL,IAAuB,GAA1D,EAA+D;AAC3D;AACA;AACA;AACAtP,WAAK,CAACnD,KAAN,IAAemD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAxB;AACA;AACH;;AAED,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAACsP,YAAD,CAAL,CAAoB/O,MAApF,CAAX;AAGA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAGE,IAAI,CAACkD,KAAL,CAAW,UAAX,CAAH,EAA2B;AAC3B,QAAGlD,IAAI,CAACkD,KAAL,CAAW,wBAAX,CAAH,EAAyC,OArBC,CAuB1C;AACA;;AACA,QAAG,CAACA,KAAK,CAAC6O,UAAD,CAAN,IAAsB7O,KAAK,CAAC,CAAD,CAAL,CAAS2P,OAAT,CAAiB,GAAjB,IAAwB,CAAjD,EAAoD;AAEpD,QAAInS,IAAI,GAAG,IAAX;AACA,QAAIa,IAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqBrS,KAAK,CAACI,GAAD,CAAL,CAAWyB,IAAX,KAAoB,EAApD;AACA,QAAID,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAKhB,KAAK,CAAC0P,SAAD,CAAjB;AAEAtR,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AACA4C,OAAG,GAAIyJ,QAAQ,CAACzJ,GAAD,CAAf;AACA3C,QAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,QAAGD,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,EAAxB,EAA4B;AACxB,UAAGA,KAAK,GAAG,EAAX,EAAe;AACX;AACA;AACA,YAAI4C,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI,EAAnB,IAAyB5C,KAAK,IAAI,EAAlC,IAAwCA,KAAK,IAAI,EAArD,EAAyD;AACrD;AACA,cAAIwR,IAAI,GAAGxR,KAAX;AACAA,eAAK,GAAG4C,GAAR;AACAA,aAAG,GAAG4O,IAAN;AACH,SALD,MAMK;AACD;AACA,iBAAO,IAAP;AACH;AACJ;AACJ;;AACD,QAAG5O,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAApB,EAAwB,OAAO,IAAP;;AAExB,QAAG3C,IAAI,GAAG,GAAV,EAAc;AACV,UAAGA,IAAI,GAAG,EAAV,EAAa;AACTA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH,OAFD,MAEK;AACDA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B,EAhE0C,CAkE1C;;AACA,QAAG2B,KAAK,CAACyH,aAAD,CAAR,EAAyB;AACrB9K,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+B6I,WAAW,CAACtH,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAD,CAA1C;AACH;;AAEDzK,UAAM,CAACI,IAAP,CAAY,yBAAZ,IAAyC,IAAzC;AACA,WAAOJ,MAAP;AACH,GAzED;AA0EH,CA9ED,C;;;;;;ACnCA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,iGAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASmD,qBAAT,GAAgC;AAC7CnD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIlD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AACA1D,SAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAA/B;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGsD,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAlB;;AACA,QAAIwR,KAAK,CAACrK,GAAD,CAAT,EAAgB;AACd,UAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AACzBmH,WAAG,GAAG,GAAN;AACD,OAFD,MAEO;AACLA,WAAG,GAAG,CAAN;AACD;AACF;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,KAA0BA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAA9B,EAAwD;AACpD,UAAIA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAExBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEH,OAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAEjCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,QAAf,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AACA,aAAOJ,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAC1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEAxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACA,aAAOrE,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AACvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,GAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AACvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,OAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AAEvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA,WAAO1B,MAAP;AAEH,GAxED;AAyEH,CAhFD,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAI6S,iBAAiB,GAAI,IAAIlJ,MAAJ,CAAW,cAChC,gCADgC,GAEhC,oDAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,qBANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAaA,IAAImJ,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW,UAChC,mCADgC,GAEhC,YAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,2BANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAYA,IAAIoJ,UAAU,GAAM,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;;AAEA5Q,OAAO,CAACC,MAAR,GAAiB,SAASoD,sBAAT,GAAiC;AAC9CpD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOgQ,iBAAP;AAA2B,GAAvD;;AAEA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AACxD,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAtC;AACA5D,UAAM,CAACG,IAAP,GAAekD,KAAK,CAAC,CAAD,CAAL,CAASQ,SAAT,CAAmBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5B,CAAf;AACA5D,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AAEAJ,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA4B8C,SAAS,CAACzD,IAAV,EAA5B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAkB,CAA9C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA4B8C,SAAS,CAAC5C,IAAV,EAA5B;AAEA,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAjB0C,CAmB1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH,KAzByC,CA2B1C;;;AACA,QAAIc,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,GAAgCpH,KAAhC,CAAsC,UAAtC,CAAJ,EAAsD;AAClDqQ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,EAAP;AACH,KAHD,MAGO,IAAIgB,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,YAAvC,EAAqD;AACxDiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,CAAP;AACH,KAHM,MAGA;AACHA,UAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;AACH,KApCyC,CAsC1C;;;AACA,QAAGhQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACH,KAFD,MAEO,IAAGjR,IAAI,GAAG,GAAV,EAAe;AAClBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvDyC,CAyD1C;;;AACA,QAAGrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA9B,EAAoC;AAChC,UAAGpR,IAAI,GAAG,EAAV,EAAc,OAAO,IAAP;AACd,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAGkJ,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,GAAG,CAAP;AAClB;;AAED,UAAGsR,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;AACJ;;AACDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KA3EyC,CA6E1C;AACA;AACA;;;AACArQ,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR;AACA,UAAIrD,MAAM,CAACG,IAAP,CAAYkD,KAAZ,CAAkB,OAAlB,CAAJ,EAAgC;AAC5B,eAAO,IAAP;AACH;;AACD,aAAOrD,MAAP;AACH,KAvFyC,CA2F1C;;;AACA,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,wBAAf,CAAJ,EAA8C;AAC1C,aAAOrD,MAAP;AACH;;AAED,QAAGA,MAAM,CAACO,GAAP,IAAc,IAAjB,EAAsB;AAClBP,YAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2BN,MAAM,CAACK,KAAP,CAAaQ,IAAb,EAA3B,CAAb;AACH;;AAED,QAAIwB,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAtG0C,CAwG1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAf,CAhH0C,CAkH1C;;AACA,QAAIA,KAAK,CAACiQ,YAAD,CAAL,IAAsB,IAA1B,EAAgC;AAE5BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAOtC,MAAP;AAEpB,KALD,MAKO,IAAIqC,IAAI,GAAG,GAAX,EAAgB;AAEnBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvIyC,CAyI1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAoC;AAEhC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;;AAEf,UAAGgB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAe;AACXA,cAAI,GAAG,CAAP;;AACA,cAAI,CAACrC,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,KAArB,CAAL,EAAkC;AAC9B/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;AACJ;AACJ;;AAED,UAAGyB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AAEJ,KAtCD,MAsCO,IAAGS,IAAI,IAAI,EAAX,EAAe;AAClBqR,cAAQ,GAAG,CAAX;AACH;;AAED1T,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH;;AAED,QAAI1T,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GAhMD;AAiMH,CAtMD,C;;;;;;ACnCA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIiL,qBAAqB,GAAGlL,mBAAO,CAAC,CAAD,CAAP,CAAiCkL,qBAA7D;;AAEA,IAAIL,WAAW,GAAG;AAAE,aAAW,CAAb;AAAgB,SAAO,CAAvB;AAA0B,aAAW,CAArC;AAAwC,mBAAiB,CAAzD;AAA4D,SAAO,CAAnE;AAAsE,WAAS,CAA/E;AAAkF,iBAAe,CAAjG;AAAoG,SAAO,CAA3G;AAA8G,YAAU,CAAxH;AAA2H,kBAAgB,CAA3I;AAA8I,SAAO,CAArJ;AACd,YAAU,CADI;AACD,kBAAgB,CADf;AACkB,SAAO,CADzB;AAC4B,WAAS,CADrC;AACwC,iBAAe,CADvD;AAC0D,SAAO,CADjE;AACoE,YAAU,CAD9E;AACiF,YAAU,CAD3F;AAC8F,SAAO;AADrG,CAAlB;AAGA,IAAIC,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,0BADqB,GAErB,yCAFqB,GAGrB,GAHqB,GAGfX,MAAM,CAACC,IAAP,CAAYoB,WAAZ,EAAyBnB,IAAzB,CAA8B,GAA9B,CAHe,GAGsB,GAHtB,GAIrB,0BAJqB,GAKrB,mDALqB,GAMrB,WANU,EAMG,GANH,CAAd;AAQA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAlI,OAAO,CAACC,MAAR,GAAiB,SAASqD,eAAT,GAA2B;AACxCrD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAX;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAhB;AACA,QAAIQ,MAAM,GAAGN,WAAW,CAACc,SAAD,CAAxB;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIuI,QAAQ,GAAG,IAAf;AACA,QAAIQ,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;AACA,QAAIc,OAAO,GAAGtI,KAAK,CAAC0H,aAAD,CAAnB;;AACA,QAAIW,MAAM,IAAIC,OAAd,EAAuB;AACnB,UAAIC,IAAI,GAAGF,MAAM,IAAIC,OAArB;AACAC,UAAI,GAAGA,IAAI,CAACnB,WAAL,EAAP;;AAEA,UAAGmB,IAAI,IAAI,SAAX,EAAsB;AAClBV,gBAAQ,GAAG,MAAX;AACH,OAFD,MAGK,IAAGU,IAAI,IAAI,SAAR,IAAqBA,IAAI,IAAI,SAAhC,EAA2C;AAC5CV,gBAAQ,GAAG,MAAX;AACH,OAFI,MAGA,IAAGU,IAAI,IAAG,MAAV,EAAkB;AACnBV,gBAAQ,GAAI,MAAZ;AACH;AACJ;;AAEDF,yBAAqB,CAAChL,MAAD,EAASC,GAAT,EAAcgL,MAAd,EAAsBC,QAAtB,CAArB;AACAlL,UAAM,CAACI,IAAP,CAAY,iBAAZ,IAAiC,IAAjC;AACA,WAAOJ,MAAP;AACH,GAlCD;AAmCH,CAxCD,C;;;;;;ACnBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;AAEA;;;;;;;;;;;;;;;;;;AAgBA,IAAI6K,OAAO,GAAG,2HAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASsD,kBAAT,GAA6B;AAE1CtD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;AACA,QAAIyP,SAAS,GAAG5T,IAAI,CAACsK,WAAL,GAAmBhB,OAAnB,CAA2B,MAA3B,EAAmC,GAAnC,CAAhB;;AAEA,QAAGsK,SAAS,IAAI,QAAhB,EAAyB;AAErB;AACA,UAAGzP,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AAEJ,KAPD,MAOO,IAAG4R,SAAS,IAAI,MAAhB,EAAwB;AAE3B5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,KAHM,MAIF,IAAG4R,SAAS,IAAI,QAAhB,EAA0B;AAE3B/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;;AACA,UAAI8C,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;AAEJ,KAPI,MAOE,IAAI4R,SAAS,CAAC1Q,KAAV,CAAgB,MAAhB,CAAJ,EAA6B;AAEhC,UAAIsR,WAAW,GAAGtR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAlB;;AACA,UAAIkK,WAAW,IAAI,OAAnB,EAA4B;AAExB3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,OAJD,MAIO,IAAImT,WAAW,IAAI,QAAnB,EAA6B;AAEhC3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AAEH,OAJM,MAIA,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAEjC;AACA3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAED;AACJ,KAlBM,MAkBA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,UAAhB,CAAJ,EAAiC;AAEpC,UAAIuR,UAAU,GAAGvR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAjB;;AACA,UAAImK,UAAU,KAAK,MAAnB,EAA2B;AAEvBzJ,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AAEH,OAJD,MAIO,IAAIyS,UAAU,KAAK,QAAnB,EAA6B;AAEhCzJ,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AAEH;;AAED,UAAIwS,WAAW,GAAGtR,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAlB;;AACA,UAAIkK,WAAW,IAAI,OAAnB,EAA4B;AAExB3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,OAJD,MAIO,IAAImT,WAAW,IAAI,QAAnB,EAA6B;AAEhC3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AAEH,OAJM,MAIA,IAAImT,WAAW,IAAI,OAAnB,EAA4B;AAEjC;AACA3U,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAED;AAEJ,KA9BM,MA8BA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,OAAhB,CAAJ,EAA8B;AAEnCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAACjC,IAAV,EAA3B;AACArC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAChC,MAAV,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAC/B,MAAV,EAA7B;AACAvC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,aAAnB,EAAkC8C,SAAS,CAAC9B,WAAV,EAAlC;AAED;;AAEDxC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GA9FD;AA+FH,CArGD,C;;;;;;ACtBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,8FAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASuD,sBAAT,GAAiC;AAC9CvD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGsD,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAlB;;AACA,QAAIwR,KAAK,CAACrK,GAAD,CAAT,EAAgB;AACd,UAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC1BmH,WAAG,GAAG,GAAN;AACD,OAFD,MAEO;AACLA,WAAG,GAAG,CAAN;AACD;AACF;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAC1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AACAxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,aAAOb,MAAP;AACH;;AAGD,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAExBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AAEH,KAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAEjCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AACA,WAAOJ,MAAP;AACH,GA/CD;AAgDH,CArDD,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,uGAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASwD,qBAAT,GAAgC;AAC7CxD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIlD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AACA1D,SAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAA/B;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGsD,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAlB;;AACA,QAAIwR,KAAK,CAACrK,GAAD,CAAT,EAAgB;AACd,UAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC1BmH,WAAG,GAAG,GAAN;AACD,OAFD,MAEO;AACLA,WAAG,GAAG,CAAN;AACD;AACF;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,KAA0BA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAA9B,EAAwD;AACpD,UAAIA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAExBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEH,OAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAEjCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,QAAf,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AACA,aAAOJ,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAC1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEAxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACA,aAAOrE,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAC1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,GAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AACvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,OAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,KAAf,CAAJ,EAA2B;AAEvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA,WAAO1B,MAAP;AAEH,GAxED;AAyEH,CAhFD,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAI6S,iBAAiB,GAAI,IAAIlJ,MAAJ,CAAW,cAChC,kCADgC,GAEhC,mCAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,qBANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAaA,IAAImJ,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW,UAChC,wCADgC,GAEhC,YAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,2BANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAYA,IAAIoJ,UAAU,GAAM,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;;AAEA5Q,OAAO,CAACC,MAAR,GAAiB,SAASyD,sBAAT,GAAiC;AAC9CzD,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOgQ,iBAAP;AAA2B,GAAvD;;AAEA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AACxD,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAtC;AACA5D,UAAM,CAACG,IAAP,GAAekD,KAAK,CAAC,CAAD,CAAL,CAASQ,SAAT,CAAmBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5B,CAAf;AACA5D,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AAEAJ,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA4B8C,SAAS,CAACzD,IAAV,EAA5B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAkB,CAA9C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA4B8C,SAAS,CAAC5C,IAAV,EAA5B;AAEA,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAjB0C,CAmB1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH,KAzByC,CA2B1C;;;AACA,QAAIc,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,GAAgCpH,KAAhC,CAAsC,QAAtC,CAAJ,EAAoD;AAChDqQ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,EAAP;AACH,KAHD,MAGO,IAAIgB,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,YAAvC,EAAqD;AACxDiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,CAAP;AACH,KAHM,MAGA;AACHA,UAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;AACH,KApCyC,CAsC1C;;;AACA,QAAGhQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACH,KAFD,MAEO,IAAGjR,IAAI,GAAG,GAAV,EAAe;AAClBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvDyC,CAyD1C;;;AACA,QAAGrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA9B,EAAoC;AAChC,UAAGpR,IAAI,GAAG,EAAV,EAAc,OAAO,IAAP;AACd,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAGkJ,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,GAAG,CAAP;AAClB;;AAED,UAAGsR,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;AACJ;;AACDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KA3EyC,CA6E1C;AACA;AACA;;;AACArQ,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR;AACA,UAAIrD,MAAM,CAACG,IAAP,CAAYkD,KAAZ,CAAkB,OAAlB,CAAJ,EAAgC;AAC5B,eAAO,IAAP;AACH;;AACD,aAAOrD,MAAP;AACH,KAvFyC,CA2F1C;;;AACA,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,wBAAf,CAAJ,EAA8C;AAC1C,aAAOrD,MAAP;AACH;;AAED,QAAGA,MAAM,CAACO,GAAP,IAAc,IAAjB,EAAsB;AAClBP,YAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2BN,MAAM,CAACK,KAAP,CAAaQ,IAAb,EAA3B,CAAb;AACH;;AAED,QAAIwB,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAtG0C,CAwG1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAf,CAhH0C,CAkH1C;;AACA,QAAIA,KAAK,CAACiQ,YAAD,CAAL,IAAsB,IAA1B,EAAgC;AAE5BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAOtC,MAAP;AAEpB,KALD,MAKO,IAAIqC,IAAI,GAAG,GAAX,EAAgB;AAEnBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvIyC,CAyI1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAoC;AAEhC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;;AAEf,UAAGgB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAe;AACXA,cAAI,GAAG,CAAP;;AACA,cAAI,CAACrC,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,KAArB,CAAL,EAAkC;AAC9B/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;AACJ;AACJ;;AAED,UAAGyB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AAEJ,KAtCD,MAsCO,IAAGS,IAAI,IAAI,EAAX,EAAe;AAClBqR,cAAQ,GAAG,CAAX;AACH;;AAED1T,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH;;AAED,QAAI1T,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GAhMD;AAiMH,CAtMD,C;;;;;;ACnCA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIiL,qBAAqB,GAAGlL,mBAAO,CAAC,CAAD,CAAP,CAAiCkL,qBAA7D;;AAEA,IAAIL,WAAW,GAAG;AAAE,aAAW,CAAb;AAAgB,SAAO,CAAvB;AAA0B,WAAS,CAAnC;AAAsC,SAAO,CAA7C;AAAgD,YAAU,CAA1D;AAA6D,SAAM,CAAnE;AAAsE,eAAa,CAAnF;AAAsF,eAAa,CAAnG;AAAsG,SAAO,CAA7G;AACd,YAAU,CADI;AACD,SAAO,CADN;AACS,aAAW,CADpB;AACuB,UAAQ,CAD/B;AACkC,YAAU,CAD5C;AAC+C,YAAU,CADzD;AAC4D,SAAO;AADnE,CAAlB;AAGA,IAAIC,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,0BADqB,GAErB,mCAFqB,GAGrB,GAHqB,GAGfX,MAAM,CAACC,IAAP,CAAYoB,WAAZ,EAAyBnB,IAAzB,CAA8B,GAA9B,CAHe,GAGsB,GAHtB,GAIrB,0BAJqB,GAKrB,2CALqB,GAMrB,WANU,EAMG,GANH,CAAd;AAQA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAlI,OAAO,CAACC,MAAR,GAAiB,SAAS0D,eAAT,GAA2B;AACxC1D,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAX;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAhB;AACA,QAAIQ,MAAM,GAAGN,WAAW,CAACc,SAAD,CAAxB;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIuI,QAAQ,GAAG,IAAf;AACA,QAAIQ,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;AACA,QAAIc,OAAO,GAAGtI,KAAK,CAAC0H,aAAD,CAAnB;;AACA,QAAIW,MAAM,IAAIC,OAAd,EAAuB;AACnB,UAAIC,IAAI,GAAGF,MAAM,IAAIC,OAArB;AACAC,UAAI,GAAGA,IAAI,CAACnB,WAAL,EAAP;;AAEA,UAAGmB,IAAI,IAAI,QAAX,EAAqB;AACjBV,gBAAQ,GAAG,MAAX;AACH,OAFD,MAGK,IAAGU,IAAI,IAAI,SAAR,IAAqBA,IAAI,IAAI,SAAhC,EAA2C;AAC5CV,gBAAQ,GAAG,MAAX;AACH,OAFI,MAGA,IAAGU,IAAI,IAAG,MAAV,EAAkB;AACnBV,gBAAQ,GAAI,MAAZ;AACH;AACJ;;AAEDF,yBAAqB,CAAChL,MAAD,EAASC,GAAT,EAAcgL,MAAd,EAAsBC,QAAtB,CAArB;AACAlL,UAAM,CAACI,IAAP,CAAY,iBAAZ,IAAiC,IAAjC;AACA,WAAOJ,MAAP;AACH,GAlCD;AAmCH,CAxCD,C;;;;;;ACnBA,IAAI4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,EAAD,CAAnB;;AAEA,IAAI6K,WAAW,GAAG6G,IAAI,CAACrI,cAAvB;AAEA,IAAIyB,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACjB,oHADiB,GAEjB,wBAFiB,GAGjB,sFAHiB,GAIjB,2NAJiB,GAKjB,wFALiB,GAMjB,WANM,EAMO,GANP,CAAd;AASA,IAAIa,aAAa,GAAG,CAApB;AACA,IAAI+G,UAAU,GAAG,CAAjB;AACA,IAAIE,aAAa,GAAG,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;AACA,IAAIC,UAAU,GAAG,CAAjB;AACA,IAAII,aAAa,GAAG,CAApB;;AAEAzP,OAAO,CAACC,MAAR,GAAiB,SAAS2D,6BAAT,GAAwC;AACrDmI,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAGhB,KAAK,CAACwO,UAAD,CAAf;AACAxN,OAAG,GAAGyJ,QAAQ,CAACzJ,GAAD,CAAd;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAG2B,KAAK,CAACiP,aAAD,CAAR,EAAwB;AACpB,YAAI,eAAeF,IAAf,CAAoB/O,KAAK,CAACiP,aAAD,CAAzB,CAAJ,EAA+C;AAC3C;AACA5Q,cAAI,GAAG,CAACA,IAAR;AACH;AACJ,OALD,MAKO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KAvCyC,CAyC1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KA9CyC,CAgD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB/R,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyBgM,QAAQ,CAACzK,KAAK,CAAC0O,aAAD,CAAN,CAAjC;AACH;;AAED/R,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GAxDD;AAyDH,CA9DD,C;;;;;;ACvBA6C,OAAO,CAACsG,cAAR,GAAyB;AACrB,aAAW,CADU;AAErB,SAAO,CAFc;AAGrB,WAAS,CAHY;AAIrB,SAAO,CAJc;AAKrB,YAAU,CALW;AAMrB,SAAM,CANe;AAOrB,eAAa,CAPQ;AAQrB,eAAa,CARQ;AASrB,SAAO,CATc;AAUrB,YAAU,CAVW;AAWrB,SAAO,CAXc;AAYrB,aAAW,CAZU;AAarB,SAAO,CAbc;AAcrB,YAAU,CAdW;AAerB,YAAU,CAfW;AAgBrB,SAAO;AAhBc,CAAzB;AAkBAtG,OAAO,CAACuG,YAAR,GAAuB;AACnB,WAAS,CADU;AAEnB,SAAO,CAFY;AAGnB,UAAQ,CAHW;AAInB,aAAW,CAJQ;AAKnB,SAAO,CALY;AAMnB,UAAQ,CANW;AAOnB,WAAS,CAPU;AAQnB,SAAO,CARY;AASnB,UAAQ,CATW;AAUnB,WAAS,CAVU;AAWnB,SAAO,CAXY;AAYnB,UAAQ,CAZW;AAanB,UAAQ,CAbW;AAcnB,SAAO,CAdY;AAenB,UAAQ,CAfW;AAgBnB,WAAS,CAhBU;AAiBnB,SAAO,CAjBY;AAkBnB,UAAQ,CAlBW;AAmBnB,WAAS,CAnBU;AAoBnB,SAAO,CApBY;AAqBnB,UAAQ,CArBW;AAsBnB,YAAU,CAtBS;AAuBnB,SAAO,CAvBY;AAwBnB,UAAQ,CAxBW;AAyBnB,gBAAc,CAzBK;AA0BnB,SAAO,CA1BY;AA2BnB,UAAQ,CA3BW;AA4BnB,UAAQ,CA5BW;AA6BnB,WAAS,CA7BU;AA8BnB,aAAW,EA9BQ;AA+BnB,SAAO,EA/BY;AAgCnB,UAAQ,EAhCW;AAiCnB,eAAa,EAjCM;AAkCnB,SAAO,EAlCY;AAmCnB,UAAQ,EAnCW;AAoCnB,eAAa,EApCM;AAqCnB,SAAO,EArCY;AAsCnB,UAAQ;AAtCW,CAAvB,C;;;;;;AClBA;;;;;;AAMA,IAAMvJ,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,8FAFiB,GAGjB,cAHiB,GAIrB,IAJqB,GAKrB,qDALqB,GAMrB,KANqB,GAOjB,aAPiB,GAQjB,uCARiB,GASrB,IATqB,GAUrB,SAVU,EAUC,GAVD,CAAd;AAYA,IAAIU,WAAW,GAAG;AAAE,aAAW,CAAb;AAAgB,SAAO,CAAvB;AAA0B,WAAS,CAAnC;AAAsC,SAAO,CAA7C;AAAgD,YAAU,CAA1D;AAA6D,SAAO,CAApE;AAAuE,eAAa,CAApF;AAAuF,eAAa,CAApG;AAAuG,SAAO,CAA9G;AACd,YAAU,CADI;AACD,SAAO,CADN;AACS,aAAW,CADpB;AACuB,UAAQ,CAD/B;AACkC,YAAU,CAD5C;AAC+C,YAAU,CADzD;AAC4D,SAAO;AADnE,CAAlB;AAIA,IAAI+H,cAAc,GAAG,CAArB;AACA,IAAIC,YAAY,GAAG,CAAnB,C,CAEA;;AACA,IAAI7H,aAAa,GAAG,CAApB;AACA,IAAIgI,WAAW,GAAG,CAAlB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIb,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAAS4D,uBAAT,CAAiCwM,QAAjC,EAA2C;AACxDpQ,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAGD,KAAK,CAACqP,cAAD,CAAL,IAAyB,GAAzB,IAAgCrP,KAAK,CAACsP,YAAD,CAAL,IAAuB,GAA1D,EAA+D;AAC3D;AACA;AACA;AACAtP,WAAK,CAACnD,KAAN,IAAemD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAxB;AACA;AACH;;AAED,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAACsP,YAAD,CAAL,CAAoB/O,MAApF,CAAX;AAGA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAGE,IAAI,CAACkD,KAAL,CAAW,UAAX,CAAH,EAA2B;AAC3B,QAAGlD,IAAI,CAACkD,KAAL,CAAW,wBAAX,CAAH,EAAyC,OArBC,CAuB1C;AACA;;AACA,QAAG,CAACA,KAAK,CAAC6O,UAAD,CAAN,IAAsB7O,KAAK,CAAC,CAAD,CAAL,CAAS2P,OAAT,CAAiB,GAAjB,IAAwB,CAAjD,EAAoD;AAEpD,QAAInS,IAAI,GAAG,IAAX;AACA,QAAIa,IAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqBrS,KAAK,CAACI,GAAD,CAAL,CAAWyB,IAAX,KAAoB,EAApD;AACA,QAAID,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAKhB,KAAK,CAAC0P,SAAD,CAAjB;AAEAtR,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AACA4C,OAAG,GAAIyJ,QAAQ,CAACzJ,GAAD,CAAf;AACA3C,QAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,QAAGD,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,EAAxB,EAA4B;AACxB,UAAGA,KAAK,GAAG,EAAX,EAAe;AACX;AACA;AACA,YAAI4C,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI,EAAnB,IAAyB5C,KAAK,IAAI,EAAlC,IAAwCA,KAAK,IAAI,EAArD,EAAyD;AACrD;AACA,cAAIwR,IAAI,GAAGxR,KAAX;AACAA,eAAK,GAAG4C,GAAR;AACAA,aAAG,GAAG4O,IAAN;AACH,SALD,MAMK;AACD;AACA,iBAAO,IAAP;AACH;AACJ;AACJ;;AACD,QAAG5O,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAApB,EAAwB,OAAO,IAAP;;AAExB,QAAG3C,IAAI,GAAG,GAAV,EAAc;AACV,UAAGA,IAAI,GAAG,EAAV,EAAa;AACTA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH,OAFD,MAEK;AACDA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B,EAhE0C,CAkE1C;;AACA,QAAG2B,KAAK,CAACyH,aAAD,CAAR,EAAyB;AACrB9K,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+B6I,WAAW,CAACtH,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAD,CAA1C;AACH;;AAEDzK,UAAM,CAACI,IAAP,CAAY,yBAAZ,IAAyC,IAAzC;AACA,WAAOJ,MAAP;AACH,GAzED;AA0EH,CA9ED,C;;;;;;ACnCA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,kKAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAAS6D,kBAAT,GAA6B;AAE1C7D,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAInD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAX;AACA,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;AACA,QAAIyP,SAAS,GAAG5T,IAAI,CAACsK,WAAL,EAAhB;;AAEA,QAAGsJ,SAAS,CAAC1Q,KAAV,CAAgB,QAAhB,CAAH,EAA6B;AACzB;AACA,UAAGiB,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AACJ;;AAED,QAAG4R,SAAS,CAAC1Q,KAAV,CAAgB,MAAhB,CAAH,EAA4B;AACxB8H,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;;AAED,QAAG4R,SAAS,CAAC1Q,KAAV,CAAgB,cAAhB,CAAH,EAAmC;AAC/B;AACArD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AAEH,KALD,MAKO,IAAGuS,SAAS,CAAC1Q,KAAV,CAAgB,aAAhB,CAAH,EAAmC;AAEtCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;;AACA,UAAI8C,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;AAEJ,KAPM,MAOA,IAAI4R,SAAS,CAAC1Q,KAAV,CAAgB,oBAAhB,CAAJ,EAA2C;AAE9CrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,KAJM,MAIA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,QAAhB,CAAJ,EAA+B;AAElCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AAEH,KAJM,MAIA,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,OAAhB,CAAJ,EAA8B;AAEjCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AAEH,KAJM,MAIC,IAAIuS,SAAS,CAAC1Q,KAAV,CAAgB,YAAhB,CAAJ,EAAmC;AAEzCrD,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAACjC,IAAV,EAA3B;AACArC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAChC,MAAV,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAC/B,MAAV,EAA7B;AACAvC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,aAAnB,EAAkC8C,SAAS,CAAC9B,WAAV,EAAlC;AAED;;AAEDxC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GA/DD;AAgEH,CAtED,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,eADqB,GAErB,GAFqB,GAEhBuH,IAAI,CAAC7H,qBAFW,GAEa,sDAFb,GAGrB,qEAHqB,GAIrB,WAJU,EAIG,GAJH,CAAd;AAOA,IAAI8H,cAAc,GAAG,IAAIxH,MAAJ,CAAW,YAC5B,eAD4B,GAE5B,GAF4B,GAEvBuH,IAAI,CAAC7H,qBAFkB,GAEM,kBAFN,GAG5B,yCAH4B,GAI5B,WAJiB,EAIJ,GAJI,CAArB;;AAOA9G,OAAO,CAACC,MAAR,GAAiB,SAAS8D,sBAAT,GAAiC;AAC9C9D,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGnH,KAAK,CAAC,CAAD,CAAf;;AACA,QAAImO,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,MAA4B7H,SAAhC,EAA2C;AACvC6H,SAAG,GAAGgH,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,CAAN;AACH,KAFD,MAEO,IAAIA,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAA5B,EAAkC;AACrCA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,YAAV,CAAJ,EAA4B;AAC/BmH,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,CAACnH,KAAJ,CAAU,SAAV,CAAJ,EAA0B;AAC7BmH,SAAG,GAAG,GAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAGsD,QAAQ,CAACtD,GAAD,CAAd;AACH;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,0BAAf,CAAJ,EAAgD;AAE5C,UAAIA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AACxBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AACH,OAFD,MAEO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,UAAf,CAAJ,EAAgC;AACnCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAG,GAAG,CAAf,EAAkB,GAAlB,CAAP;AACH,OAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAChCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,OAAd,CAAP;AACH,OAFM,MAEA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AACjCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,aAAOb,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAE1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AAEH,KAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAE/BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,SAAd,CAAP;AAEH,KAJM,MAIA,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,WAAf,CAAJ,EAAiC;AAEpCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AACA,WAAOJ,MAAP;AACH,GAjED;AAkEH,CAzED,C;;;;;;ACnBA,IAAM4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAAtB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI6K,WAAW,GAAG6G,IAAI,CAACrI,cAAvB;AAEA,IAAIyB,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACjB,kGADiB,GAEjB,kBAFiB,GAGjB,8EAHiB,GAIjB,yKAJiB,GAKjB,4FALiB,GAMjB,WANM,EAMO,GANP,CAAd;AASA,IAAIa,aAAa,GAAG,CAApB;AACA,IAAI+G,UAAU,GAAG,CAAjB;AACA,IAAIE,aAAa,GAAG,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;AACA,IAAIC,UAAU,GAAG,CAAjB;AACA,IAAII,aAAa,GAAG,CAApB;;AAEAzP,OAAO,CAACC,MAAR,GAAiB,SAAS+D,6BAAT,GAAwC;AACrD+H,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAGhB,KAAK,CAACwO,UAAD,CAAf;AACAxN,OAAG,GAAGyJ,QAAQ,CAACzJ,GAAD,CAAd;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAG2B,KAAK,CAACiP,aAAD,CAAR,EAAwB;AACpB,YAAI,KAAKF,IAAL,CAAU/O,KAAK,CAACiP,aAAD,CAAf,CAAJ,EAAqC;AACjC;AACA5Q,cAAI,GAAG,CAACA,IAAR;AACH;AACJ,OALD,MAKO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KAvCyC,CAyC1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KA9CyC,CAgD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB/R,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyBgM,QAAQ,CAACzK,KAAK,CAAC0O,aAAD,CAAN,CAAjC;AACH;;AAED/R,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GAxDD;AAyDH,CA9DD,C;;;;;;ACvBA;;;;;;AAMA,IAAI4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAApB;;AACA,IAAIC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,0FAFiB,GAGjB,cAHiB,GAIrB,IAJqB,GAKrB,qDALqB,GAMrB,KANqB,GAOjB,aAPiB,GAQjB,uCARiB,GASrB,IATqB,GAUrB,SAVU,EAUC,GAVD,CAAd;AAYA,IAAIU,WAAW,GAAG;AAAE,cAAY,CAAd;AAAiB,SAAO,CAAxB;AAA2B,WAAS,CAApC;AAAuC,SAAO,CAA9C;AAAgD,WAAS,CAAzD;AAA4D,SAAM,CAAlE;AAAqE,cAAY,CAAjF;AAAoF,SAAO,CAA3F;AACd,WAAS,CADK;AACF,SAAM,CADJ;AACO,cAAY,CADnB;AACsB,SAAO,CAD7B;AAC+B,YAAU,CADzC;AAC4C,SAAO;AADnD,CAAlB;AAIA,IAAI+H,cAAc,GAAG,CAArB;AACA,IAAIC,YAAY,GAAG,CAAnB,C,CAEA;;AACA,IAAI7H,aAAa,GAAG,CAApB;AACA,IAAIiI,SAAS,GAAG,CAAhB;AACA,IAAID,WAAW,GAAG,CAAlB;AACA,IAAIZ,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAASgE,uBAAT,CAAiCoM,QAAjC,EAA2C;AACxDtE,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAGD,KAAK,CAACqP,cAAD,CAAL,IAAyB,GAAzB,IAAgCrP,KAAK,CAACsP,YAAD,CAAL,IAAuB,GAA1D,EAA+D;AAC3D;AACA;AACA;AACAtP,WAAK,CAACnD,KAAN,IAAemD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAxB;AACA;AACH;;AAED,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAACsP,YAAD,CAAL,CAAoB/O,MAApF,CAAX;AAGA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAGE,IAAI,CAACkD,KAAL,CAAW,UAAX,CAAH,EAA2B;AAC3B,QAAGlD,IAAI,CAACkD,KAAL,CAAW,wBAAX,CAAH,EAAyC,OArBC,CAuB1C;AACA;;AACA,QAAG,CAACA,KAAK,CAAC6O,UAAD,CAAN,IAAsB7O,KAAK,CAAC,CAAD,CAAL,CAAS2P,OAAT,CAAiB,GAAjB,IAAwB,CAAjD,EAAoD;AAEpD,QAAInS,IAAI,GAAG,IAAX;AACA,QAAIY,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAKhB,KAAK,CAAC0P,SAAD,CAAjB;AAEA1O,OAAG,GAAIyJ,QAAQ,CAACzJ,GAAD,CAAf;AACA5C,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AAEA,QAAIC,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAIA,IAAI,GAAG,GAAX,EAAe;AACXA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGD,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,EAAxB,EAA4B;AACxB,UAAGA,KAAK,GAAG,EAAX,EAAe;AACX;AACA,YAAI4C,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI,EAAnB,IAAyB5C,KAAK,IAAI,EAAlC,IAAwCA,KAAK,IAAI,EAArD,EAAyD;AACrD;AACA,cAAIwR,IAAI,GAAGxR,KAAX;AACAA,eAAK,GAAG4C,GAAR;AACAA,aAAG,GAAG4O,IAAN;AACH,SALD,MAMK;AACD;AACA,iBAAO,IAAP;AACH;AACJ;AACJ;;AAED,QAAG5O,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAApB,EAAwB,OAAO,IAAP;;AAExB,QAAG3C,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KAvEyC,CAyE1C;;;AACA,QAAG2B,KAAK,CAACyH,aAAD,CAAR,EAAyB;AACrB9K,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+B6I,WAAW,CAACtH,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAD,CAA1C;AACH;;AAEDzK,UAAM,CAACI,IAAP,CAAY,yBAAZ,IAAyC,IAAzC;AACA,WAAOJ,MAAP;AACH,GAhFD;AAiFH,CArFD,C;;;;;;AClCA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,mGAAd;;AAEA/H,OAAO,CAACC,MAAR,GAAiB,SAASiE,qBAAT,GAAgC;AAC7CjE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIlD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AACA1D,SAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAA/B;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAKAD,UAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AAEA,QAAIoK,GAAG,GAAGsD,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAlB;;AACA,QAAIwR,KAAK,CAACrK,GAAD,CAAT,EAAgB;AACd,UAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AAC1BmH,WAAG,GAAG,GAAN;AACD,OAFD,MAEO;AACLA,WAAG,GAAG,CAAN;AACD;AACF;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,QAAIoD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,KAA2BA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAA/B,EAAyD;AACrD,UAAIA,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,OAAf,CAAJ,EAA6B;AAEzBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEH,OAJD,MAIO,IAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,QAAf,CAAJ,EAA8B;AAEjCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,QAAf,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AAEA,aAAOtC,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,SAAf,CAAJ,EAA+B;AAC3BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEAxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACA,aAAOrE,MAAP;AACH;;AAED,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AACxBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,GAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,MAAf,CAAJ,EAA4B;AACxBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,OAAf,CAAP;AACH;;AAED,QAAInH,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,cAAf,CAAJ,EAAoC;AAChCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA,WAAO1B,MAAP;AAEH,GAxED;AAyEH,CAhFD,C;;;;;;ACNA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAI6S,iBAAiB,GAAI,IAAIlJ,MAAJ,CAAW,cAChC,mBADgC,GAEhC,8BAFgC,GAGhC,KAHgC,GAI5B,mCAJ4B,GAK5B,KAL4B,GAMxB,+BANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAaA,IAAImJ,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW,UAChC,gCADgC,GAEhC,kBAFgC,GAGhC,KAHgC,GAI5B,mCAJ4B,GAK5B,KAL4B,GAMxB,mCANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,sCATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAYA,IAAIoJ,UAAU,GAAM,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;;AAEA5Q,OAAO,CAACC,MAAR,GAAiB,SAASkE,sBAAT,GAAiC;AAC9ClE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOgQ,iBAAP;AAA2B,GAAvD;;AAEA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AACxD,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAtC;AACA5D,UAAM,CAACG,IAAP,GAAekD,KAAK,CAAC,CAAD,CAAL,CAASQ,SAAT,CAAmBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5B,CAAf;AACA5D,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AAEAJ,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA4B8C,SAAS,CAACzD,IAAV,EAA5B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAkB,CAA9C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA4B8C,SAAS,CAAC5C,IAAV,EAA5B;AAEA,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAjB0C,CAmB1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH,KAzByC,CA2B1C;;;AACA,QAAIc,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,MAAvC,EAA8C;AAC1CiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,EAAP;AACH,KAHD,MAGO,IAAIgB,KAAK,CAACgQ,UAAD,CAAL,CAAkB5I,WAAlB,MAAmC,QAAvC,EAAiD;AACpDiJ,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,CAAP;AACH,KAHM,MAGA;AACHA,UAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;AACH,KApCyC,CAsC1C;;;AACA,QAAGhQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACH,KAFD,MAEO,IAAGjR,IAAI,GAAG,GAAV,EAAe;AAClBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvDyC,CAyD1C;;;AACA,QAAGrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA9B,EAAoC;AAChC,UAAGpR,IAAI,GAAG,EAAV,EAAc,OAAO,IAAP;AACd,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAGkJ,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,GAAG,CAAP;AAClB;;AAED,UAAGsR,IAAI,IAAI,GAAX,EAAe;AACXD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;AACJ;;AACDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KA3EyC,CA6E1C;AACA;AACA;;;AACArQ,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR;AACA,UAAIrD,MAAM,CAACG,IAAP,CAAYkD,KAAZ,CAAkB,OAAlB,CAAJ,EAAgC;AAC5B,eAAO,IAAP;AACH;;AACD,aAAOrD,MAAP;AACH,KAvFyC,CA2F1C;;;AACA,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,wBAAf,CAAJ,EAA8C;AAC1C,aAAOrD,MAAP;AACH;;AAED,QAAGA,MAAM,CAACO,GAAP,IAAc,IAAjB,EAAsB;AAClBP,YAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2BN,MAAM,CAACK,KAAP,CAAaQ,IAAb,EAA3B,CAAb;AACH;;AAED,QAAIwB,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAtG0C,CAwG1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAf,CAhH0C,CAkH1C;;AACA,QAAIA,KAAK,CAACiQ,YAAD,CAAL,IAAsB,IAA1B,EAAgC;AAE5BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAOtC,MAAP;AAEpB,KALD,MAKO,IAAIqC,IAAI,GAAG,GAAX,EAAgB;AAEnBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvIyC,CAyI1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAoC;AAEhC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;;AAEf,UAAGgB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAe;AACXA,cAAI,GAAG,CAAP;;AACA,cAAI,CAACrC,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,KAArB,CAAL,EAAkC;AAC9B/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;AACJ;AACJ;;AAED,UAAGyB,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,MAA4C,GAA/C,EAAmD;AAC/CiJ,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AAEJ,KAtCD,MAsCO,IAAGS,IAAI,IAAI,EAAX,EAAe;AAClBqR,cAAQ,GAAG,CAAX;AACH;;AAED1T,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH;;AAED,QAAI1T,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GAhMD;AAiMH,CAtMD,C;;;;;;ACnCA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIiL,qBAAqB,GAAGlL,mBAAO,CAAC,CAAD,CAAP,CAAiCkL,qBAA7D;;AAEA,IAAIL,WAAW,GAAG;AAAE,cAAY,CAAd;AAAiB,SAAO,CAAxB;AAA2B,WAAS,CAApC;AAAuC,SAAO,CAA9C;AAAgD,WAAS,CAAzD;AAA4D,SAAM,CAAlE;AAAqE,cAAY,CAAjF;AAAoF,SAAO,CAA3F;AACd,WAAS,CADK;AACF,SAAM,CADJ;AACO,cAAY,CADnB;AACsB,SAAO,CAD7B;AAC+B,YAAU,CADzC;AAC4C,SAAO;AADnD,CAAlB;AAGA,IAAIC,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,0BADqB,GAErB,eAFqB,GAGrB,GAHqB,GAGfX,MAAM,CAACC,IAAP,CAAYoB,WAAZ,EAAyBnB,IAAzB,CAA8B,GAA9B,CAHe,GAGsB,GAHtB,GAIrB,0BAJqB,GAKrB,iCALqB,GAMrB,WANU,EAMG,GANH,CAAd;AAQA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAlI,OAAO,CAACC,MAAR,GAAiB,SAASmE,eAAT,GAA2B;AACxCnE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAX;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAhB;AACA,QAAIQ,MAAM,GAAGN,WAAW,CAACc,SAAD,CAAxB;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIuI,QAAQ,GAAG,IAAf;AACA,QAAIQ,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;AACA,QAAIc,OAAO,GAAGtI,KAAK,CAAC0H,aAAD,CAAnB;;AACA,QAAIW,MAAM,IAAIC,OAAd,EAAuB;AACnB,UAAIC,IAAI,GAAGF,MAAM,IAAIC,OAArB;AACAC,UAAI,GAAGA,IAAI,CAACnB,WAAL,EAAP;;AAEA,UAAGmB,IAAI,IAAI,SAAX,EAAsB;AAClBV,gBAAQ,GAAG,MAAX;AACH,OAFD,MAEO,IAAGU,IAAI,IAAI,UAAX,EAAuB;AAC1BV,gBAAQ,GAAG,MAAX;AACH,OAFM,MAEA,IAAGU,IAAI,IAAG,IAAV,EAAgB;AACnBV,gBAAQ,GAAG,MAAX;AACH;AACJ;;AAEDF,yBAAqB,CAAChL,MAAD,EAASC,GAAT,EAAcgL,MAAd,EAAsBC,QAAtB,CAArB;AACAlL,UAAM,CAACI,IAAP,CAAY,iBAAZ,IAAiC,IAAjC;AACA,WAAOJ,MAAP;AACH,GAhCD;AAiCH,CAtCD,C;;;;;;ACnBA,IAAM8U,aAAa,GAAGhV,mBAAO,CAAC,EAAD,CAA7B;;AACA,IAAMD,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACAD,KAAK,CAACkV,MAAN,CAAaD,aAAb;;AAEA,IAAIhS,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,6BADqB,GAErB,GAFqB,GAEhBuH,IAAI,CAAC7H,qBAFW,GAEa,aAFb,GAGrB,+EAHqB,GAIrB,iFAJqB,GAKrB,2EALqB,GAMrB,WANU,EAMG,GANH,CAAd;AASA,IAAIqL,gBAAgB,GAAG,CAAvB;AACA,IAAIC,gBAAgB,GAAG,CAAvB;AACA,IAAIrD,mBAAmB,GAAG,CAA1B;AACA,IAAIsD,gBAAgB,GAAG,CAAvB;;AAEArS,OAAO,CAACC,MAAR,GAAiB,SAASoE,0BAAT,GAAqC;AAClDpE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR,CAH0C,CAK1C;;AACA,QAAIuR,UAAU,GAAG9R,KAAK,CAAC2R,gBAAD,CAAL,KAA4BrS,SAA5B,GAAwC,GAAxC,GAA8CU,KAAK,CAAC2R,gBAAD,CAApE;;AACA,QAAIxD,IAAI,CAAC9H,aAAL,CAAmByL,UAAnB,MAAmCxS,SAAvC,EAAkD;AAC9CwS,gBAAU,GAAG3D,IAAI,CAAC9H,aAAL,CAAmByL,UAAnB,CAAb;AACH,KAFD,MAEO;AACHA,gBAAU,GAAGrH,QAAQ,CAACqH,UAAD,CAArB;AACH,KAXyC,CAa1C;;;AACA,QAAIjK,QAAQ,GAAG7H,KAAK,CAAC4R,gBAAD,CAAL,KAA4BtS,SAA5B,GACFU,KAAK,CAAC6R,gBAAD,CAAL,KAA4BvS,SAA5B,GAAwC,EAAxC,GAA6CU,KAAK,CAAC6R,gBAAD,CAAL,CAAwBzK,WAAxB,EAD3C,GAEApH,KAAK,CAAC4R,gBAAD,CAAL,CAAwBxK,WAAxB,EAFf;;AAGA,QAAG,CAACS,QAAJ,EAAc;AACV;AACA;AACH;;AAED,QAAIlL,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAKAD,UAAM,CAACI,IAAP,CAAY,4BAAZ,IAA4C,IAA5C;AAEA,QAAIgV,cAAJ;;AACA,YAAO,IAAP;AACI,WAAK,eAAehD,IAAf,CAAoBlH,QAApB,CAAL;AACA,WAAK,YAAYkH,IAAZ,CAAiBlH,QAAjB,CAAL;AACIkK,sBAAc,GAAG,CAAjB;AACA;;AACJ,WAAK,iBAAiBhD,IAAjB,CAAsBlH,QAAtB,CAAL;AACA,WAAK,eAAekH,IAAf,CAAoBlH,QAApB,CAAL;AACA,WAAK,oBAAoBkH,IAApB,CAAyBlH,QAAzB,CAAL;AACIkK,sBAAc,GAAG,CAAC,CAAlB;AACA;AATR;;AAYA,QAAIC,KAAK,GAAGF,UAAU,GAAGC,cAAzB;AAEA,QAAIE,QAAQ,GAAGzV,KAAK,CAACI,GAAD,CAApB;AACA,QAAIsV,MAAM,GAAG1V,KAAK,CAACI,GAAD,CAAlB;AAEA,QAAIuV,QAAQ,GAAGnS,KAAK,CAACuO,mBAAD,CAApB;AACA,QAAI6D,OAAJ;;AACA,YAAO,IAAP;AACI,WAAK,YAAYrD,IAAZ,CAAiBoD,QAAjB,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,QAAV;AACA;;AACJ,WAAK,gBAAgBrD,IAAhB,CAAqBoD,QAArB,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,QAAV;AACA;;AACJ,WAAK,UAAUrD,IAAV,CAAeoD,QAAf,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,MAAV;AACA;;AACJ,WAAK,SAASrD,IAAT,CAAcoD,QAAd,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,KAAV;AACA;;AACJ,WAAK,YAAYrD,IAAZ,CAAiBoD,QAAjB,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,MAAV;AACA;;AACJ,WAAK,QAAQrD,IAAR,CAAaoD,QAAb,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,OAAV;AACA;;AACJ,WAAK,cAAcrD,IAAd,CAAmBoD,QAAnB,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,SAAV;AACA;;AACJ,WAAK,UAAUrD,IAAV,CAAeoD,QAAf,CAAL;AACIF,gBAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAakT,KAAb,EAAoB,GAApB,CAAX;AACAE,cAAM,GAAGA,MAAM,CAACpT,GAAP,CAAWiT,cAAX,EAA2B,GAA3B,CAAT;AACAK,eAAO,GAAG,MAAV;AACA;AAxCR,KAjD0C,CA4F1C;;;AACA,QAAGL,cAAc,GAAG,CAApB,EAAuB;AACnB,UAAIM,OAAO,GAAGJ,QAAd;AACAA,cAAQ,GAAGC,MAAX;AACAA,YAAM,GAAGG,OAAT;AACH,KAjGyC,CAmG1C;;;AACAJ,YAAQ,GAAGA,QAAQ,CAACG,OAAT,CAAiBA,OAAjB,CAAX;AACAF,UAAM,GAAGA,MAAM,CAACI,KAAP,CAAaF,OAAb,CAAT;;AACA,QAAIA,OAAO,IAAI,MAAf,EAAuB;AAAE;AACrBH,cAAQ,GAAGA,QAAQ,CAACnT,GAAT,CAAa,CAAb,EAAgB,GAAhB,CAAX;AACAoT,YAAM,GAAGA,MAAM,CAACpT,GAAP,CAAW,CAAX,EAAc,GAAd,CAAT;AACH,KAzGyC,CA4G1C;;;AACAnC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BwT,QAAQ,CAAC5T,IAAT,EAA5B;AACA1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BwT,QAAQ,CAAC7T,KAAT,KAAmB,CAAhD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BwT,QAAQ,CAACzU,IAAT,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BwT,QAAQ,CAAChT,MAAT,EAA9B;AACAtC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BwT,QAAQ,CAAC/S,MAAT,EAA9B;AACAvC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BwT,QAAQ,CAACjT,IAAT,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,aAApB,EAAmCwT,QAAQ,CAAC9S,WAAT,EAAnC;AAEAxC,UAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0ByT,MAAM,CAAC7T,IAAP,EAA1B;AACA1B,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,OAAlB,EAA2ByT,MAAM,CAAC9T,KAAP,KAAiB,CAA5C;AACAzB,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyByT,MAAM,CAAC1U,IAAP,EAAzB;AACAb,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4ByT,MAAM,CAACjT,MAAP,EAA5B;AACAtC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4ByT,MAAM,CAAChT,MAAP,EAA5B;AACAvC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0ByT,MAAM,CAAClT,IAAP,EAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,aAAlB,EAAiCyT,MAAM,CAAC/S,WAAP,EAAjC;AACA,WAAOxC,MAAP;AACH,GA9HD;AA+HH,CApID,C;;;;;;ACtBA,eAAe,KAAoD,oBAAoB,SAAgF,CAAC,iBAAiB,aAAa,0BAA0B,qBAAqB,kBAAkB,sBAAsB,4FAA4F,YAAY,oBAAoB,6EAA6E,gBAAgB,wBAAwB,kCAAkC,eAAe,uBAAuB,2FAA2F,2BAA2B;;;;;;;ACA5sB,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAIyR,IAAI,GAAG1R,mBAAO,CAAC,CAAD,CAAlB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CACV,gBAAgBX,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAAhB,GAAoD,UAApD,GACA,UADA,GAEA,QAFA,GAGA,gBAHA,GAIA,aAJA,GAIgBF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAJhB,GAIoD,SAJpD,GAKA,UALA,GAMA,OANA,GAOA,UAPA,GAQA,aARA,GAQgBF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CARhB,GAQoD,UARpD,GASA,UATA,GAUA,UAXU,CAAd;AAcA,IAAI0I,UAAU,GAAG,CAAjB;AACA,IAAIY,WAAW,GAAG,CAAlB;AACA,IAAIC,SAAS,GAAG,CAAhB;;AAEAlQ,OAAO,CAACC,MAAR,GAAiB,SAASqE,gBAAT,GAA4B;AAEzCrE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAC3C,QAAI6H,WAAW,GAAGtL,KAAK,CAACI,GAAD,CAAvB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CADe;AAE1BnD,WAAK,EAAEmD,KAAK,CAACnD,KAFa;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb,CAF2C,CAQ3C;;AACA,QAAIwB,KAAK,GAAGqM,QAAQ,CAACzK,KAAK,CAACyP,WAAD,CAAN,CAApB;AACA,QAAI+B,KAAK,CAACpT,KAAD,CAAT,EAAkBA,KAAK,GAAG+P,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACyP,WAAD,CAA3B,CAAR;AAClB9S,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B,EAX2C,CAa3C;;AACA,QAAI4B,KAAK,CAAC0P,SAAD,CAAT,EAAsB;AAClB,UAAI1O,GAAG,GAAGyJ,QAAQ,CAACzK,KAAK,CAAC0P,SAAD,CAAN,CAAlB;AACA,UAAI8B,KAAK,CAACxQ,GAAD,CAAT,EAAgBA,GAAG,GAAGmN,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAAC0P,SAAD,CAA3B,CAAN;AAChB/S,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACH,KAJD,MAIO;AACHrE,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B2J,WAAW,CAACtK,IAAZ,EAA1B;AACH,KApB0C,CAsB3C;;;AACA,QAAIwC,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnB,UAAIxQ,IAAI,GAAGoM,QAAQ,CAACzK,KAAK,CAAC6O,UAAD,CAAN,CAAnB;AACA,UAAI2C,KAAK,CAACnT,IAAD,CAAT,EAAiBA,IAAI,GAAG8P,IAAI,CAAC5D,cAAL,CAAoBvK,KAAK,CAAC6O,UAAD,CAAzB,CAAP;AACjBlS,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACH1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B2J,WAAW,CAACzJ,IAAZ,EAA3B;AACH;;AAED1B,UAAM,CAACI,IAAP,CAAY+G,gBAAZ,GAA+B,IAA/B;AACA,WAAOnH,MAAP;AACH,GAjCD;AAkCH,CA1CD,C;;;;;;ACxBA,IAAI8C,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIiL,qBAAqB,GAAGlL,mBAAO,CAAC,CAAD,CAAP,CAAiCkL,qBAA7D;;AAEA,IAAIwG,IAAI,GAAG1R,mBAAO,CAAC,CAAD,CAAlB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CACV,iBACA,QADA,GAEA,WAFA,GAGA,GAHA,GAGMX,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAACrI,cAAjB,EAAiCK,IAAjC,CAAsC,GAAtC,CAHN,GAGmD,GAJzC,CAAd;AAOA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAjI,OAAO,CAACC,MAAR,GAAiB,SAASsE,mBAAT,GAA+B;AAE5CtE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAC3C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAlB;AACAC,QAAI,GAAGkD,KAAK,CAAC,CAAD,CAAZ;AACA,QAAIrD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAArB;AACA,QAAIG,MAAM,GAAGuG,IAAI,CAACrI,cAAL,CAAoBsC,SAApB,CAAb;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIuI,QAAQ,GAAG,IAAf;AACA,QAAIQ,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;;AAEA,QAAGa,MAAM,IAAI,GAAb,EAAkB;AACdR,cAAQ,GAAG,MAAX;AACH,KAFD,MAEO,IAAGQ,MAAM,IAAI,GAAb,EAAkB;AACrBR,cAAQ,GAAG,MAAX;AACH,KAFM,MAEA,IAAGQ,MAAM,IAAI,GAAV,IAAiBA,MAAM,IAAI,GAA3B,IAAkCA,MAAM,IAAI,GAA/C,EAAoD;AACvDR,cAAQ,GAAG,MAAX;AACH;;AAEDF,yBAAqB,CAAChL,MAAD,EAASC,GAAT,EAAcgL,MAAd,EAAsBC,QAAtB,CAArB;AACAlL,UAAM,CAACI,IAAP,CAAY,qBAAZ,IAAqC,IAArC;AACA,WAAOJ,MAAP;AACH,GA3BD;AA4BH,CApCD,C;;;;;;AChBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAIkR,IAAI,GAAG1R,mBAAO,CAAC,CAAD,CAAlB;;AAEA,IAAI8V,cAAc,GAAG,eACjB,KADiB,GAEjB,iCAFiB,GAGjB,wEAHiB,GAIjB,gCAJiB,GAKjB,cALiB,GAMjB,4EANiB,GAOjB,IAPiB,GAQjB,cARiB,GASjB,YATiB,GASFtM,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CATE,GASkC,wBATlC,GAUjB,UAViB,GAWjB,eAXiB,GAWCF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAXD,GAWqC,wBAXrC,GAYjB,UAZiB,GAajB,SAbiB,GAaLF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAbK,GAa+B,qBAb/B,GAcjB,kCAdJ;AAgBA,IAAIqM,cAAc,GAAG,wCACjB,KADiB,GAEjB,iCAFiB,GAGjB,wEAHiB,GAIjB,gCAJiB,GAKjB,cALiB,GAMjB,4EANiB,GAOjB,IAPiB,GAQjB,cARiB,GASjB,YATiB,GASFvM,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CATE,GASkC,wBATlC,GAUjB,UAViB,GAWjB,eAXiB,GAWCF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAXD,GAWqC,wBAXrC,GAYjB,UAZiB,GAajB,SAbiB,GAaLF,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAbK,GAa+B,qBAb/B,GAcjB,kCAdJ;AAgBA,IAAI2J,iBAAiB,GAAG,IAAIlJ,MAAJ,CAAW2L,cAAX,EAA2B,GAA3B,CAAxB;AACA,IAAIxC,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW4L,cAAX,EAA2B,GAA3B,CAAzB;AAEA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIC,qBAAqB,GAAG,CAA5B;AACA,IAAIC,qBAAqB,GAAG,CAA5B;AACA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIC,qBAAqB,GAAG,CAA5B;AACA,IAAI7C,UAAU,GAAG,CAAjB;AACA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;;AAEA5Q,OAAO,CAACC,MAAR,GAAiB,SAASuE,0BAAT,GAAsC;AAEnDvE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOgQ,iBAAP;AACH,GAFD;;AAIA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAE3C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAc,CAAf,CAAJ,CAAsBmD,KAAtB,CAA4B,IAA5B,CAAvB,EAA0D,OAAO,IAAP;AAC1D,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAArB;AACAF,UAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAnB;AACArD,UAAM,CAACI,IAAP,CAAY+V,sBAAZ,GAAqC,IAArC;AAEA,QAAIhL,WAAW,GAAG7G,SAAS,CAAC7D,KAAV,EAAlB,CAX2C,CAa3C;;AACA,QAAI4C,KAAK,CAACyS,WAAD,CAAT,EAAwB;AACpB,UAAIM,IAAI,GAAG/S,KAAK,CAACyS,WAAD,CAAhB;;AACA,UAAIM,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC9B;AACA,YAAG9R,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,qBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH;AACF,OALD,MAKO,IAAIiU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDjL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,GAAZ,EAAgB;AACnBjL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBjL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,GAAZ,EAAgB;AACnBjL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBjL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH;;AACDnC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACH,KArBD,MAqBO,IAAI2B,KAAK,CAAC4S,WAAD,CAAT,EAAwB;AAC3B,UAAII,IAAI,GAAGhT,KAAK,CAAC4S,WAAD,CAAhB;;AACA,UAAII,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC5BlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH,OAFD,MAEO,IAAIkU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBlL,mBAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB;AACH;;AACDnC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACH,KAlBM,MAkBA;AACH1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B2J,WAAW,CAACtK,IAAZ,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B2J,WAAW,CAAC1J,KAAZ,KAAsB,CAAlD;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B2J,WAAW,CAACzJ,IAAZ,EAA3B;AACH;;AAED,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CA7D2C,CA+D3C;;AACA,QAAIrQ,KAAK,CAACkQ,YAAD,CAAT,EAAyB;AACrB,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;;AACA,UAAIsB,KAAK,CAACtS,MAAD,CAAT,EAAmB;AACfA,cAAM,GAAGiP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACkQ,YAAD,CAA3B,CAAT;AACH;;AACD,UAAIhR,MAAM,IAAI,EAAd,EAAkB,OAAO,IAAP;AAClBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;;AACA,QAAIwB,KAAK,CAACxS,IAAD,CAAT,EAAiB;AACbA,UAAI,GAAGmP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACgQ,UAAD,CAA3B,CAAP;AACH,KA5E0C,CA8E3C;;;AACA,QAAIhQ,KAAK,CAACiQ,YAAD,CAAT,EAAyB;AACrB,UAAIjQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAA3B,EAAgC;AAC5BhR,cAAM,GAAG,EAAT;AACH,OAFD,MAEO,IAAIe,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAAvB,IAA8BjQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAAzD,EAA8D;AACjEhR,cAAM,GAAG,CAAT;AACH,OAFM,MAEA;AACHA,cAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;;AACA,YAAIuB,KAAK,CAACvS,MAAD,CAAT,EAAmB;AACfA,gBAAM,GAAGkP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACiQ,YAAD,CAA3B,CAAT;AACH;AACJ;AACJ,KAXD,MAWO,IAAIjR,IAAI,GAAG,GAAX,EAAgB;AACnBC,YAAM,GAAGD,IAAI,GAAG,GAAhB;AACAA,UAAI,GAAGyL,QAAQ,CAACzL,IAAI,GAAG,GAAR,CAAf;AACH;;AAED,QAAIC,MAAM,IAAI,EAAd,EAAkB;AACd,aAAO,IAAP;AACH;;AAED,QAAID,IAAI,GAAG,EAAX,EAAe;AACX,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAxG0C,CA0G3C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAT,EAA6B;AACzB,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;AACf,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAIkJ,IAAI,IAAI,GAAZ,EAAiB;AACbD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB;;AAED,UAAIsR,IAAI,IAAI,GAAZ,EAAiB;AACbD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ,KAZD,MAYO,IAAIgB,KAAK,CAAC0S,qBAAD,CAAT,EAAkC;AACrC,UAAIO,aAAa,GAAGjT,KAAK,CAAC0S,qBAAD,CAAzB;AACA,UAAIQ,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAAjC,EAAsC;AAClC7C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIkU,OAAO,IAAI,GAAf,EAAoB;AACvB7C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ,KAVM,MAUA,IAAIgB,KAAK,CAAC2S,qBAAD,CAAT,EAAkC;AACrC,UAAIQ,aAAa,GAAGnT,KAAK,CAAC2S,qBAAD,CAAzB;AACA,UAAIS,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAA/C,IAAsDA,OAAO,IAAI,GAArE,EAA0E;AACtE/C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIoU,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAAnD,EAAwD;AAC3D/C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ,KAVM,MAUA,IAAIgB,KAAK,CAAC6S,qBAAD,CAAT,EAAkC;AACrC,UAAIQ,aAAa,GAAGrT,KAAK,CAAC6S,qBAAD,CAAzB;AACA,UAAIS,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAA/C,IAAsDA,OAAO,IAAI,GAArE,EAA0E;AACtEjD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIsU,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAAnD,EAAwD;AAC3DjD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ;;AAEDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AAEA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KAFD,MAEO;AACH,UAAIrR,IAAI,GAAG,EAAX,EAAe;AACXrC,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAFD,MAEO;AACHxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH;AACJ,KAlK0C,CAoK3C;AACA;AACA;;;AAEA6B,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR;AACA,UAAIrD,MAAM,CAACG,IAAP,CAAYkD,KAAZ,CAAkB,OAAlB,CAAJ,EAAgC;AAC5B,eAAO,IAAP;AACH;;AACD,aAAOrD,MAAP;AACH;;AAED,QAAI4W,SAAS,GAAGzL,WAAW,CAAC1K,KAAZ,EAAhB;AACAT,UAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2B,IAA3B,CAAb,CAlL2C,CAoL3C;;AACA,QAAI+C,KAAK,CAACyS,WAAD,CAAT,EAAwB;AACpB,UAAIM,IAAI,GAAG/S,KAAK,CAACyS,WAAD,CAAhB;;AACA,UAAIM,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC9B;AACA,YAAG9R,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrBuU,mBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH;AACF,OALD,MAKO,IAAIiU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDQ,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,GAAZ,EAAgB;AACnBQ,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBQ,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,GAAZ,EAAgB;AACnBQ,iBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBQ,iBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH;;AACDnC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyB8U,SAAS,CAAC/V,IAAV,EAAzB;AACAb,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,OAAlB,EAA2B8U,SAAS,CAACnV,KAAV,KAAoB,CAA/C;AACAzB,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0B8U,SAAS,CAAClV,IAAV,EAA1B;AACH,KArBD,MAqBO,IAAI2B,KAAK,CAAC4S,WAAD,CAAT,EAAwB;AAC3B,UAAII,IAAI,GAAGhT,KAAK,CAAC4S,WAAD,CAAhB;;AACA,UAAII,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC5BO,iBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH,OAFD,MAEO,IAAIkU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDO,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBO,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBO,iBAAS,CAACzU,GAAV,CAAc,CAAC,CAAf,EAAkB,KAAlB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBO,iBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBO,iBAAS,CAACzU,GAAV,CAAc,CAAd,EAAiB,KAAjB;AACH;;AACDnC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyB8U,SAAS,CAAC/V,IAAV,EAAzB;AACAb,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,OAAlB,EAA2B8U,SAAS,CAACnV,KAAV,KAAoB,CAA/C;AACAzB,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0B8U,SAAS,CAAClV,IAAV,EAA1B;AACH,KAlBM,MAkBA;AACH1B,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBoV,SAAS,CAAC/V,IAAV,EAAxB;AACAb,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,OAAjB,EAA0BoV,SAAS,CAACnV,KAAV,KAAoB,CAA9C;AACAzB,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,MAAjB,EAAyBoV,SAAS,CAAClV,IAAV,EAAzB;AACH;;AAEDW,QAAI,GAAG,CAAP;AACAC,UAAM,GAAG,CAAT;AACAoR,YAAQ,GAAG,CAAC,CAAZ,CApO2C,CAsO3C;;AACA,QAAIrQ,KAAK,CAACkQ,YAAD,CAAT,EAAyB;AACrB,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;;AACA,UAAIsB,KAAK,CAACtS,MAAD,CAAT,EAAmB;AACfA,cAAM,GAAGiP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACkQ,YAAD,CAA3B,CAAT;AACH;;AAED,UAAIhR,MAAM,IAAI,EAAd,EAAkB,OAAO,IAAP;AAClBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;;AACA,QAAIwB,KAAK,CAACxS,IAAD,CAAT,EAAiB;AACbA,UAAI,GAAGmP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACgQ,UAAD,CAA3B,CAAP;AACH,KApP0C,CAsP3C;;;AACA,QAAIhQ,KAAK,CAACiQ,YAAD,CAAT,EAAyB;AACrB,UAAIjQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAA3B,EAAgC;AAC5BhR,cAAM,GAAG,EAAT;AACH,OAFD,MAEO,IAAIe,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAAvB,IAA8BjQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,GAAzD,EAA8D;AACjEhR,cAAM,GAAG,CAAT;AACH,OAFM,MAEA;AACHA,cAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;;AACA,YAAIuB,KAAK,CAACvS,MAAD,CAAT,EAAmB;AACfA,gBAAM,GAAGkP,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACiQ,YAAD,CAA3B,CAAT;AACH;AACJ;AACJ,KAXD,MAWO,IAAIjR,IAAI,GAAG,GAAX,EAAgB;AACnBC,YAAM,GAAGD,IAAI,GAAG,GAAhB;AACAA,UAAI,GAAGyL,QAAQ,CAACzL,IAAI,GAAG,GAAR,CAAf;AACH;;AAED,QAAIC,MAAM,IAAI,EAAd,EAAkB;AACd,aAAO,IAAP;AACH;;AAED,QAAID,IAAI,GAAG,EAAX,EAAe;AACX,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAhR0C,CAkR3C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAT,EAA6B;AACzB,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;AACf,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAIkJ,IAAI,IAAI,GAAZ,EAAiB;AACbD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB;;AAED,UAAIsR,IAAI,IAAI,GAAZ,EAAiB;AACbD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AAEJ,KAhCD,MAgCO,IAAIyB,KAAK,CAAC0S,qBAAD,CAAT,EAAkC;AACrC,UAAIO,aAAa,GAAGjT,KAAK,CAAC0S,qBAAD,CAAzB;AACA,UAAIQ,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAAjC,EAAsC;AAClC7C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIkU,OAAO,IAAI,GAAf,EAAoB;AACvB7C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ,KAVM,MAUA,IAAIgB,KAAK,CAAC2S,qBAAD,CAAT,EAAkC;AACrC,UAAIQ,aAAa,GAAGnT,KAAK,CAAC2S,qBAAD,CAAzB;AACA,UAAIS,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAA/C,IAAsDA,OAAO,IAAI,GAArE,EAA0E;AACtE/C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIoU,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAAnD,EAAwD;AAC3D/C,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ,KAVM,MAUA,IAAIgB,KAAK,CAAC6S,qBAAD,CAAT,EAAkC;AACrC,UAAIQ,aAAa,GAAGrT,KAAK,CAAC6S,qBAAD,CAAzB;AACA,UAAIS,OAAO,GAAGD,aAAa,CAAC,CAAD,CAA3B;;AACA,UAAIC,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAA/C,IAAsDA,OAAO,IAAI,GAArE,EAA0E;AACtEjD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,GAAG,CAAP;AACnB,OAHD,MAGO,IAAIsU,OAAO,IAAI,GAAX,IAAkBA,OAAO,IAAI,GAA7B,IAAoCA,OAAO,IAAI,GAAnD,EAAwD;AAC3DjD,gBAAQ,GAAG,CAAX;AACA,YAAIrR,IAAI,IAAI,EAAZ,EAAgBA,IAAI,IAAI,EAAR;AACnB;AACJ;;AAEDrC,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH,KAFD,MAEO;AACH,UAAIE,SAAS,GAAG5T,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,KAAsC/B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,UAAjB,KAAgC,CAAtF;;AACA,UAAIgS,SAAS,IAAI5T,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2BS,IAA5C,EAAkD;AAC9C;AACArC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AAEH,OAJD,MAIO,IAAIa,IAAI,GAAG,EAAX,EAAe;AAClBrC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AACH;AACJ;;AAED,QAAIxB,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GAxWD;AAyWH,CAjXD,C;;;;;;ACpDA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CACV,sBACA,iCADA,GAEA,wEAFA,GAGA,gCAHA,GAIA,gBAJA,GAKA,4EANU,EAMoE,GANpE,CAAd;AAQA,IAAI4M,SAAS,GAAG,CAAhB;AACA,IAAIf,WAAW,GAAG,CAAlB;AACA,IAAIgB,YAAY,GAAG,CAAnB;AACA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAId,WAAW,GAAG,CAAlB;AACA,IAAIe,YAAY,GAAG,CAAnB;;AAEAnU,OAAO,CAACC,MAAR,GAAiB,SAASwE,sBAAT,GAAkC;AAE/CxE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAC3CnD,QAAI,GAAGkD,KAAK,CAAC,CAAD,CAAZ;AACA,QAAInD,KAAK,GAAGmD,KAAK,CAACnD,KAAlB;AACA,QAAIF,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAIkL,WAAW,GAAG7G,SAAlB;;AAEA,QAAIjB,KAAK,CAACwT,SAAD,CAAT,EAAsB;AAClB7W,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAACjC,IAAV,EAA3B;AACArC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAChC,MAAV,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAC/B,MAAV,EAA7B;AACAvC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,aAAnB,EAAkC8C,SAAS,CAAC9B,WAAV,EAAlC;AACH,KALD,MAKO,IAAIa,KAAK,CAACyS,WAAD,CAAT,EAAwB;AAC3B,UAAIM,IAAI,GAAG/S,KAAK,CAACyS,WAAD,CAAhB;AACA,UAAImB,KAAK,GAAG5T,KAAK,CAACyT,YAAD,CAAjB;;AAEA,UAAIV,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC9B;AACE,YAAG9R,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,qBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AACJ,OALD,MAKO,IAAIiU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDjL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,GAAZ,EAAgB;AACnBjL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBjL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAKiU,IAAI,IAAI,GAAb,EAAiB;AACpBjL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH,OAFM,MAEA,IAAIiU,IAAI,IAAI,IAAZ,EAAiB;AACpBjL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;;AAED,UAAI8U,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA7B,EAAkC;AAC9BjX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACH,OAFD,MAEO,IAAIyV,KAAK,IAAI,GAAb,EAAkB;AACrBjX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH;AAEJ,KA5BM,MA4BA,IAAI6B,KAAK,CAAC0T,YAAD,CAAT,EAAyB;AAC5B,UAAIG,WAAW,GAAG7T,KAAK,CAAC0T,YAAD,CAAvB;AACA,UAAII,KAAK,GAAGD,WAAW,CAAC,CAAD,CAAvB;;AACA,UAAIC,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAAzB,IAAgCA,KAAK,IAAI,GAA7C,EAAkD;AAC9CnX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACH,OAFD,MAEO,IAAI2V,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA7B,EAAkC;AACrCnX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAHM,MAGA,IAAI2V,KAAK,IAAI,GAAb,EAAkB;AACrBnX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAHM,MAGA,IAAI2V,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA7B,EAAkC;AACrCnX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAHM,MAGA,IAAI2V,KAAK,IAAI,GAAb,EAAkB;AACrBnX,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACH;AAEJ,KAlBM,MAkBA,IAAI6B,KAAK,CAAC4S,WAAD,CAAT,EAAwB;AAC3B,UAAII,IAAI,GAAGhT,KAAK,CAAC4S,WAAD,CAAhB;;AAEA,UAAII,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAA3B,EAAgC;AAC5B;AACA,YAAG/R,SAAS,CAACjC,IAAV,KAAmB,CAAtB,EAAyB;AACrB8I,qBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AACJ,OALD,MAKO,IAAIkU,IAAI,IAAI,GAAR,IAAeA,IAAI,IAAI,GAAvB,IAA8BA,IAAI,IAAI,GAA1C,EAA+C;AAClDlL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBlL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBlL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,GAAZ,EAAgB;AACnBlL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH,OAFM,MAEA,IAAIkU,IAAI,IAAI,IAAZ,EAAiB;AACpBlL,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;;AAGD,UAAIiV,WAAW,GAAG/T,KAAK,CAAC2T,YAAD,CAAvB;;AACA,UAAII,WAAJ,EAAiB;AACb,YAAIC,KAAK,GAAGD,WAAW,CAAC,CAAD,CAAvB;;AACA,YAAIC,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAAzB,IAAgCA,KAAK,IAAI,GAA7C,EAAkD;AAC9CrX,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACH,SAFD,MAEO,IAAI6V,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA7B,EAAkC;AACrCrX,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,SAHM,MAGA,IAAI6V,KAAK,IAAI,GAAb,EAAkB;AACrBrX,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,SAHM,MAGA,IAAI6V,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA7B,EAAkC;AACrCrX,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,SAHM,MAGA,IAAI6V,KAAK,IAAI,GAAb,EAAkB;AACrBrX,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACH;AACJ;AACJ;;AAEDxB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAYkH,sBAAZ,GAAqC,IAArC;AACA,WAAOtH,MAAP;AACH,GA7GD;AA8GH,CAtHD,C;;;;;;ACnBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAIyR,IAAI,GAAG1R,mBAAO,CAAC,CAAD,CAAlB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CACV,YAAYX,MAAM,CAACC,IAAP,CAAYiI,IAAI,CAAChE,MAAjB,EAAyBhE,IAAzB,CAA8B,EAA9B,CAAZ,GAAgD,iBAAhD,GACA,QADA,GAEA,iCAFA,GAGA,uBAJU,EAIe,GAJf,CAAd;AAOA,IAAI8N,YAAY,GAAG,CAAnB;AACA,IAAIC,UAAU,GAAG,CAAjB;;AAEA1U,OAAO,CAACC,MAAR,GAAiB,SAASwE,sBAAT,GAAkC;AAE/CxE,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAOyH,OAAP;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAC7C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAlB;AACAC,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAb;AAEA,QAAIrD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIyN,MAAM,GAAGI,QAAQ,CAACzK,KAAK,CAACiU,YAAD,CAAN,CAArB;;AACA,QAAIzC,KAAK,CAACnH,MAAD,CAAT,EAAkB;AAChBA,YAAM,GAAG8D,IAAI,CAAC/D,gBAAL,CAAsBpK,KAAK,CAACiU,YAAD,CAA3B,CAAT;AACD;;AAED,QAAIzC,KAAK,CAACnH,MAAD,CAAT,EAAkB;AAChB,UAAIG,MAAM,GAAGxK,KAAK,CAACiU,YAAD,CAAlB;;AACA,UAAIzJ,MAAM,KAAK,GAAf,EAAmB;AACjBH,cAAM,GAAG,CAAT;AACD,OAFD,MAEM,IAAGG,MAAM,KAAK,GAAd,EAAkB;AACtBH,cAAM,GAAG,GAAT;AACD,OAFK,MAED;AAEH;AACA,eAAO,IAAP;AACD;AACF;;AAED,QAAI7M,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;AACA,QAAIuX,IAAI,GAAGnU,KAAK,CAACkU,UAAD,CAAhB;AACA,QAAIE,QAAQ,GAAGD,IAAI,CAAC,CAAD,CAAnB;;AAEA,QAAIC,QAAQ,CAACpU,KAAT,CAAe,UAAf,CAAJ,EAA+B;AAC3B,UAAGoU,QAAQ,IAAI,GAAZ,IAAmBA,QAAQ,IAAI,GAAlC,EAAsC;AACpC5W,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,GAAjB,CAAP;AACD,OAFD,MAEM,IAAG+J,QAAQ,IAAI,GAAZ,IAAmBA,QAAQ,IAAI,GAAlC,EAAsC;AAC1C5W,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAM,GAAG,CAAlB,EAAqB,GAArB,CAAP;AACD,OAFK,MAEA,IAAG+J,QAAQ,IAAI,GAAf,EAAmB;AACvB5W,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,OAAjB,CAAP;AACD,OAFK,MAEA,IAAG+J,QAAQ,IAAI,GAAf,EAAmB;AACvB5W,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,MAAjB,CAAP;AACD;;AAEH1N,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,aAAOb,MAAP;AACD;;AAED,QAAGyX,QAAQ,IAAI,GAAf,EAAmB;AACjB5W,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,QAAjB,CAAP;AACD,KAFD,MAEM,IAAG+J,QAAQ,IAAI,GAAf,EAAmB;AACvB5W,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,QAAjB,CAAP;AACD,KAFK,MAEA,IAAG+J,QAAQ,IAAI,GAAZ,IAAmBA,QAAQ,IAAI,GAAlC,EAAsC;AAC1C5W,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASuL,MAAT,EAAiB,MAAjB,CAAP;AACD;;AAED1N,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,UAAM,CAACI,IAAP,CAAYmH,0BAAZ,GAAyC,IAAzC;AACA,WAAOvH,MAAP;AACD,GAjED;AAkEH,CA1ED,C;;;;;;AChBA;;;;AAKA,IAAIH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAAnB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,eADqB,GAErB,GAFqB,GAEhBuH,IAAI,CAAC7H,qBAFW,GAEa,kDAFb,GAGrB,oFAHqB,GAIrB,WAJU,EAIG,GAJH,CAAd;AAOA,IAAI8H,cAAc,GAAG,IAAIxH,MAAJ,CAAW,YAC5B,eAD4B,GAE5B,GAF4B,GAEvBuH,IAAI,CAAC7H,qBAFkB,GAEM,2BAFN,GAG5B,8CAH4B,GAI5B,WAJiB,EAIJ,GAJI,CAArB;;AAOA9G,OAAO,CAACC,MAAR,GAAiB,SAAS0E,sBAAT,GAAiC;AAC9C1E,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAIkD,KAAK,CAAC,CAAD,CAAjB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGnH,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAV;;AACA,QAAI+G,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,MAA4B7H,SAAhC,EAA2C;AACvC6H,SAAG,GAAGgH,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,CAAN;AACH,KAFD,MAEO,IAAIA,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,OAA/B,EAAwC;AAC3CA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,KAAK,SAAZ,EAAuB;AAC1BA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAI,SAAS4H,IAAT,CAAc5H,GAAd,CAAJ,EAAwB;AAC3BA,SAAG,GAAG,GAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAGsD,QAAQ,CAACtD,GAAD,CAAd;AACH;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AACA,QAAI,wBAAwBmS,IAAxB,CAA6B/O,KAAK,CAAC,CAAD,CAAlC,CAAJ,EAA4C;AAExC,UAAI,OAAO+O,IAAP,CAAY/O,KAAK,CAAC,CAAD,CAAjB,CAAJ,EAA2B;AACvBxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,GAAd,CAAP;AACH,OAFD,MAEO,IAAI,SAAS4H,IAAT,CAAc/O,KAAK,CAAC,CAAD,CAAnB,CAAJ,EAA6B;AAChCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAG,GAAG,CAAf,EAAkB,GAAlB,CAAP;AACH,OAFM,MAEA,IAAI,SAAS4H,IAAT,CAAc/O,KAAK,CAAC,CAAD,CAAnB,CAAJ,EAA6B;AAChCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,OAAd,CAAP;AACH,OAFM,MAEA,IAAI,QAAQ4H,IAAR,CAAa/O,KAAK,CAAC,CAAD,CAAlB,CAAJ,EAA4B;AAC/BxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACA,aAAOb,MAAP;AACH;;AAED,QAAI,UAAUoS,IAAV,CAAe/O,KAAK,CAAC,CAAD,CAApB,CAAJ,EAA8B;AAE1BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,MAAd,CAAP;AAEH,KAJD,MAIO,IAAI,OAAO4H,IAAP,CAAY/O,KAAK,CAAC,CAAD,CAAjB,CAAJ,EAA2B;AAE9BxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AAEH,KAJM,MAIA,IAAI,WAAW4H,IAAX,CAAgB/O,KAAK,CAAC,CAAD,CAArB,CAAJ,EAA+B;AAElCxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAASqI,GAAT,EAAc,QAAd,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AACA,WAAOJ,MAAP;AACH,GAjED;AAkEH,CAzED,C;;;;;;ACxBA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAM8O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAAtB;;AACA,IAAMC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA7C;;AACA,IAAMyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAArB;;AAEA,IAAM8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACnB,cADmB,GAEnB,mGAFmB,GAGnB,cAHmB,GAInB,iBAJmB,GAKnB,wEALmB,GAMnB,8MANmB,GAOnB,KAPmB,GAQf,iCARe,GASf,iCATe,GAUnB,IAVmB,GAWnB,WAXQ,EAWK,GAXL,CAAhB;AAcA,IAAMa,aAAa,GAAG,CAAtB;AACA,IAAM+G,UAAU,GAAG,CAAnB;AACA,IAAME,aAAa,GAAG,CAAtB;AACA,IAAME,gBAAgB,GAAG,CAAzB;AACA,IAAMC,UAAU,GAAG,CAAnB;AACA,IAAMI,aAAa,GAAG,CAAtB;;AAEAzP,OAAO,CAACC,MAAR,GAAiB,SAAS2E,6BAAT,GAAwC;AACrDmH,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAMtD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC5BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADsB;AAE5B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFF;AAG5B3D,SAAG,EAAEA;AAHuB,KAAjB,CAAf;AAMA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAGhB,KAAK,CAACwO,UAAD,CAAf;AACAxN,OAAG,GAAGyJ,QAAQ,CAACzJ,GAAD,CAAd;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAT,EAAuB;AACnBxQ,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAZ;AACAxQ,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAG2B,KAAK,CAACiP,aAAD,CAAR,EAAwB;AACpB,YAAI,KAAKF,IAAL,CAAU/O,KAAK,CAACiP,aAAD,CAAf,CAAJ,EAAqC;AACjC;AACA5Q,cAAI,GAAG,CAACA,IAAR;AACH;AACJ,OALD,MAKO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AACHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH,KAvCyC,CAyC1C;;;AACA,QAAI2B,KAAK,CAACyH,aAAD,CAAT,EAA0B;AACtB,UAAIuH,OAAO,GAAGhP,KAAK,CAACyH,aAAD,CAAnB;AACAuH,aAAO,GAAGb,IAAI,CAACrI,cAAL,CAAoBkJ,OAAO,CAAC5H,WAAR,EAApB,CAAV;AACAzK,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BuQ,OAA/B;AACH,KA9CyC,CAgD1C;;;AACA,QAAIhP,KAAK,CAAC0O,aAAD,CAAT,EAA0B;AACtB/R,YAAM,CAACO,GAAP,GAAaP,MAAM,CAACK,KAAP,CAAaI,KAAb,EAAb;AACAT,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,KAAlB,EAAyBgM,QAAQ,CAACzK,KAAK,CAAC0O,aAAD,CAAN,CAAjC;AACH;;AAED/R,UAAM,CAACI,IAAP,CAAY,+BAAZ,IAA+C,IAA/C;AACA,WAAOJ,MAAP;AACH,GAxDD;AAyDH,CA9DD,C;;;;;;AC1BA;;;;;;;;AASA,IAAM4O,MAAM,GAAG9O,mBAAO,CAAC,CAAD,CAAtB;;AACA,IAAMC,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA7C;;AACA,IAAMyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAArB;;AAEA,IAAM8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,0BACvB,0MADuB,GAEvB,MAFuB,GAGvB,KAHuB,GAInB,gGAJmB,GAKvB,IALuB,GAMvB,iBANY,EAMO,GANP,CAAhB;AAQA,IAAMgI,gBAAgB,GAAG,CAAzB;AACA,IAAMC,UAAU,GAAG,CAAnB;AACA,IAAMI,aAAa,GAAG,CAAtB;AACA,IAAMC,WAAW,GAAG,CAApB;AACA,IAAMC,cAAc,GAAG,CAAvB;;AAEA3P,OAAO,CAACC,MAAR,GAAiB,SAASmC,iBAAT,GAA4B;AACzC2J,QAAM,CAAC9L,MAAP,CAAcwI,KAAd,CAAoB,IAApB,EAA0BC,SAA1B;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAItD,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CADoB;AAE1B1D,WAAK,EAAEmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAFJ;AAG1B3D,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAOA,QAAIwB,KAAK,GAAG4B,KAAK,CAAC4O,gBAAD,CAAjB;AACAxQ,SAAK,GAAG+P,IAAI,CAACpI,YAAL,CAAkB3H,KAAK,CAACgJ,WAAN,EAAlB,CAAR;AAEA,QAAIpG,GAAG,GAAG,CAAV;AAEA,QAAI3C,IAAI,GAAG,IAAX;;AACA,QAAI2B,KAAK,CAAC6O,UAAD,CAAL,IAAqB7O,KAAK,CAACkP,WAAD,CAA9B,EAA6C;AACzC7Q,UAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqB7O,KAAK,CAACkP,WAAD,CAAjC;AACA7Q,UAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;;AAEA,UAAI2B,KAAK,CAACiP,aAAD,CAAL,IAAwBjP,KAAK,CAACmP,cAAD,CAAjC,EAAmD;AAC/C,YAAI,KAAKJ,IAAL,CAAU/O,KAAK,CAACiP,aAAD,CAAL,IAAwBjP,KAAK,CAACmP,cAAD,CAAvC,CAAJ,EAA8D;AAC1D;AACA9Q,cAAI,GAAG,CAACA,IAAR;AACH;AAEJ,OAND,MAMO,IAAIA,IAAI,GAAG,GAAX,EAAe;AAElBA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED,QAAGA,IAAH,EAAQ;AACJ1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B6C,GAA1B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B;AACH,KAJD,MAIO;AAEHA,UAAI,GAAGkN,MAAM,CAACxK,oBAAP,CAA4BnE,GAA5B,EAAiCoE,GAAjC,EAAsC5C,KAAtC,CAAP;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B6C,GAA1B;AACArE,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BE,IAA3B;AACH;;AAED1B,UAAM,CAACI,IAAP,CAAY,mBAAZ,IAAmC,IAAnC;AACA,WAAOJ,MAAP;AACH,GA5CD;AA6CH,CAlDD,C;;;;;;AC3BA;;;;;;AAMA,IAAIH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAAnB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,KADqB,GAEjB,cAFiB,GAGjB,wFAHiB,GAIjB,cAJiB,GAKjB,cALiB,GAMrB,IANqB,GAOrB,qDAPqB,GAQrB,KARqB,GASjB,aATiB,GAUjB,uCAViB,GAWrB,IAXqB,GAYrB,SAZU,EAYC,GAZD,CAAd;AAcA,IAAIU,WAAW,GAAG;AACd,aAAW,CADG;AACA,QAAM,CADN;AAEd,YAAU,CAFI;AAED,QAAM,CAFL;AAGd,cAAY,CAHE;AAGC,QAAM,CAHP;AAId,cAAY,CAJE;AAIC,QAAM,CAJP;AAKd,gBAAc,CALA;AAKG,QAAM,CALT;AAMd,aAAW,CANG;AAMA,QAAM,CANN;AAOd,aAAW,CAPG;AAOA,QAAM;AAPN,CAAlB;AAWA,IAAI+H,cAAc,GAAG,CAArB;AACA,IAAIC,YAAY,GAAG,CAAnB;AAEA,IAAI7H,aAAa,GAAG,CAApB;AACA,IAAIiI,SAAS,GAAG,CAAhB;AACA,IAAID,WAAW,GAAG,CAAlB;AACA,IAAIZ,UAAU,GAAG,CAAjB;;AAEArP,OAAO,CAACC,MAAR,GAAiB,SAAS6E,uBAAT,CAAiCuL,QAAjC,EAA2C;AACxDpQ,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAY;AAAE,WAAOyH,OAAP;AAAiB,GAA9C;;AACA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAGD,KAAK,CAACqP,cAAD,CAAL,IAAyB,GAAzB,IAAgCrP,KAAK,CAACsP,YAAD,CAAL,IAAuB,GAA1D,EAA+D;AAC3D;AACA;AACA;AACAtP,WAAK,CAACnD,KAAN,IAAemD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAxB;AACA;AACH;;AAED,QAAI1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAhD;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAACqP,cAAD,CAAL,CAAsB9O,MAAtC,EAA8CP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAACsP,YAAD,CAAL,CAAoB/O,MAApF,CAAX;AAGA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BI,UAAI,EAAEA,IADoB;AAE1BD,WAAK,EAAEA,KAFmB;AAG1BD,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAGE,IAAI,CAACkD,KAAL,CAAW,UAAX,CAAH,EAA2B;AAC3B,QAAGlD,IAAI,CAACkD,KAAL,CAAW,wBAAX,CAAH,EAAyC,OArBC,CAuB1C;AACA;;AACA,QAAG,CAACA,KAAK,CAAC6O,UAAD,CAAN,IAAsB7O,KAAK,CAAC,CAAD,CAAL,CAAS2P,OAAT,CAAiB,GAAjB,IAAwB,CAAjD,EAAoD;AAEpD,QAAItR,IAAI,GAAG2B,KAAK,CAAC6O,UAAD,CAAL,IAAqBrS,KAAK,CAACI,GAAD,CAAL,CAAWyB,IAAX,KAAoB,EAApD;AACA,QAAID,KAAK,GAAG4B,KAAK,CAACyP,WAAD,CAAjB;AACA,QAAIzO,GAAG,GAAKhB,KAAK,CAAC0P,SAAD,CAAjB;AAEAtR,SAAK,GAAGqM,QAAQ,CAACrM,KAAD,CAAhB;AACA4C,OAAG,GAAIyJ,QAAQ,CAACzJ,GAAD,CAAf;AACA3C,QAAI,GAAGoM,QAAQ,CAACpM,IAAD,CAAf;AAEA,QAAID,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,EAAzB,EAA6B,OAAO,IAAP;AAC7B,QAAG4C,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,EAApB,EAAwB,OAAO,IAAP;;AAExB,QAAG3C,IAAI,GAAG,GAAV,EAAc;AACV,UAAIA,IAAI,GAAG,EAAX,EAAe;AACXA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH,OAFD,MAEO;AACHA,YAAI,GAAGA,IAAI,GAAG,IAAd;AACH;AACJ;;AAED1B,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BuC,GAA3B;AACArE,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BL,KAA7B;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BJ,IAA5B,EAhD0C,CAkD1C;;AACA,QAAG2B,KAAK,CAACyH,aAAD,CAAR,EAAyB;AACrB9K,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+B6I,WAAW,CAACtH,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAD,CAA1C;AACH;;AAEDzK,UAAM,CAACI,IAAP,CAAY,yBAAZ,IAAyC,IAAzC;AACA,WAAOJ,MAAP;AACH,GAzDD;AA0DH,CA9DD,C;;;;;;AC3CA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIyR,IAAI,GAAI1R,mBAAO,CAAC,CAAD,CAAnB;;AAEA,IAAI8K,OAAO,GAAG,IAAIX,MAAJ,CAAW,KACrB,gBADqB,GAErB,GAFqB,GAEfuH,IAAI,CAAC7H,qBAFU,GAEc,kDAFd,GAGrB,oFAHqB,GAIrB,eAJU,EAIO,GAJP,CAAd;AAMA,IAAI8H,cAAc,GAAG,IAAIxH,MAAJ,CAAW,KAC5B,gBAD4B,GAE5B,0BAF4B,GAG5B,0CAH4B,GAI5B,eAJiB,EAIA,GAJA,CAArB;;AAMApH,OAAO,CAACC,MAAR,GAAiB,SAAS8E,qBAAT,GAAgC;AAC7C9E,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AACtB,WAAO,KAAKD,YAAL,KAAqBuO,cAArB,GAAsC7G,OAA7C;AACH,GAFD;;AAIA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AAExD,QAAIlD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAhB;AACAlD,QAAI,GAAIkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAR;AACA1D,SAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAA/B;AAEA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIuK,GAAG,GAAGnH,KAAK,CAAC,CAAD,CAAL,CAASoH,WAAT,EAAV;;AACA,QAAI+G,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,MAA4B7H,SAAhC,EAA2C;AACvC6H,SAAG,GAAGgH,IAAI,CAAC9H,aAAL,CAAmBc,GAAnB,CAAN;AACH,KAFD,MAEO,IAAIA,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,OAA/B,EAAwC;AAC3CA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAIA,GAAG,KAAK,SAAZ,EAAuB;AAC1BA,SAAG,GAAG,CAAN;AACH,KAFM,MAEA,IAAI,SAAS4H,IAAT,CAAc5H,GAAd,CAAJ,EAAwB;AAC3BA,SAAG,GAAG,GAAN;AACH,KAFM,MAEA;AACHA,SAAG,GAAGsD,QAAQ,CAACtD,GAAD,CAAd;AACH;;AAED,QAAI3J,IAAI,GAAGhB,KAAK,CAACI,GAAD,CAAhB;;AAEA,QAAI,sBAAsBmS,IAAtB,CAA2B/O,KAAK,CAAC,CAAD,CAAhC,CAAJ,EAA0C;AACtC,UAAI,UAAU+O,IAAV,CAAe/O,KAAK,CAAC,CAAD,CAApB,CAAJ,EAA8B;AAE1BxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEH,OAJD,MAIO,IAAI,OAAO4H,IAAP,CAAY/O,KAAK,CAAC,CAAD,CAAjB,CAAJ,EAA2B;AAE9BxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,QAAf,CAAP;AAEH,OAJM,MAIA,IAAI,WAAW4H,IAAX,CAAgB/O,KAAK,CAAC,CAAD,CAArB,CAAJ,EAA+B;AAElCxC,YAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,QAAf,CAAP;AACH;;AAEDxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACwB,IAAL,EAA5B;AACArC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAACyB,MAAL,EAA9B;AACAtC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BjB,IAAI,CAAC0B,MAAL,EAA9B;AACAvC,YAAM,CAACI,IAAP,CAAY,uBAAZ,IAAuC,IAAvC;AACA,aAAOJ,MAAP;AACH;;AAED,QAAI,SAASoS,IAAT,CAAc/O,KAAK,CAAC,CAAD,CAAnB,CAAJ,EAA6B;AACzBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AAEAxK,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0BX,IAAI,CAACA,IAAL,EAA1B;AACAb,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4BX,IAAI,CAACY,KAAL,KAAe,CAA3C;AACAzB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BX,IAAI,CAACa,IAAL,EAA3B;AACA1B,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,SAAnB,EAA8BX,IAAI,CAACwD,GAAL,EAA9B;AACA,aAAOrE,MAAP;AACH;;AAED,QAAI,OAAOoS,IAAP,CAAY/O,KAAK,CAAC,CAAD,CAAjB,CAAJ,EAA2B;AACvBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,GAAf,CAAP;AACH;;AAED,QAAI,SAAS4H,IAAT,CAAc/O,KAAK,CAAC,CAAD,CAAnB,CAAJ,EAA6B;AACzBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,OAAf,CAAP;AACH;;AAED,QAAI,QAAQ4H,IAAR,CAAa/O,KAAK,CAAC,CAAD,CAAlB,CAAJ,EAA4B;AAExBxC,UAAI,GAAGA,IAAI,CAACsB,GAAL,CAAS,CAACqI,GAAV,EAAe,MAAf,CAAP;AACH;;AAEDxK,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BjB,IAAI,CAACA,IAAL,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BjB,IAAI,CAACY,KAAL,KAAe,CAA5C;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BjB,IAAI,CAACa,IAAL,EAA5B;AACA,WAAO1B,MAAP;AAEH,GAjFD;AAkFH,CAzFD,C;;;;;;ACjBA;;;;AAKA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AACA,IAAIO,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AAEA,IAAI6S,iBAAiB,GAAI,IAAIlJ,MAAJ,CAAW,cAChC,qBADgC,GAEhC,mCAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,qBANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,cATgC,GAUhC,iEAVgC,GAWhC,WAXqB,EAWR,GAXQ,CAAzB;AAcA,IAAImJ,kBAAkB,GAAG,IAAInJ,MAAJ,CAAW,UAChC,+BADgC,GAEhC,YAFgC,GAGhC,KAHgC,GAI5B,2BAJ4B,GAK5B,KAL4B,GAMxB,2BANwB,GAO5B,IAP4B,GAQhC,IARgC,GAShC,iEATgC,GAUhC,WAVqB,EAUR,GAVQ,CAAzB;AAYA,IAAIoJ,UAAU,GAAM,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIC,YAAY,GAAI,CAApB;AACA,IAAIE,gBAAgB,GAAG,CAAvB;;AAGA5Q,OAAO,CAACC,MAAR,GAAiB,SAAS+E,sBAAT,GAAkC;AAC/C/E,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOgQ,iBAAP;AAA2B,GAAvD;;AAEA,OAAK/P,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAE1C;AACA,QAAID,KAAK,CAACnD,KAAN,GAAc,CAAd,IAAmBC,IAAI,CAACkD,KAAK,CAACnD,KAAN,GAAY,CAAb,CAAJ,CAAoBmD,KAApB,CAA0B,IAA1B,CAAvB,EAAwD,OAAO,IAAP;AACxD,QAAIiB,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAArB;AACA,QAAID,MAAM,GAAG,IAAID,YAAJ,EAAb;AACAC,UAAM,CAACC,GAAP,GAAaA,GAAb;AACAD,UAAM,CAACE,KAAP,GAAemD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAtC;AACA5D,UAAM,CAACG,IAAP,GAAekD,KAAK,CAAC,CAAD,CAAL,CAASQ,SAAT,CAAmBR,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5B,CAAf;AACA5D,UAAM,CAACI,IAAP,CAAY,wBAAZ,IAAwC,IAAxC;AAEAJ,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA4B8C,SAAS,CAACzD,IAAV,EAA5B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAkB,CAA9C;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA4B8C,SAAS,CAAC5C,IAAV,EAA5B;AAEA,QAAIW,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CAjB0C,CAmB1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BS,MAA9B;AACH,KAzByC,CA2B1C;;;AACA,QAAI,YAAY6P,IAAZ,CAAiB/O,KAAK,CAACgQ,UAAD,CAAtB,CAAJ,EAAyC;AACrCK,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,EAAP;AACH,KAHD,MAGO,IAAI,iBAAiB+P,IAAjB,CAAsB/O,KAAK,CAACgQ,UAAD,CAA3B,CAAJ,EAA8C;AACjDK,cAAQ,GAAG,CAAX;AACArR,UAAI,GAAG,CAAP;AACH,KAHM,MAGA;AACHA,UAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAACgQ,UAAD,CAAN,CAAf;AACH,KApCyC,CAsC1C;;;AACA,QAAGhQ,KAAK,CAACiQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACH,KAFD,MAEO,IAAGjR,IAAI,GAAG,GAAV,EAAe;AAClBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KAvDyC,CAyD1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAqC;AACjC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;AACf,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAIkJ,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,YAAnC,EAAiD;AAC7CD,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,GAAG,CAAP;AAClB,OAHD,MAGO;AACHqR,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;AACJ;;AAEDrC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BO,IAA5B;AACArC,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,QAApB,EAA8BQ,MAA9B;;AAEA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,UAApB,EAAgC4R,QAAhC;AACH,KAFD,MAEO;AACH,UAAIrR,IAAI,GAAG,EAAX,EAAe;AACXrC,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,OAFD,MAEO;AACHxB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH;AACJ,KAjFyC,CAmF1C;AACA;AACA;;;AACA6B,SAAK,GAAG+P,kBAAkB,CAACzP,IAAnB,CAAwBxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAAxB,CAAR;;AACA,QAAI,CAACP,KAAL,EAAY;AACR;AACA,UAAIrD,MAAM,CAACG,IAAP,CAAYkD,KAAZ,CAAkB,OAAlB,CAAJ,EAAgC;AAC5B,eAAO,IAAP;AACH;;AACD,aAAOrD,MAAP;AACH,KA7FyC,CAiG1C;;;AACA,QAAIqD,KAAK,CAAC,CAAD,CAAL,CAASA,KAAT,CAAe,wBAAf,CAAJ,EAA8C;AAC1C,aAAOrD,MAAP;AACH;;AAED,QAAGA,MAAM,CAACO,GAAP,IAAc,IAAjB,EAAsB;AAClBP,YAAM,CAACO,GAAP,GAAa,IAAID,gBAAJ,CAAqB,IAArB,EAA2BN,MAAM,CAACK,KAAP,CAAaQ,IAAb,EAA3B,CAAb;AACH;;AAED,QAAIwB,IAAI,GAAG,CAAX;AACA,QAAIC,MAAM,GAAG,CAAb;AACA,QAAIoR,QAAQ,GAAG,CAAC,CAAhB,CA5G0C,CA8G1C;;AACA,QAAGrQ,KAAK,CAACkQ,YAAD,CAAL,IAAuB,IAA1B,EAA+B;AAC3B,UAAIhR,MAAM,GAAGuL,QAAQ,CAACzK,KAAK,CAACkQ,YAAD,CAAN,CAArB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAO,IAAP;AAEjBvC,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BS,MAA5B;AACH;;AAEDF,QAAI,GAAGyL,QAAQ,CAACzK,KAAK,CAAC,CAAD,CAAN,CAAf,CAtH0C,CAwH1C;;AACA,QAAIA,KAAK,CAACiQ,YAAD,CAAL,IAAsB,IAA1B,EAAgC;AAE5BhR,YAAM,GAAGwL,QAAQ,CAACzK,KAAK,CAACiQ,YAAD,CAAN,CAAjB;AACA,UAAGhR,MAAM,IAAI,EAAb,EAAiB,OAAOtC,MAAP;AAEpB,KALD,MAKO,IAAIqC,IAAI,GAAG,GAAX,EAAgB;AAEnBC,YAAM,GAAGD,IAAI,GAAC,GAAd;AACAA,UAAI,GAAKyL,QAAQ,CAACzL,IAAI,GAAC,GAAN,CAAjB;AACH;;AAED,QAAGC,MAAM,IAAI,EAAb,EAAiB;AACb,aAAO,IAAP;AACH;;AAED,QAAGD,IAAI,GAAG,EAAV,EAAc;AACV,aAAO,IAAP;AACH;;AACD,QAAIA,IAAI,IAAI,EAAZ,EAAgB;AACZqR,cAAQ,GAAG,CAAX;AACH,KA7IyC,CA+I1C;;;AACA,QAAIrQ,KAAK,CAACoQ,gBAAD,CAAL,IAA2B,IAA/B,EAAqC;AAEjC,UAAIpR,IAAI,GAAG,EAAX,EAAe,OAAO,IAAP;AAEf,UAAIsR,IAAI,GAAGtQ,KAAK,CAACoQ,gBAAD,CAAL,CAAwB,CAAxB,EAA2BhJ,WAA3B,EAAX;;AACA,UAAIkJ,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,YAAnC,EAAiD;AAC7CD,gBAAQ,GAAG,CAAX;;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAe;AACXA,cAAI,GAAG,CAAP;;AACA,cAAI,CAACrC,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,KAArB,CAAL,EAAkC;AAC9B/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;AACJ;AACJ,OARD,MAQO;AACH8R,gBAAQ,GAAG,CAAX;AACA,YAAGrR,IAAI,IAAI,EAAX,EAAeA,IAAI,IAAI,EAAR;AAClB;;AAED,UAAI,CAACrC,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,CAAL,EAAyC;AACrC,YAAI2R,QAAQ,IAAI,CAAhB,EAAmB;AAEf1T,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B,CAA5B;AACH;AAEJ,SARD,MAQO;AAEH9B,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;;AAEA,cAAIxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,KAA4B,EAAhC,EAAoC;AAChC5B,kBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4B9B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,EAAvD;AACH;AACJ;AACJ;AACJ;;AAED5B,UAAM,CAACG,IAAP,GAAcH,MAAM,CAACG,IAAP,GAAckD,KAAK,CAAC,CAAD,CAAjC;AACArD,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,MAAlB,EAA0BO,IAA1B;AACArC,UAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,QAAlB,EAA4BQ,MAA5B;;AACA,QAAIoR,QAAQ,IAAI,CAAhB,EAAmB;AACf1T,YAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,UAAlB,EAA8B4R,QAA9B;AACH,KAFD,MAEO;AACH,UAAIE,SAAS,GAAG5T,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,UAAvB,KAAsC/B,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,UAAjB,KAAgC,CAAtF;;AACA,UAAIgS,SAAS,IAAI5T,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2BS,IAA5C,EAAkD;AAC9C;AACArC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AAEH,OAJD,MAIO,IAAIa,IAAI,GAAG,EAAX,EAAe;AAClBrC,cAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,UAAjB,EAA6B,CAA7B;AACH;AACJ;;AAED,QAAIxB,MAAM,CAACO,GAAP,CAAWM,IAAX,GAAkBmM,OAAlB,KAA8BhN,MAAM,CAACK,KAAP,CAAaQ,IAAb,GAAoBmM,OAApB,EAAlC,EAAiE;AAC7DhN,YAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,KAAjB,EAAwBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,KAAf,IAAwB,CAAhD;AACH;;AAED,WAAO5B,MAAP;AACH,GA3MD;AA4MH,CAjND,C;;;;;;AC1CA;;;;AAIA,IAAMH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAArB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI4K,WAAW,GAAG;AACd,aAAW,CADG;AACA,QAAM,CADN;AAEd,YAAU,CAFI;AAED,QAAM,CAFL;AAGd,cAAY,CAHE;AAGC,QAAM,CAHP;AAId,cAAY,CAJE;AAIC,QAAM,CAJP;AAKd,gBAAc,CALA;AAKG,QAAM,CALT;AAMd,aAAW,CANG;AAMA,QAAM,CANN;AAOd,aAAW,CAPG;AAOA,QAAM;AAPN,CAAlB;AAUA,IAAIC,OAAO,GAAG,IAAIX,MAAJ,CAAW,YACrB,0BADqB,GAErB,iBAFqB,GAGrB,oDAHqB,GAIrB,GAJqB,GAIfX,MAAM,CAACC,IAAP,CAAYoB,WAAZ,EAAyBnB,IAAzB,CAA8B,GAA9B,CAJe,GAIsB,GAJtB,GAKrB,0BALqB,GAMrB,iDANqB,GAOrB,WAPU,EAOG,GAPH,CAAd;AASA,IAAIqB,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEAlI,OAAO,CAACC,MAAR,GAAiB,SAASgF,eAAT,GAA2B;AACxChF,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAA+B;AAC1C,QAAIpD,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAAnC;AACA,QAAIzD,IAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,EAAiCP,KAAK,CAAC,CAAD,CAAL,CAASO,MAAT,GAAkBP,KAAK,CAAC,CAAD,CAAL,CAASO,MAA5D,CAAX;AACA,QAAI5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC1BG,WAAK,EAAEA,KADmB;AAE1BC,UAAI,EAAEA,IAFoB;AAG1BF,SAAG,EAAEA;AAHqB,KAAjB,CAAb;AAMA,QAAIwL,SAAS,GAAGpI,KAAK,CAACyH,aAAD,CAAL,CAAqBL,WAArB,EAAhB;AACA,QAAIQ,MAAM,GAAGN,WAAW,CAACc,SAAD,CAAxB;AACA,QAAGR,MAAM,KAAKtI,SAAd,EAAyB,OAAO,IAAP;AAEzB,QAAIwI,WAAW,GAAGtL,KAAK,CAACI,GAAD,CAAvB;AACA,QAAIyL,MAAM,GAAGrI,KAAK,CAACwH,YAAD,CAAlB;AACA,QAAIc,OAAO,GAAGtI,KAAK,CAAC0H,aAAD,CAAnB;AAEA,QAAIM,SAAS,GAAGF,WAAW,CAAC9G,GAAZ,EAAhB;AACA,QAAIuH,IAAI,GAAGF,MAAM,IAAIC,OAArB;AACAC,QAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,QAAI,GAAGA,IAAI,CAACnB,WAAL,EAAP;;AACA,QAAI,SAAS2H,IAAT,CAAcxG,IAAd,CAAJ,EAAyB;AACrBT,iBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,KAFD,MAEO,IAAI,iBAAiBmH,IAAjB,CAAsBxG,IAAtB,CAAJ,EAAiC;AACpCT,iBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,KAFM,MAEA,IAAI,QAAQmH,IAAR,CAAaxG,IAAb,CAAJ,EAAwB;AAC3B,UAAKtI,GAAG,CAAC6L,WAAJ,IAAmB9D,SAAS,GAAGJ,MAApC,EAA6C;AACzCE,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,OAFD,MAEO;AACHE,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAhB,CAAd;AACH;AACJ,KANM,MAMA;AACH,UAAK3H,GAAG,CAAC6L,WAAJ,IAAmB9D,SAAS,GAAGJ,MAApC,EAA6C;AACzCE,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,OAFD,MAEO,IAAI,CAAC3H,GAAG,CAAC6L,WAAL,IAAoB1K,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAG,CAAT,GAAaI,SAAtB,IAAmC5G,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAGI,SAAlB,CAA3D,EAAyF;AAC5FF,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,OAFM,MAEA,IAAI,CAAC3H,GAAG,CAAC6L,WAAL,IAAoB1K,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAG,CAAT,GAAaI,SAAtB,IAAmC5G,IAAI,CAACC,GAAL,CAASuG,MAAM,GAAGI,SAAlB,CAA3D,EAAyF;AAC5FF,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAM,GAAG,CAAzB,CAAd;AACH,OAFM,MAEA;AACHE,mBAAW,GAAGA,WAAW,CAAC9G,GAAZ,CAAgB4G,MAAhB,CAAd;AACH;AACJ;;AAEDjL,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,SAApB,EAA+BmJ,MAA/B;AACAjL,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B2J,WAAW,CAACtK,IAAZ,EAA1B;AACAb,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B2J,WAAW,CAAC1J,KAAZ,KAAsB,CAAlD;AACAzB,UAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B2J,WAAW,CAACzJ,IAAZ,EAA3B;AACA,WAAO1B,MAAP;AACH,GAhDD;AAiDH,CAtDD,C;;;;;;AC/BA,IAAIH,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAAnB;;AACA,IAAIgD,MAAM,GAAGhD,mBAAO,CAAC,CAAD,CAAP,CAAqBgD,MAAlC;;AACA,IAAI/C,YAAY,GAAGD,mBAAO,CAAC,CAAD,CAAP,CAAwBC,YAA3C;;AAEA,IAAI6K,OAAO,GAAG,IAAIX,MAAJ,CACV,aACI,QADJ,GAEI,iEAFJ,GAGI,2BAHJ,GAII,QAJJ,GAKI,kFALJ,GAMI,2EANJ,GAOI,iBAPJ,GAQA,YATU,EASI,GATJ,CAAd;;AAWApH,OAAO,CAACC,MAAR,GAAiB,SAASiF,kBAAT,GAA8B;AAE3CjF,QAAM,CAACwI,KAAP,CAAa,IAAb,EAAmBC,SAAnB;;AAEA,OAAKpI,OAAL,GAAe,YAAW;AAAE,WAAOyH,OAAP;AAAiB,GAA7C;;AAEA,OAAKxH,OAAL,GAAe,UAASjD,IAAT,EAAeF,GAAf,EAAoBoD,KAApB,EAA2BC,GAA3B,EAAgC;AAC3CnD,QAAI,GAAGkD,KAAK,CAAC,CAAD,CAAL,CAASmI,MAAT,CAAgBnI,KAAK,CAAC,CAAD,CAAL,CAASO,MAAzB,CAAP;AAEA,QAAM1D,KAAK,GAAGmD,KAAK,CAACnD,KAAN,GAAcmD,KAAK,CAAC,CAAD,CAAL,CAASO,MAArC;AACA,QAAM5D,MAAM,GAAG,IAAID,YAAJ,CAAiB;AAC5BG,WAAK,EAAEA,KADqB;AAE5BC,UAAI,EAAEA,IAFsB;AAG5BF,SAAG,EAAEA;AAHuB,KAAjB,CAAf;AAMA,QAAMqE,SAAS,GAAGzE,KAAK,CAACI,GAAD,CAAvB;AACA,QAAM8T,SAAS,GAAG5T,IAAI,CAACsK,WAAL,EAAlB;AAEA,QAAIU,WAAW,GAAG7G,SAAlB;;AAEA,QAAI,0BAA0B8N,IAA1B,CAA+B2B,SAA/B,CAAJ,EAA+C;AAC3C;AACA/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACH,KAJD,MAIO,IAAI,qBAAqB4Q,IAArB,CAA0B2B,SAA1B,CAAJ,EAA0C;AAC7C5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgBmC,SAAS,CAACjC,IAAV,KAAmB,CAAnB,GAAuB,CAAvB,GAA2B,CAA3C,EAA8C,KAA9C,CAAd;AACH,KAFM,MAEA,IAAI,UAAU+P,IAAV,CAAe2B,SAAf,CAAJ,EAA+B;AAClC;AACA,UAAIzP,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAhB,EAAmB,KAAnB,CAAd;AACH;AACJ,KALM,MAKA,IAAI,WAAWiQ,IAAX,CAAgB2B,SAAhB,CAAJ,EAAgC;AACnC5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,KAFM,MAEA,IAAI,cAAciQ,IAAd,CAAmB2B,SAAnB,CAAJ,EAAmC;AACtC5I,iBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH,KAFM,MAEA,IAAI,iBAAiBiQ,IAAjB,CAAsB2B,SAAtB,CAAJ,EAAsC;AACzC/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;;AACA,UAAI8C,SAAS,CAACjC,IAAV,KAAmB,CAAvB,EAA0B;AACtB8I,mBAAW,GAAGA,WAAW,CAAChJ,GAAZ,CAAgB,CAAC,CAAjB,EAAoB,KAApB,CAAd;AACH;AACJ,KALM,MAKA,IAAI4R,SAAS,KAAK,OAAlB,EAA2B;AAC9B/T,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAACjC,IAAV,EAA3B;AACArC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAChC,MAAV,EAA7B;AACAtC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,QAAnB,EAA6B8C,SAAS,CAAC/B,MAAV,EAA7B;AACAvC,YAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,aAAnB,EAAkC8C,SAAS,CAAC9B,WAAV,EAAlC;AACH;;AAED,QAAImS,WAAW,GAAGtR,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAjB,IAAwBA,KAAK,CAAC,CAAD,CAA/C;;AACA,QAAIsR,WAAJ,EAAiB;AACb,cAAQA,WAAW,CAAClK,WAAZ,EAAR;AACI,aAAK,QAAL;AACIzK,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACA;;AACJ,aAAK,WAAL;AACIxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACA;;AACJ,aAAK,QAAL;AACIxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACA;;AACJ,aAAK,YAAL;AACIxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACA;;AACJ,aAAK,OAAL;AACIxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,UAAnB,EAA+B,CAA/B;AACA;;AACJ,aAAK,OAAL;AACIxB,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B,CAA3B;AACA;AApBR;AAsBH;;AAEDxB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,KAApB,EAA2BqJ,WAAW,CAACtK,IAAZ,EAA3B;AACAb,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,OAApB,EAA6BqJ,WAAW,CAAC1J,KAAZ,KAAsB,CAAnD;AACAzB,UAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,MAApB,EAA4BqJ,WAAW,CAACzJ,IAAZ,EAA5B;AACA1B,UAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACA,WAAOJ,MAAP;AACH,GAzED;AA0EH,CAhFD,C;;;;;;ACfA;;;AAGA,IAAIgI,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAqBkI,OAAnC;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASM,qBAAT,GAAiC;AAClDN,SAAO,CAACE,IAAR,CAAa,IAAb;;AAGA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEpC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAIkU,eAAe,GAAG,EAAtB;AACA,QAAI1L,UAAU,GAAGxI,OAAO,CAAC,CAAD,CAAxB;;AAEA,SAAK,IAAI6E,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC7E,OAAO,CAACI,MAAxB,EAAgCyE,CAAC,EAAjC,EAAoC;AAEhC,UAAIrI,MAAM,GAAGwD,OAAO,CAAC6E,CAAD,CAApB,CAFgC,CAIhC;;AACA,UAAIrI,MAAM,CAACE,KAAP,GAAe8L,UAAU,CAAC9L,KAAX,GAAmB8L,UAAU,CAAC7L,IAAX,CAAgByD,MAAtD,EAA8D;AAE1D,YAAI5D,MAAM,CAACG,IAAP,CAAYyD,MAAZ,GAAqBoI,UAAU,CAAC7L,IAAX,CAAgByD,MAAzC,EAAgD;AAC5CoI,oBAAU,GAAGhM,MAAb;AACH;AAEJ,OAND,MAMO;AACH0X,uBAAe,CAAC5T,IAAhB,CAAqBkI,UAArB;AACAA,kBAAU,GAAGhM,MAAb;AACH;AACJ,KAtBmC,CAwBpC;;;AACA,QAAIgM,UAAU,IAAI,IAAlB,EAAwB;AACpB0L,qBAAe,CAAC5T,IAAhB,CAAqBkI,UAArB;AACH;;AAED,WAAO0L,eAAP;AACH,GA9BJ;AA+BA,CAnCD,C;;;;;;ACLA;;;AAGA,IAAI1P,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAqBkI,OAAnC;;AAGA,IAAI2P,uBAAuB,GAAG,IAAI1N,MAAJ,CAAW,8CAAX,EAA2D,GAA3D,CAA9B;AACA,IAAI2N,0BAA0B,GAAG,CAAjC;AACA,IAAIC,iCAAiC,GAAG,CAAxC;AACA,IAAIC,mCAAmC,GAAG,CAA1C;;AAEAjV,OAAO,CAACmF,OAAR,GAAkB,SAASO,4BAAT,GAAwC;AACtDP,SAAO,CAACE,IAAR,CAAa,IAAb;;AAEA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvCE,WAAO,CAACQ,OAAR,CAAgB,UAAShE,MAAT,EAAiB;AAE7B,UAAIA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,gBAAvB,CAAJ,EAA8C;AAC1C;AACH;;AAED,UAAIsB,KAAK,GAAGsU,uBAAuB,CAAChU,IAAxB,CAA6BxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAA7B,CAAZ;;AACA,UAAI,CAACP,KAAL,EAAY;AACR;AACH;;AAED,UAAIkO,UAAU,GAAGzD,QAAQ,CAACzK,KAAK,CAACwU,iCAAD,CAAN,CAAzB;AACA,UAAIvG,YAAY,GAAGxD,QAAQ,CAACzK,KAAK,CAACyU,mCAAD,CAAN,CAA3B;AACA,UAAIC,cAAc,GAAGxG,UAAU,GAAG,EAAb,GAAkBD,YAAvC;;AACA,UAAIjO,KAAK,CAACuU,0BAAD,CAAL,KAAsC,GAA1C,EAA+C;AAC3CG,sBAAc,GAAG,CAACA,cAAlB;AACH;;AAED,UAAI/X,MAAM,CAACO,GAAP,IAAc,IAAlB,EAAwB;AACpBP,cAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,gBAAlB,EAAoCiW,cAApC;AACH;;AAED/X,YAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,gBAApB,EAAsCiW,cAAtC;AACA/X,YAAM,CAACG,IAAP,IAAekD,KAAK,CAAC,CAAD,CAApB;AACArD,YAAM,CAACI,IAAP,CAAY,8BAAZ,IAA8C,IAA9C;AACH,KAzBD;AA2BA,WAAOoD,OAAP;AACH,GA9BD;AA+BH,CAlCD,C;;;;;;ACXA;;;AAGA,IAAIwE,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAqBkI,OAAnC,C,CAEA;;;AACA,IAAIgQ,qBAAqB,GAAG,IAAI/N,MAAJ,CAAW,oCAAX,EAAiD,GAAjD,CAA5B;AACA,IAAIgO,yBAAyB,GAAG;AAC5B,UAAO,GADqB;AACjB,UAAO,GADU;AACN,SAAM,CAAC,GADD;AACK,UAAO,GADZ;AACgB,UAAO,GADvB;AAC2B,SAAM,GADjC;AACqC,UAAO,CAAC,GAD7C;AACiD,UAAO,CAAC,GADzD;AAC6D,UAAO,GADpE;AACwE,UAAO,CAAC,GADhF;AACoF,SAAM,CAAC,GAD3F;AAC+F,WAAQ,GADvG;AAC2G,UAAO,GADlH;AACsH,UAAO,GAD7H;AACiI,SAAM,CAAC,GADxI;AAC4I,SAAM,CAAC,GADnJ;AACuJ,UAAO,GAD9J;AACkK,UAAO,GADzK;AAC6K,WAAQ,CADrL;AACuL,UAAO,CAAC,EAD/L;AACkM,UAAO,GADzM;AAC6M,SAAM,GADnN;AACuN,SAAM,GAD7N;AACiO,SAAM,CAAC,GADxO;AAC4O,UAAO,CAAC,GADpP;AACwP,SAAM,CAAC,GAD/P;AACmQ,SAAM,EADzQ;AAC4Q,SAAM,GADlR;AACsR,UAAO,GAD7R;AACiS,SAAM,GADvS;AAC2S,SAAM,GADjT;AACqT,SAAM,CAAC,GAD5T;AACgU,UAAO,GADvU;AAC2U,SAAM,EADjV;AACoV,WAAQ,GAD5V;AACgW,WAAQ,GADxW;AAC4W,SAAM,CAAC,GADnX;AACuX,UAAO,CAAC,GAD/X;AACmY,SAAM,CAAC,GAD1Y;AAC8Y,SAAM,CAAC,GADrZ;AACyZ,SAAM,CAAC,GADha;AACoa,SAAM,CAAC,EAD3a;AAC8a,SAAM,GADpb;AACwb,UAAO,GAD/b;AACmc,UAAO,GAD1c;AAC8c,WAAQ,CAAC,GADvd;AAC2d,UAAO,CAAC,GADne;AACue,SAAM,GAD7e;AACif,SAAM,CAAC,GADxf;AAC4f,SAAM,CAAC,GADngB;AACugB,UAAO,GAD9gB;AACkhB,SAAM,GADxhB;AAC4hB,UAAO,CADniB;AACqiB,SAAM,CAAC,EAD5iB;AAC+iB,SAAM,CAAC,GADtjB;AAC0jB,QAAK,CAAC,GADhkB;AACokB,UAAO,GAD3kB;AAC+kB,SAAM,GADrlB;AACylB,UAAO,CAAC,GADjmB;AACqmB,SAAM,CAAC,GAD5mB;AACgnB,SAAM,CAAC,GADvnB;AAC2nB,UAAO,CAAC,GADnoB;AACuoB,UAAO,CAAC,GAD/oB;AACmpB,SAAM,GADzpB;AAC6pB,SAAM,CAAC,GADpqB;AACwqB,UAAO,GAD/qB;AACmrB,SAAM,CADzrB;AAC2rB,SAAM,GADjsB;AACqsB,SAAM,CAAC,GAD5sB;AACgtB,SAAM,CAAC,GADvtB;AAC2tB,SAAM,CAAC,GADluB;AACsuB,UAAO,CAAC,GAD9uB;AACkvB,SAAM,CAAC,GADzvB;AAC6vB,SAAM,CAAC,GADpwB;AACwwB,SAAM,CAAC,GAD/wB;AACmxB,UAAO,CAAC,GAD3xB;AAC+xB,SAAM,CAAC,EADtyB;AACyyB,SAAM,CAAC,GADhzB;AACozB,SAAM,GAD1zB;AAC8zB,SAAM,CAAC,GADr0B;AACy0B,SAAM,CAAC,GADh1B;AACo1B,SAAM,CAAC,GAD31B;AAC+1B,SAAM,CAAC,GADt2B;AAC02B,SAAM,CAAC,GADj3B;AACq3B,SAAM,CAAC,GAD53B;AACg4B,SAAM,CAAC,GADv4B;AAC24B,SAAM,CAAC,GADl5B;AACs5B,UAAO,GAD75B;AACi6B,SAAM,GADv6B;AAC26B,SAAM,GADj7B;AACq7B,SAAM,GAD37B;AAC+7B,UAAO,GADt8B;AAC08B,WAAQ,GADl9B;AACs9B,UAAO,GAD79B;AACi+B,UAAO,GADx+B;AAC4+B,SAAM,GADl/B;AACs/B,SAAM,GAD5/B;AACggC,SAAM,GADtgC;AAC0gC,WAAQ,GADlhC;AACshC,UAAO,GAD7hC;AACiiC,SAAM,GADviC;AAC2iC,UAAO,GADljC;AACsjC,UAAO,GAD7jC;AACikC,UAAO,GADxkC;AAC4kC,UAAO,GADnlC;AACulC,WAAQ,GAD/lC;AACmmC,UAAO,GAD1mC;AAC8mC,UAAO,CAAC,GADtnC;AAC0nC,UAAO,GADjoC;AACqoC,SAAM,CAAC,GAD5oC;AACgpC,UAAO,GADvpC;AAC2pC,SAAM,EADjqC;AACoqC,SAAM,GAD1qC;AAC8qC,SAAM,GADprC;AACwrC,SAAM,GAD9rC;AACksC,SAAM,GADxsC;AAC4sC,SAAM,CAAC,GADntC;AACutC,SAAM,GAD7tC;AACiuC,SAAM,GADvuC;AAC2uC,SAAM,GADjvC;AACqvC,SAAM,GAD3vC;AAC+vC,SAAM,CAAC,EADtwC;AACywC,SAAM,GAD/wC;AACmxC,WAAQ,GAD3xC;AAC+xC,UAAO,GADtyC;AAC0yC,SAAM,GADhzC;AACozC,SAAM,CAAC,GAD3zC;AAC+zC,SAAM,CAAC,GADt0C;AAC00C,UAAO,GADj1C;AACq1C,UAAO,GAD51C;AACg2C,WAAQ,GADx2C;AAC42C,UAAO,GADn3C;AACu3C,SAAM,CAAC,GAD93C;AACk4C,SAAM,CAAC,GADz4C;AAC64C,WAAQ,GADr5C;AACy5C,UAAO,GADh6C;AACo6C,SAAM,GAD16C;AAC86C,UAAO,GADr7C;AACy7C,SAAM,GAD/7C;AACm8C,SAAM,GADz8C;AAC68C,UAAO,CAAC,GADr9C;AACy9C,UAAO,CAAC,GADj+C;AACq+C,UAAO,GAD5+C;AACg/C,SAAM,CAAC,GADv/C;AAC2/C,QAAK,CAAC,GADjgD;AACqgD,SAAM,GAD3gD;AAC+gD,UAAO,CAAC,GADvhD;AAC2hD,SAAM,CAAC,GADliD;AACsiD,SAAM,GAD5iD;AACgjD,UAAO,GADvjD;AAC2jD,UAAO,GADlkD;AACskD,SAAM,GAD5kD;AACglD,SAAM,GADtlD;AAC0lD,SAAM,GADhmD;AAComD,SAAM,CAAC,GAD3mD;AAC+mD,SAAM,CAAC,GADtnD;AAC0nD,UAAO,CAAC,GADloD;AACsoD,SAAM,GAD5oD;AACgpD,SAAM,GADtpD;AAC0pD,SAAM,GADhqD;AACoqD,SAAM,GAD1qD;AAC8qD,SAAM,GADprD;AACwrD,SAAM,GAD9rD;AACksD,UAAO,GADzsD;AAC6sD,SAAM,CADntD;AACqtD,UAAO,CAAC,GAD7tD;AACiuD,SAAM,CAAC,GADxuD;AAC4uD,SAAM,GADlvD;AACsvD,SAAM,CAAC,GAD7vD;AACiwD,WAAQ,GADzwD;AAC6wD,UAAO,GADpxD;AACwxD,SAAM,GAD9xD;AACkyD,UAAO,GADzyD;AAC6yD,SAAM,EADnzD;AACszD,UAAO,EAD7zD;AACg0D,UAAO,EADv0D;AAC00D,SAAM,CADh1D;AACk1D,SAAM,CADx1D;AAC01D,SAAM,GADh2D;AACo2D,UAAO,CAAC,GAD52D;AACg3D,SAAM,CAAC,GADv3D;AAC23D,SAAM,GADj4D;AACq4D,SAAM,GAD34D;AAC+4D,UAAO,GADt5D;AAC05D,SAAM,GADh6D;AACo6D,QAAK,CADz6D;AAC26D,WAAQ,GADn7D;AACu7D,UAAO,GAD97D;AACk8D,UAAO,GADz8D;AAC68D,WAAQ,GADr9D;AACy9D,UAAO;AADh+D,CAAhC;;AAIApV,OAAO,CAACmF,OAAR,GAAkB,SAASQ,0BAAT,CAAoCzF,MAApC,EAA4C;AAC7DiF,SAAO,CAACE,IAAR,CAAa,IAAb,EAAmBqD,SAAnB;;AAEA,OAAKrH,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAI4U,SAAS,GAAG,IAAI5O,MAAJ,CAAW2O,yBAAX,CAAhB;;AACA,QAAI3U,GAAG,CAAC4U,SAAR,EAAmB;AACf,WAAK,IAAIvJ,IAAT,IAAiBrL,GAAG,CAAC4U,SAArB,EAAgC;AACzBA,iBAAS,CAACvJ,IAAD,CAAT,GAAkBrL,GAAG,CAAC4U,SAAJ,CAAcvJ,IAAd,CAAlB;AACH;AACJ;;AAEPnL,WAAO,CAACQ,OAAR,CAAgB,UAAShE,MAAT,EAAiB;AAEvB,UAAI,CAACA,MAAM,CAACI,IAAP,CAAY,wBAAZ,CAAD,IACA,CAACJ,MAAM,CAACI,IAAP,CAAY,wBAAZ,CADD,IAEA,CAACJ,MAAM,CAACI,IAAP,CAAY,wBAAZ,CAFD,IAGA,CAACJ,MAAM,CAACI,IAAP,CAAY,wBAAZ,CAHL,EAG4C;AACxC;AACH;;AAED,UAAIiD,KAAK,GAAG2U,qBAAqB,CAACrU,IAAtB,CAA2BxD,IAAI,CAAC0D,SAAL,CAAe7D,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACG,IAAP,CAAYyD,MAA1C,CAA3B,CAAZ;;AACA,UAAIP,KAAJ,EAAW;AACP,YAAI8U,YAAY,GAAG9U,KAAK,CAAC,CAAD,CAAL,CAAS+U,WAAT,EAAnB;;AACA,YAAIF,SAAS,CAACC,YAAD,CAAT,KAA4BxV,SAAhC,EAA2C;AACvC;AACH;;AAED,YAAIoV,cAAc,GAAGG,SAAS,CAACC,YAAD,CAA9B;;AACA,YAAI,CAACnY,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,gBAAvB,CAAL,EAA+C;AAC3C/B,gBAAM,CAACK,KAAP,CAAayB,MAAb,CAAoB,gBAApB,EAAsCiW,cAAtC;AACH;;AAED,YAAI/X,MAAM,CAACO,GAAP,IAAc,IAAd,IAAsB,CAACP,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,gBAArB,CAA3B,EAAmE;AAC/D/B,gBAAM,CAACO,GAAP,CAAWuB,MAAX,CAAkB,gBAAlB,EAAoCiW,cAApC;AACH;;AAED/X,cAAM,CAACG,IAAP,IAAekD,KAAK,CAAC,CAAD,CAApB;AACArD,cAAM,CAACI,IAAP,CAAY,4BAAZ,IAA4C,IAA5C;AACH;AACV,KA5BD;AA8BM,WAAOoD,OAAP;AACN,GAxCD;AAyCA,CA5CD,C;;;;;;ACXA;;;;;AAKA,IAAI3D,KAAK,GAAGC,mBAAO,CAAC,CAAD,CAAnB;;AACA,IAAIkI,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAqBkI,OAAnC;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASS,kBAAT,GAA8B;AAC5CT,SAAO,CAACE,IAAR,CAAa,IAAb;;AAEA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAI,CAACA,GAAG,CAAC,aAAD,CAAR,EAAyB;AACrB,aAAOE,OAAP;AACH;;AAEDA,WAAO,CAACQ,OAAR,CAAgB,UAAShE,MAAT,EAAiB;AAE7B,UAAIsE,SAAS,GAAGzE,KAAK,CAACG,MAAM,CAACC,GAAR,CAArB;;AAEA,UAAID,MAAM,CAACK,KAAP,CAAac,uBAAb,MAA0CmD,SAAS,CAACkK,OAAV,CAAkBxO,MAAM,CAACK,KAAP,CAAaR,KAAb,EAAlB,CAA9C,EACE;AACE;AACA,aAAK,IAAIwI,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAG,CAAJ,IAAS/D,SAAS,CAACkK,OAAV,CAAkBxO,MAAM,CAACK,KAAP,CAAaR,KAAb,EAAlB,CAAvB,EAAgEwI,CAAC,EAAjE,EAAqE;AACjErI,gBAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2BxB,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,MAAjB,IAA2B,CAAtD;;AAEA,cAAI5B,MAAM,CAACO,GAAP,IAAc,CAACP,MAAM,CAACO,GAAP,CAAWwB,SAAX,CAAqB,MAArB,CAAnB,EAAiD;AAC7C/B,kBAAM,CAACO,GAAP,CAAWiB,KAAX,CAAiB,MAAjB,EAAyBxB,MAAM,CAACO,GAAP,CAAWqB,GAAX,CAAe,MAAf,IAAyB,CAAlD;AACH;AACJ;;AAED5B,cAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACH;;AAED,UAAIJ,MAAM,CAACK,KAAP,CAAaY,sBAAb,MAAyCqD,SAAS,CAACkK,OAAV,CAAkBxO,MAAM,CAACK,KAAP,CAAaR,KAAb,EAAlB,CAA7C,EAAsF;AAClF;AACA,YAAIyE,SAAS,CAACD,GAAV,KAAkBrE,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,SAAjB,CAAtB,EAAmD;AAC/C0C,mBAAS,GAAGA,SAAS,CAACD,GAAV,CAAcrE,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,SAAjB,IAA8B,CAA5C,CAAZ;AACH,SAFD,MAEO;AACH0C,mBAAS,GAAGA,SAAS,CAACD,GAAV,CAAcrE,MAAM,CAACK,KAAP,CAAauB,GAAb,CAAiB,SAAjB,CAAd,CAAZ;AACH;;AAED5B,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,KAAnB,EAA0B8C,SAAS,CAACzD,IAAV,EAA1B;AACAb,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,OAAnB,EAA4B8C,SAAS,CAAC7C,KAAV,KAAoB,CAAhD;AACAzB,cAAM,CAACK,KAAP,CAAamB,KAAb,CAAmB,MAAnB,EAA2B8C,SAAS,CAAC5C,IAAV,EAA3B;AACA1B,cAAM,CAACI,IAAP,CAAY,oBAAZ,IAAoC,IAApC;AACH;AACJ,KA/BD;AAiCA,WAAOoD,OAAP;AACH,GAxCD;AAyCH,CA5CD,C;;;;;;ACRA;;;AAGA,IAAIyE,MAAM,GAAGnI,mBAAO,CAAC,CAAD,CAAP,CAAqBmI,MAAlC;;AAEApF,OAAO,CAACmF,OAAR,GAAkB,SAASU,oBAAT,GAAgC;AAC9CT,QAAM,CAACC,IAAP,CAAY,IAAZ;;AAGA,OAAKC,OAAL,GAAe,UAAShI,IAAT,EAAeH,MAAf,EAAuBsD,GAAvB,EAA4B;AAEvC,QAAItD,MAAM,CAACG,IAAP,CAAYsJ,OAAZ,CAAoB,GAApB,EAAwB,EAAxB,EAA4BpG,KAA5B,CAAkC,eAAlC,CAAJ,EAAwD;AACpD,aAAO,KAAP;AACH;;AAED,WAAO,IAAP;AACH,GAPD;AAQH,CAZD,C;;;;;;ACLA;;;AAGA,IAAI/C,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AACA,IAAI0H,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AAGA,IAAI4C,OAAO,GAAG,IAAIX,MAAJ,CAAW,6CAAX,CAAd;;AAEA,SAASoO,cAAT,CAAwBrM,UAAxB,EAAoCuB,UAApC,EAAgD;AAC5C,MAAI+K,YAAY,GAAG,KAAnB;;AAEA,MAAItM,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,MAA3B,CAAJ,EAAwC;AACpC,QAAI,CAACwL,UAAU,CAAClN,KAAX,CAAiB0B,SAAjB,CAA2B,MAA3B,CAAL,EAAyC;AACrCuW,kBAAY,GAAG,IAAf;AACH,KAFD,MAEO;AACH,UAAItM,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,OAA3B,CAAJ,EAAyC;AACrC,YAAI,CAACwL,UAAU,CAAClN,KAAX,CAAiB0B,SAAjB,CAA2B,OAA3B,CAAL,EAA0C;AACtCuW,sBAAY,GAAG,IAAf;AACH,SAFD,MAEO;AACH,cAAItM,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,KAA3B,KAAqC,CAACwL,UAAU,CAAClN,KAAX,CAAiB0B,SAAjB,CAA2B,KAA3B,CAA1C,EAA6E;AACzEuW,wBAAY,GAAG,IAAf;AACH;AACJ;AACJ;AACJ;AACJ;;AAED,SAAOA,YAAP;AACH;;AAGD,SAASvM,aAAT,CAAuB5L,IAAvB,EAA6B6L,UAA7B,EAAyCuB,UAAzC,EAAqD;AACjD,MAAIrB,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAemI,UAAU,CAAC9L,KAAX,GAAmB8L,UAAU,CAAC7L,IAAX,CAAgByD,MAAlD,EAA0D2J,UAAU,CAACrN,KAArE,CAAlB,CADiD,CAGjD;;AACA,MAAIqY,sBAAsB,GAAIvM,UAAU,CAAC5L,IAAX,CAAgB,4BAAhB,KAAiDmN,UAAU,CAACnN,IAAX,CAAgB,4BAAhB,CAA/E,CAJiD,CAMjD;;AACA,MAAIoY,eAAe,GAAG,CAACxM,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,KAA3B,CAAD,IAAsC,CAACiK,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,OAA3B,CAAvC,IAA8E,CAACiK,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,MAA3B,CAArG,CAPiD,CASjD;AACA;;AACA,MAAIiK,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,MAA3B,KAAsCwL,UAAU,CAAClN,KAAX,CAAiB0B,SAAjB,CAA2B,MAA3B,CAA1C,EACIyW,eAAe,GAAIxM,UAAU,CAAC3L,KAAX,CAAiBuB,GAAjB,CAAqB,MAArB,MAAiC2L,UAAU,CAAClN,KAAX,CAAiBuB,GAAjB,CAAqB,MAArB,CAApD,CAZ6C,CAcjD;;AACA,MAAIoK,UAAU,CAAC3L,KAAX,CAAiB0B,SAAjB,CAA2B,OAA3B,KAAuCwL,UAAU,CAAClN,KAAX,CAAiB0B,SAAjB,CAA2B,OAA3B,CAA3C,EACIyW,eAAe,GAAIxM,UAAU,CAAC3L,KAAX,CAAiBuB,GAAjB,CAAqB,OAArB,MAAkC2L,UAAU,CAAClN,KAAX,CAAiBuB,GAAjB,CAAqB,OAArB,CAAnC,IAAqE4W,eAAvF;AAEJ,SAAOD,sBAAsB,IAAIrM,WAAW,CAAC7I,KAAZ,CAAkBuH,OAAlB,CAA1B,IAAwD4N,eAA/D;AACH;;AAED,SAASjM,WAAT,CAAqBpM,IAArB,EAA2BsY,cAA3B,EAA2CC,iBAA3C,EAA6D;AAEzD,MAAIC,YAAY,GAAGF,cAAc,CAACpY,KAAlC;AACA,MAAIuY,eAAe,GAAGF,iBAAiB,CAACrY,KAAxC;AAEA,MAAI4M,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASuL,cAAc,CAACvY,KAAxB,EAA+BwY,iBAAiB,CAACxY,KAAjD,CAAjB;AACA,MAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACPqL,cAAc,CAACvY,KAAf,GAAuBuY,cAAc,CAACtY,IAAf,CAAoByD,MADpC,EAEP8U,iBAAiB,CAACxY,KAAlB,GAA0BwY,iBAAiB,CAACvY,IAAlB,CAAuByD,MAF1C,CAAf;AAIA6U,gBAAc,CAACvY,KAAf,GAAuB+M,UAAvB;AACAwL,gBAAc,CAACtY,IAAf,GAAuBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAvB;;AAEA,OAAK,IAAIE,GAAT,IAAgBqL,iBAAiB,CAACtY,IAAlC,EAAwC;AACpCqY,kBAAc,CAACrY,IAAf,CAAoBiN,GAApB,IAA2B,IAA3B;AACH;;AACDoL,gBAAc,CAACrY,IAAf,CAAoB,iCAApB,IAAyD,IAAzD;AACA,SAAOqY,cAAP;AACH;;AAED5V,OAAO,CAACmF,OAAR,GAAkB,SAASa,+BAAT,GAA2C;AACzDb,SAAO,CAACE,IAAR,CAAa,IAAb;;AAEA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7E,OAAO,CAACI,MAA5B,EAAoCyE,CAAC,EAArC,EAAyC;AAErCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAIgQ,cAAc,CAACrM,UAAD,EAAauB,UAAb,CAAd,IACOxB,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADxB,EACwD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CAAxB;AACAA,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AAEH,OAPD,MAOO,IAAIgQ,cAAc,CAAC9K,UAAD,EAAavB,UAAb,CAAd,IACAD,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADjB,EACiD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAOoN,UAAP,EAAmBvB,UAAnB,CAAxB;AACAuB,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAED,WAAOD,YAAP;AACH,GApCD;AAqCH,CAxCD,C;;;;;;ACzEA;;;AAGA,IAAI1E,uBAAuB,GAAG9I,mBAAO,CAAC,EAAD,CAAP,CAAyCkI,OAAvE;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASc,uBAAT,GAAmC;AACjDF,yBAAuB,CAACV,IAAxB,CAA6B,IAA7B;;AAEA,OAAK/E,OAAL,GAAe,YAAY;AAAE,WAAO,iBAAP;AAA0B,GAAvD;AACH,CAJD,C;;;;;;ACLA;;;AAGA,IAAI6E,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASe,uBAAT,GAAmC;AACjDf,SAAO,CAACE,IAAR,CAAa,IAAb;;AAEA,OAAK/E,OAAL,GAAe,YAAY;AAAE,WAAO,mBAAP;AAA4B,GAAzD;;AAEA,OAAKe,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC7E,OAAO,CAACI,MAAxB,EAAgCyE,CAAC,EAAjC,EAAoC;AAEhCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAI,CAAC2D,UAAU,CAACzL,GAAZ,IAAmB,CAACgN,UAAU,CAAChN,GAA/B,IACG,KAAKwL,aAAL,CAAmB5L,IAAnB,EAAyB6L,UAAzB,EAAqCuB,UAArC,CADP,EACyD;AAErDvB,kBAAU,GAAG,KAAKO,WAAL,CAAiBpM,IAAjB,EAAuB6L,UAAvB,EAAmCuB,UAAnC,CAAb;AACAA,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAGD,WAAOD,YAAP;AACH,GA9BD;;AAgCA,OAAKvB,aAAL,GAAqB,UAAS5L,IAAT,EAAe4N,OAAf,EAAwBC,OAAxB,EAAiC;AAClD,QAAIC,KAAK,GAAGF,OAAO,CAAC7N,KAAR,GAAgB6N,OAAO,CAAC5N,IAAR,CAAayD,MAAzC;AACA,QAAIrD,GAAG,GAAKyN,OAAO,CAAC9N,KAApB;AACA,QAAIgM,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAeoK,KAAf,EAAqB1N,GAArB,CAAlB;AAEA,WAAO2L,WAAW,CAAC7I,KAAZ,CAAkB,KAAKF,OAAL,EAAlB,CAAP;AACH,GAND;;AAQA,OAAK0V,eAAL,GAAuB,UAAU7Y,MAAV,EAAkB;AACrC,WAAOA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,SAAvB,KAAqC,CAAC/B,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,KAAvB,CAA7C;AACH,GAFD;;AAIA,OAAKwK,WAAL,GAAmB,UAASpM,IAAT,EAAe+N,UAAf,EAA2BC,QAA3B,EAAqC;AAEpD,QAAI,CAAC,KAAK0K,eAAL,CAAqB3K,UAArB,CAAD,IAAqC,CAAC,KAAK2K,eAAL,CAAqB1K,QAArB,CAA1C,EAA0E;AAEtE,WAAK,IAAI5M,GAAT,IAAgB4M,QAAQ,CAAC9N,KAAT,CAAegB,WAA/B,EAA4C;AACxC,YAAI,CAAC6M,UAAU,CAAC7N,KAAX,CAAiB0B,SAAjB,CAA2BR,GAA3B,CAAL,EAAsC;AAClC2M,oBAAU,CAAC7N,KAAX,CAAiByB,MAAjB,CAAwBP,GAAxB,EAA6B4M,QAAQ,CAAC9N,KAAT,CAAeuB,GAAf,CAAmBL,GAAnB,CAA7B;AACH;AACJ;;AAED,WAAK,IAAIA,GAAT,IAAgB2M,UAAU,CAAC7N,KAAX,CAAiBgB,WAAjC,EAA8C;AAC1C,YAAI,CAAC8M,QAAQ,CAAC9N,KAAT,CAAe0B,SAAf,CAAyBR,GAAzB,CAAL,EAAoC;AAChC4M,kBAAQ,CAAC9N,KAAT,CAAeyB,MAAf,CAAsBP,GAAtB,EAA2B2M,UAAU,CAAC7N,KAAX,CAAiBuB,GAAjB,CAAqBL,GAArB,CAA3B;AACH;AACJ;AACJ;;AAED,QAAI2M,UAAU,CAAC7N,KAAX,CAAiBQ,IAAjB,GAAwBmM,OAAxB,KAAoCmB,QAAQ,CAAC9N,KAAT,CAAeQ,IAAf,EAAxC,EAA+D;AAC3D,UAAI4N,GAAG,GAAGN,QAAV;AACAA,cAAQ,GAAGD,UAAX;AACAA,gBAAU,GAAGO,GAAb;AACH;;AAEDP,cAAU,CAAC3N,GAAX,GAAiB4N,QAAQ,CAAC9N,KAA1B;;AAIA,SAAK,IAAIgN,GAAT,IAAgBc,QAAQ,CAAC/N,IAAzB,EAA+B;AAC3B8N,gBAAU,CAAC9N,IAAX,CAAgBiN,GAAhB,IAAuB,IAAvB;AACH;;AAGD,QAAIJ,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASgB,UAAU,CAAChO,KAApB,EAA2BiO,QAAQ,CAACjO,KAApC,CAAjB;AACA,QAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACXc,UAAU,CAAChO,KAAX,GAAmBgO,UAAU,CAAC/N,IAAX,CAAgByD,MADxB,EAEXuK,QAAQ,CAACjO,KAAT,GAAiBiO,QAAQ,CAAChO,IAAT,CAAcyD,MAFpB,CAAf;AAIAsK,cAAU,CAAChO,KAAX,GAAmB+M,UAAnB;AACAiB,cAAU,CAAC/N,IAAX,GAAmBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAnB;AACAe,cAAU,CAAC9N,IAAX,CAAgB,KAAKsO,WAAL,CAAiBC,IAAjC,IAAyC,IAAzC;AACA,WAAOT,UAAP;AACH,GAzCD;AA0CH,CA3FD,C;;;;;;ACLA;;;AAGA,IAAI5N,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AACA,IAAI0H,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AACA,IAAImE,sBAAsB,GAAGrM,mBAAO,CAAC,CAAD,CAAP,CAAwCqM,sBAArE;;AAEA,IAAIvB,OAAO,GAAG,IAAIX,MAAJ,CAAW,gCAAX,CAAd;;AAEA,SAAS4B,UAAT,CAAoB7L,MAApB,EAA4B;AACxB,SAAO,CAACA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,MAAvB,CAAD,IAAmC/B,MAAM,CAACI,IAAP,CAAY,oBAAZ,CAA1C;AACH;;AAED,SAAS0L,UAAT,CAAoB9L,MAApB,EAA4B;AACxB,SAAO,CAACA,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,OAAvB,CAAD,IAAoC,CAAC/B,MAAM,CAACK,KAAP,CAAa0B,SAAb,CAAuB,SAAvB,CAA5C;AACH;;AAGD,SAASgK,aAAT,CAAuB5L,IAAvB,EAA6B6L,UAA7B,EAAyCC,SAAzC,EAAoD;AAChD,MAAIC,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAemI,UAAU,CAAC9L,KAAX,GAAmB8L,UAAU,CAAC7L,IAAX,CAAgByD,MAAlD,EAA0DqI,SAAS,CAAC/L,KAApE,CAAlB;AACA,SAAOgM,WAAW,CAAC7I,KAAZ,CAAkBuH,OAAlB,CAAP;AACH;;AAED,SAAS2B,WAAT,CAAqBpM,IAArB,EAA2BqM,UAA3B,EAAuCC,UAAvC,EAAkD;AAE9C,MAAIC,SAAS,GAAGF,UAAU,CAACnM,KAA3B;AACA,MAAIsM,SAAS,GAAGF,UAAU,CAACpM,KAA3B;AACA,MAAIuM,aAAa,GAAGT,sBAAsB,CAACO,SAAD,EAAYC,SAAZ,CAA1C;;AAEA,MAAIH,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BkM,UAAU,CAAClM,GAAX,IAAkB,IAAhD,EAAsD;AAElD,QAAIsM,OAAO,GAAKL,UAAU,CAACjM,GAAX,IAAkB,IAAlB,GAAyBiM,UAAU,CAACnM,KAApC,GAA4CmM,UAAU,CAACjM,GAAvE;AACA,QAAIuM,OAAO,GAAKL,UAAU,CAAClM,GAAX,IAAkB,IAAlB,GAAyBkM,UAAU,CAACpM,KAApC,GAA4CoM,UAAU,CAAClM,GAAvE;AACA,QAAIwM,WAAW,GAAGZ,sBAAsB,CAACU,OAAD,EAAUC,OAAV,CAAxC;;AAEA,QAAIN,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BwM,WAAW,CAAClM,IAAZ,GAAmBmM,OAAnB,KAA+BJ,aAAa,CAAC/L,IAAd,GAAqBmM,OAArB,EAA7D,EAA6F;AACzF;AACA,UAAID,WAAW,CAAChL,SAAZ,CAAsB,KAAtB,CAAJ,EAAkC;AAC9BgL,mBAAW,CAACjL,MAAZ,CAAmB,KAAnB,EAA0BiL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAnD;AACH,OAFD,MAEO;AACHmL,mBAAW,CAACvL,KAAZ,CAAkB,KAAlB,EAAyBuL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAlD;AACH;AACJ;;AAED4K,cAAU,CAACjM,GAAX,GAAiBwM,WAAjB;AACH;;AAEDP,YAAU,CAACnM,KAAX,GAAmBuM,aAAnB;AAEA,MAAIK,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASV,UAAU,CAACtM,KAApB,EAA2BuM,UAAU,CAACvM,KAAtC,CAAjB;AACA,MAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACPZ,UAAU,CAACtM,KAAX,GAAmBsM,UAAU,CAACrM,IAAX,CAAgByD,MAD5B,EAEP6I,UAAU,CAACvM,KAAX,GAAmBuM,UAAU,CAACtM,IAAX,CAAgByD,MAF5B,CAAf;AAIA4I,YAAU,CAACtM,KAAX,GAAmB+M,UAAnB;AACAT,YAAU,CAACrM,IAAX,GAAmBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAnB;;AAEA,OAAK,IAAIE,GAAT,IAAgBZ,UAAU,CAACrM,IAA3B,EAAiC;AAC7BoM,cAAU,CAACpM,IAAX,CAAgBiN,GAAhB,IAAuB,IAAvB;AACH;;AACDb,YAAU,CAACpM,IAAX,CAAgB,2BAAhB,IAA+C,IAA/C;AACA,SAAOoM,UAAP;AACH;;AAED3J,OAAO,CAACmF,OAAR,GAAkB,SAASgB,sBAAT,GAAkC;AAChDhB,SAAO,CAACE,IAAR,CAAa,IAAb;;AAGA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7E,OAAO,CAACI,MAA5B,EAAoCyE,CAAC,EAArC,EAAyC;AAErCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAIwD,UAAU,CAACG,UAAD,CAAV,IAA0BF,UAAU,CAACyB,UAAD,CAApC,IACOxB,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADxB,EACwD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CAAxB;AACAA,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AAEH,OAPD,MAOO,IAAIwD,UAAU,CAAC0B,UAAD,CAAV,IAA0BzB,UAAU,CAACE,UAAD,CAApC,IACAD,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADjB,EACiD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAOoN,UAAP,EAAmBvB,UAAnB,CAAxB;AACAuB,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAED,WAAOD,YAAP;AACH,GApCD;AAqCH,CAzCD,C;;;;;;AChEA;;;AAGA,IAAI1E,uBAAuB,GAAG9I,mBAAO,CAAC,EAAD,CAAP,CAAyCkI,OAAvE;;AAEAnF,OAAO,CAACmF,OAAR,GAAkB,SAASiB,uBAAT,GAAmC;AACjDL,yBAAuB,CAACV,IAAxB,CAA6B,IAA7B;;AAEA,OAAK/E,OAAL,GAAe,YAAY;AACvB,WAAO,qCAAP;AACH,GAFD;AAGH,CAND,C;;;;;;ACLA;;;AAGA,IAAI7C,gBAAgB,GAAGR,mBAAO,CAAC,CAAD,CAAP,CAAwBQ,gBAA/C;;AACA,IAAI0H,OAAO,GAAGlI,mBAAO,CAAC,CAAD,CAAP,CAAsBkI,OAApC;;AAEA,IAAImE,sBAAsB,GAAGrM,mBAAO,CAAC,CAAD,CAAP,CAAwCqM,sBAArE;;AACA,IAAIN,UAAU,GAAG/L,mBAAO,CAAC,CAAD,CAAP,CAAwC+L,UAAzD;;AACA,IAAIC,UAAU,GAAGhM,mBAAO,CAAC,CAAD,CAAP,CAAwCgM,UAAzD;;AAEA,IAAIlB,OAAO,GAAG,IAAIX,MAAJ,CAAW,0BAAX,CAAd;;AAEA,SAAS8B,aAAT,CAAuB5L,IAAvB,EAA6B6L,UAA7B,EAAyCC,SAAzC,EAAoD;AAChD,MAAIC,WAAW,GAAG/L,IAAI,CAAC0D,SAAL,CAAemI,UAAU,CAAC9L,KAAX,GAAmB8L,UAAU,CAAC7L,IAAX,CAAgByD,MAAlD,EAA0DqI,SAAS,CAAC/L,KAApE,CAAlB;AACA,SAAOgM,WAAW,CAAC7I,KAAZ,CAAkBuH,OAAlB,CAAP;AACH;;AAED,SAAS2B,WAAT,CAAqBpM,IAArB,EAA2BqM,UAA3B,EAAuCC,UAAvC,EAAkD;AAE9C,MAAIC,SAAS,GAAGF,UAAU,CAACnM,KAA3B;AACA,MAAIsM,SAAS,GAAGF,UAAU,CAACpM,KAA3B;AACA,MAAIuM,aAAa,GAAGT,sBAAsB,CAACO,SAAD,EAAYC,SAAZ,CAA1C;;AAEA,MAAIH,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BkM,UAAU,CAAClM,GAAX,IAAkB,IAAhD,EAAsD;AAElD,QAAIsM,OAAO,GAAKL,UAAU,CAACjM,GAAX,IAAkB,IAAlB,GAAyBiM,UAAU,CAACnM,KAApC,GAA4CmM,UAAU,CAACjM,GAAvE;AACA,QAAIuM,OAAO,GAAKL,UAAU,CAAClM,GAAX,IAAkB,IAAlB,GAAyBkM,UAAU,CAACpM,KAApC,GAA4CoM,UAAU,CAAClM,GAAvE;AACA,QAAIwM,WAAW,GAAGZ,sBAAsB,CAACU,OAAD,EAAUC,OAAV,CAAxC;;AAEA,QAAIN,UAAU,CAACjM,GAAX,IAAkB,IAAlB,IAA0BwM,WAAW,CAAClM,IAAZ,GAAmBmM,OAAnB,KAA+BJ,aAAa,CAAC/L,IAAd,GAAqBmM,OAArB,EAA7D,EAA6F;AACzF;AACA,UAAID,WAAW,CAAChL,SAAZ,CAAsB,KAAtB,CAAJ,EAAkC;AAC9BgL,mBAAW,CAACjL,MAAZ,CAAmB,KAAnB,EAA0BiL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAnD;AACH,OAFD,MAEO;AACHmL,mBAAW,CAACvL,KAAZ,CAAkB,KAAlB,EAAyBuL,WAAW,CAACnL,GAAZ,CAAgB,KAAhB,IAAyB,CAAlD;AACH;AACJ;;AAED4K,cAAU,CAACjM,GAAX,GAAiBwM,WAAjB;AACH;;AAEDP,YAAU,CAACnM,KAAX,GAAmBuM,aAAnB;AAEA,MAAIK,UAAU,GAAGxI,IAAI,CAACyI,GAAL,CAASV,UAAU,CAACtM,KAApB,EAA2BuM,UAAU,CAACvM,KAAtC,CAAjB;AACA,MAAIiN,QAAQ,GAAG1I,IAAI,CAAC2I,GAAL,CACPZ,UAAU,CAACtM,KAAX,GAAmBsM,UAAU,CAACrM,IAAX,CAAgByD,MAD5B,EAEP6I,UAAU,CAACvM,KAAX,GAAmBuM,UAAU,CAACtM,IAAX,CAAgByD,MAF5B,CAAf;AAIA4I,YAAU,CAACtM,KAAX,GAAmB+M,UAAnB;AACAT,YAAU,CAACrM,IAAX,GAAmBA,IAAI,CAAC0D,SAAL,CAAeoJ,UAAf,EAA2BE,QAA3B,CAAnB;;AAEA,OAAK,IAAIE,GAAT,IAAgBZ,UAAU,CAACrM,IAA3B,EAAiC;AAC7BoM,cAAU,CAACpM,IAAX,CAAgBiN,GAAhB,IAAuB,IAAvB;AACH;;AACDb,YAAU,CAACpM,IAAX,CAAgB,2BAAhB,IAA+C,IAA/C;AACA,SAAOoM,UAAP;AACH;;AAED3J,OAAO,CAACmF,OAAR,GAAkB,SAASkB,sBAAT,GAAkC;AAChDlB,SAAO,CAACE,IAAR,CAAa,IAAb;;AAGA,OAAKhE,MAAL,GAAc,UAAS/D,IAAT,EAAeqD,OAAf,EAAwBF,GAAxB,EAA6B;AAEvC,QAAIE,OAAO,CAACI,MAAR,GAAiB,CAArB,EAAwB,OAAOJ,OAAP;AAExB,QAAI8J,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACA,QAAIvB,UAAU,GAAG,IAAjB;;AAEA,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7E,OAAO,CAACI,MAA5B,EAAoCyE,CAAC,EAArC,EAAyC;AAErCkF,gBAAU,GAAG/J,OAAO,CAAC6E,CAAD,CAApB;AACA2D,gBAAU,GAAGxI,OAAO,CAAC6E,CAAC,GAAC,CAAH,CAApB;;AAEA,UAAIwD,UAAU,CAACG,UAAD,CAAV,IAA0BF,UAAU,CAACyB,UAAD,CAApC,IACOxB,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADxB,EACwD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CAAxB;AACAA,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AAEH,OAPD,MAOO,IAAIwD,UAAU,CAAC0B,UAAD,CAAV,IAA0BzB,UAAU,CAACE,UAAD,CAApC,IACAD,aAAa,CAAC5L,IAAD,EAAO6L,UAAP,EAAmBuB,UAAnB,CADjB,EACiD;AAEpDvB,kBAAU,GAAGO,WAAW,CAACpM,IAAD,EAAOoN,UAAP,EAAmBvB,UAAnB,CAAxB;AACAuB,kBAAU,GAAG,IAAb;AACAlF,SAAC,IAAI,CAAL;AACH;;AAEDiF,kBAAY,CAACxJ,IAAb,CAAkBkI,UAAlB;AACH;;AAED,QAAIuB,UAAU,IAAI,IAAlB,EAAwB;AACpBD,kBAAY,CAACxJ,IAAb,CAAkByJ,UAAlB;AACH;;AAED,WAAOD,YAAP;AACH,GApCD;AAqCH,CAzCD,C","file":"chrono.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"chrono\"] = factory();\n\telse\n\t\troot[\"chrono\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","const dayjs = require('dayjs');\n\nfunction ParsedResult(result){\n    result = result || {};\n\n    this.ref   = result.ref;\n    this.index = result.index;\n    this.text  = result.text;\n    this.tags  = result.tags || {};\n\n    this.start = new ParsedComponents(result.start, result.ref)\n    if(result.end){\n        this.end = new ParsedComponents(result.end, result.ref)\n    }\n}\n\nParsedResult.prototype.clone = function() {\n    var result = new ParsedResult(this);\n    result.tags = JSON.parse(JSON.stringify(this.tags));\n    result.start = this.start.clone();\n    if (this.end) {\n        result.end = this.end.clone();\n    }\n\n    return result\n}\n\nParsedResult.prototype.date = function() {\n    return this.start.date();\n}\n\nParsedResult.prototype.hasPossibleDates = function() {\n    return this.start.isPossibleDate() && (!this.end || this.end.isPossibleDate());\n}\n\nParsedResult.prototype.isOnlyWeekday = function() {\n    return this.start.isOnlyWeekdayComponent();\n}\n\nParsedResult.prototype.isOnlyDayMonth = function() {\n    return this.start.isOnlyDayMonthComponent();\n}\n\nfunction ParsedComponents (components, ref){\n\n    this.knownValues = {};\n    this.impliedValues = {};\n\n    if (components) {\n        for (key in components) {\n            this.knownValues[key] = components[key];\n        }\n    }\n\n    if (ref) {\n        ref = dayjs(ref);\n        this.imply('day', ref.date())\n        this.imply('month', ref.month() + 1)\n        this.imply('year', ref.year())\n    }\n    \n\n    this.imply('hour', 12);\n    this.imply('minute', 0);\n    this.imply('second', 0);\n    this.imply('millisecond', 0);\n}\n\nParsedComponents.prototype.clone = function () {\n    var component = new ParsedComponents();\n    component.knownValues = JSON.parse(JSON.stringify(this.knownValues));\n    component.impliedValues = JSON.parse(JSON.stringify(this.impliedValues));\n    return component;\n};\n\nParsedComponents.prototype.get = function(component, value) {\n    if (component in this.knownValues) return this.knownValues[component];\n    if (component in this.impliedValues) return this.impliedValues[component];\n};\n\nParsedComponents.prototype.assign = function(component, value) {\n    this.knownValues[component] = value;\n    delete this.impliedValues[component];\n};\n\nParsedComponents.prototype.imply = function(component, value) {\n    if (component in this.knownValues) return;\n    this.impliedValues[component] = value;\n};\n\nParsedComponents.prototype.isCertain = function(component) {\n    return component in this.knownValues;\n};\n\nParsedComponents.prototype.isOnlyWeekdayComponent = function() {\n    return this.isCertain('weekday') && !this.isCertain('day') && !this.isCertain('month');\n};\n\nParsedComponents.prototype.isOnlyDayMonthComponent = function() {\n    return this.isCertain('day') && this.isCertain('month') && !this.isCertain('year');\n};\n\nParsedComponents.prototype.isPossibleDate = function() {\n    var dateMoment = this.dayjs();\n    if (this.isCertain('timezoneOffset')) {\n        const adjustTimezoneOffset = this.get('timezoneOffset') - dateMoment.utcOffset();\n        dateMoment = dateMoment.add(adjustTimezoneOffset, 'minutes');\n    }\n\n    if (dateMoment.get('year') != this.get('year')) return false;\n    if (dateMoment.get('month') != this.get('month')-1) return false;\n    if (dateMoment.get('date') != this.get('day')) return false;\n    if (dateMoment.get('hour') != this.get('hour')) return false;\n    if (dateMoment.get('minute') != this.get('minute')) return false;\n\n    return true;\n};\n\nParsedComponents.prototype.date = function() {\n    var result = this.dayjs();\n    return result.toDate();\n};\n\n\nParsedComponents.prototype.dayjs = function() {\n    var result = dayjs();\n\n    result = result.year(this.get('year'));\n    result = result.month(this.get('month') - 1);\n    result = result.date(this.get('day'));\n    result = result.hour(this.get('hour'));\n    result = result.minute(this.get('minute'));\n    result = result.second(this.get('second'));\n    result = result.millisecond(this.get('millisecond'));\n\n    // Javascript Date Object return minus timezone offset\n    var currentTimezoneOffset = result.utcOffset();\n    var targetTimezoneOffset = this.get('timezoneOffset') !== undefined ? \n        this.get('timezoneOffset') : currentTimezoneOffset;\n\n    var adjustTimezoneOffset = targetTimezoneOffset - currentTimezoneOffset;\n    result = result.add(-adjustTimezoneOffset, 'minute');\n\n    return result;\n};\n\nParsedComponents.prototype.moment = function() {\n    // Keep for compatibility\n    return this.dayjs();\n};\n\n\n\nexports.ParsedComponents = ParsedComponents;\nexports.ParsedResult = ParsedResult;\n","const dayjs = require('dayjs');\n\nexports.Parser = function (config) {\n\n    config = config || {};\n    var strictMode = config.strict;\n\n    this.isStrictMode = function() { return (strictMode == true) };\n\n    this.pattern = function() { return /./i; }\n\n    this.extract = function(text, ref, match, opt){ return null; }\n\n    this.execute = function(text, ref, opt) {\n\n        var results = [];\n        var regex = this.pattern();\n\n        var remainingText = text;\n        var match = regex.exec(remainingText);\n\n        while (match) {\n\n            // Calculate match index on the full text;\n            match.index += text.length - remainingText.length;\n\n            var result = this.extract(text, ref, match, opt);\n            if (result) {\n\n                // If success, start from the end of the result\n                remainingText = text.substring(result.index + result.text.length);\n\n                if (!this.isStrictMode() || result.hasPossibleDates()) {\n                    results.push(result);\n                }\n\n            } else {\n                // If fail, move on by 1\n                remainingText = text.substring(match.index + 1);\n            }\n\n            match = regex.exec(remainingText);\n        }\n\n        if (this.refiners) {\n            this.refiners.forEach(function () {\n                results = refiner.refine(results, text, options);\n            });\n        }\n\n        return results;\n    }\n}\n\nexports.findYearClosestToRef = function (ref, day, month) {\n    //Find the most appropriated year\n    const refMoment = dayjs(ref);\n    var dateMoment = refMoment;\n    dateMoment = dateMoment.month(month - 1);\n    dateMoment = dateMoment.date(day);\n    dateMoment = dateMoment.year(refMoment.year())\n\n    const nextYear = dateMoment.add(1, 'y');\n    const lastYear = dateMoment.add(-1, 'y');\n    if( Math.abs(nextYear.diff(refMoment)) < Math.abs(dateMoment.diff(refMoment)) ){\n        dateMoment = nextYear;\n    }\n    else if( Math.abs(lastYear.diff(refMoment)) < Math.abs(dateMoment.diff(refMoment)) ){\n        dateMoment = lastYear;\n    }\n\n    return dateMoment.year();\n}\n\nexports.ENISOFormatParser = require('./en/ENISOFormatParser').Parser;\nexports.ENDeadlineFormatParser = require('./en/ENDeadlineFormatParser').Parser;\nexports.ENRelativeDateFormatParser = require('./en/ENRelativeDateFormatParser').Parser;\nexports.ENMonthNameLittleEndianParser = require('./en/ENMonthNameLittleEndianParser').Parser;\nexports.ENMonthNameMiddleEndianParser = require('./en/ENMonthNameMiddleEndianParser').Parser;\nexports.ENMonthNameParser = require('./en/ENMonthNameParser').Parser;\nexports.ENSlashDateFormatParser = require('./en/ENSlashDateFormatParser').Parser;\nexports.ENSlashDateFormatStartWithYearParser = require('./en/ENSlashDateFormatStartWithYearParser').Parser;\nexports.ENSlashMonthFormatParser = require('./en/ENSlashMonthFormatParser').Parser;\nexports.ENTimeAgoFormatParser = require('./en/ENTimeAgoFormatParser').Parser;\nexports.ENTimeExpressionParser = require('./en/ENTimeExpressionParser').Parser;\nexports.ENTimeLaterFormatParser = require('./en/ENTimeLaterFormatParser').Parser;\nexports.ENWeekdayParser = require('./en/ENWeekdayParser').Parser;\nexports.ENCasualDateParser = require('./en/ENCasualDateParser').Parser;\nexports.ENCasualTimeParser = require('./en/ENCasualTimeParser').Parser;\n\nexports.JPStandardParser = require('./ja/JPStandardParser').Parser;\nexports.JPCasualDateParser = require('./ja/JPCasualDateParser').Parser;\n\nexports.PTCasualDateParser = require('./pt/PTCasualDateParser').Parser;\nexports.PTDeadlineFormatParser = require('./pt/PTDeadlineFormatParser').Parser;\nexports.PTMonthNameLittleEndianParser = require('./pt/PTMonthNameLittleEndianParser').Parser;\nexports.PTSlashDateFormatParser = require('./pt/PTSlashDateFormatParser').Parser;\nexports.PTTimeAgoFormatParser = require('./pt/PTTimeAgoFormatParser').Parser;\nexports.PTTimeExpressionParser = require('./pt/PTTimeExpressionParser').Parser;\nexports.PTWeekdayParser = require('./pt/PTWeekdayParser').Parser;\n\nexports.ESCasualDateParser = require('./es/ESCasualDateParser').Parser;\nexports.ESDeadlineFormatParser = require('./es/ESDeadlineFormatParser').Parser;\nexports.ESTimeAgoFormatParser = require('./es/ESTimeAgoFormatParser').Parser;\nexports.ESTimeExpressionParser = require('./es/ESTimeExpressionParser').Parser;\nexports.ESWeekdayParser = require('./es/ESWeekdayParser').Parser;\nexports.ESMonthNameLittleEndianParser = require('./es/ESMonthNameLittleEndianParser').Parser;\nexports.ESSlashDateFormatParser = require('./es/ESSlashDateFormatParser').Parser;\n\nexports.FRCasualDateParser = require('./fr/FRCasualDateParser').Parser;\nexports.FRDeadlineFormatParser = require('./fr/FRDeadlineFormatParser').Parser;\nexports.FRMonthNameLittleEndianParser = require('./fr/FRMonthNameLittleEndianParser').Parser;\nexports.FRSlashDateFormatParser = require('./fr/FRSlashDateFormatParser').Parser;\nexports.FRTimeAgoFormatParser = require('./fr/FRTimeAgoFormatParser').Parser;\nexports.FRTimeExpressionParser = require('./fr/FRTimeExpressionParser').Parser;\nexports.FRWeekdayParser = require('./fr/FRWeekdayParser').Parser;\nexports.FRRelativeDateFormatParser = require('./fr/FRRelativeDateFormatParser').Parser;\n\nexports.ZHHantDateParser = require('./zh-Hant/ZHHantDateParser').Parser;\nexports.ZHHantWeekdayParser = require('./zh-Hant/ZHHantWeekdayParser').Parser;\nexports.ZHHantTimeExpressionParser = require('./zh-Hant/ZHHantTimeExpressionParser').Parser;\nexports.ZHHantCasualDateParser = require('./zh-Hant/ZHHantCasualDateParser').Parser;\nexports.ZHHantDeadlineFormatParser = require('./zh-Hant/ZHHantDeadlineFormatParser').Parser;\n\nexports.DEDeadlineFormatParser = require('./de/DEDeadlineFormatParser').Parser;\nexports.DEMonthNameLittleEndianParser = require('./de/DEMonthNameLittleEndianParser').Parser;\nexports.DEMonthNameParser = require('./de/DEMonthNameParser').Parser;\nexports.DESlashDateFormatParser = require('./de/DESlashDateFormatParser').Parser;\nexports.DETimeAgoFormatParser = require('./de/DETimeAgoFormatParser').Parser;\nexports.DETimeExpressionParser = require('./de/DETimeExpressionParser').Parser;\nexports.DEWeekdayParser = require('./de/DEWeekdayParser').Parser;\nexports.DECasualDateParser = require('./de/DECasualDateParser').Parser;\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","\nexports.Refiner = function Refiner() { \n\n    this.refine = function(text, results, opt) { return results; };\n}\n\nexports.Filter = function Filter() { \n    \n    exports.Refiner.call(this);\n\n    this.isValid = function(text, result, opt) { return true; }\n    this.refine = function(text, results, opt) { \n\n        var filteredResult = [];\n        for (var i=0; i < results.length; i++) {\n\n            var result = results[i];\n            if (this.isValid(text, result, opt)) {\n                filteredResult.push(result);\n            }\n        }\n\n        return filteredResult;\n    }\n}\n\n\n// Common refiners\nexports.OverlapRemovalRefiner = require('./OverlapRemovalRefiner').Refiner;\nexports.ExtractTimezoneOffsetRefiner = require('./ExtractTimezoneOffsetRefiner').Refiner;\nexports.ExtractTimezoneAbbrRefiner = require('./ExtractTimezoneAbbrRefiner').Refiner;\nexports.ForwardDateRefiner = require('./ForwardDateRefiner').Refiner;\nexports.UnlikelyFormatFilter = require('./UnlikelyFormatFilter').Refiner;\n\n// en refiners\nexports.ENMergeDateTimeRefiner = require('./en/ENMergeDateTimeRefiner').Refiner;\nexports.ENMergeDateRangeRefiner = require('./en/ENMergeDateRangeRefiner').Refiner;\nexports.ENPrioritizeSpecificDateRefiner = require('./en/ENPrioritizeSpecificDateRefiner').Refiner;\n\n// ja refiners\nexports.JPMergeDateRangeRefiner = require('./ja/JPMergeDateRangeRefiner').Refiner;\n\n// fr refiners\nexports.FRMergeDateRangeRefiner = require('./fr/FRMergeDateRangeRefiner').Refiner;\nexports.FRMergeDateTimeRefiner = require('./fr/FRMergeDateTimeRefiner').Refiner;\n\n// de refiners\nexports.DEMergeDateRangeRefiner = require('./de/DEMergeDateRangeRefiner').Refiner;\nexports.DEMergeDateTimeRefiner = require('./de/DEMergeDateTimeRefiner').Refiner;\n","exports.WEEKDAY_OFFSET = { \n    'sunday': 0, \n    'sun': 0, \n    'monday': 1, \n    'mon': 1,\n    'tuesday': 2, \n    'tue':2, \n    'wednesday': 3, \n    'wed': 3, \n    'thursday': 4, \n    'thur': 4, \n    'thu': 4,\n    'friday': 5, \n    'fri': 5,\n    'saturday': 6, \n    'sat': 6\n};\n    \nexports.MONTH_OFFSET = { \n    'january': 1,\n    'jan': 1,\n    'jan.': 1,\n    'february': 2,\n    'feb': 2,\n    'feb.': 2,\n    'march': 3,\n    'mar': 3,\n    'mar.': 3,\n    'april': 4,\n    'apr': 4,\n    'apr.': 4,\n    'may': 5,\n    'june': 6,\n    'jun': 6,\n    'jun.': 6,\n    'july': 7,\n    'jul': 7,\n    'jul.': 7,\n    'august': 8,\n    'aug': 8,\n    'aug.': 8,\n    'september': 9,\n    'sep': 9,\n    'sep.': 9,\n    'sept': 9,\n    'sept.': 9,\n    'october': 10,\n    'oct': 10,\n    'oct.': 10,\n    'november': 11,\n    'nov': 11,\n    'nov.': 11,\n    'december': 12,\n    'dec': 12,\n    'dec.': 12\n};\n\nexports.MONTH_PATTERN = '(?:' \n    + Object.keys(exports.MONTH_OFFSET).join('|').replace(/\\./g, '\\\\.')\n    + ')';\n\nexports.INTEGER_WORDS = {\n    'one' : 1,\n    'two' : 2,\n    'three' : 3,\n    'four' : 4,\n    'five' : 5,\n    'six' : 6,\n    'seven' : 7,\n    'eight' : 8,\n    'nine' : 9,\n    'ten' : 10,\n    'eleven' : 11,\n    'twelve' : 12\n};\nexports.INTEGER_WORDS_PATTERN = '(?:' \n    + Object.keys(exports.INTEGER_WORDS).join('|') \n    +')';\n\nexports.ORDINAL_WORDS = {\n    'first' : 1,\n    'second': 2,\n    'third': 3,\n    'fourth': 4,\n    'fifth': 5,\n    'sixth': 6,\n    'seventh': 7,\n    'eighth': 8,\n    'ninth': 9,\n    'tenth': 10,\n    'eleventh': 11,\n    'twelfth': 12,\n    'thirteenth': 13,\n    'fourteenth': 14,\n    'fifteenth': 15,\n    'sixteenth': 16,\n    'seventeenth': 17,\n    'eighteenth': 18,\n    'nineteenth': 19,\n    'twentieth': 20,\n    'twenty first': 21,\n    'twenty second': 22,\n    'twenty third': 23,\n    'twenty fourth': 24,\n    'twenty fifth': 25,\n    'twenty sixth': 26,\n    'twenty seventh': 27,\n    'twenty eighth': 28,\n    'twenty ninth': 29,\n    'thirtieth': 30,\n    'thirty first': 31\n};\nexports.ORDINAL_WORDS_PATTERN = '(?:' \n    + Object.keys(exports.ORDINAL_WORDS).join('|').replace(/ /g, '[ -]') \n    + ')';\n\nvar TIME_UNIT = \n    '(' + exports.INTEGER_WORDS_PATTERN + '|[0-9]+|[0-9]+\\.[0-9]+|an?(?:\\\\s*few)?|half(?:\\\\s*an?)?)\\\\s*' +\n    '(sec(?:onds?)?|min(?:ute)?s?|hours?|weeks?|days?|months?|years?)\\\\s*';\n\nvar TIME_UNIT_STRICT = \n    '(?:[0-9]+|an?)\\\\s*' +\n    '(?:seconds?|minutes?|hours?|days?)\\\\s*';\n\nvar PATTERN_TIME_UNIT = new RegExp(TIME_UNIT, 'i');\n\nexports.TIME_UNIT_PATTERN = '(?:' + TIME_UNIT + ')+';\nexports.TIME_UNIT_STRICT_PATTERN = '(?:' + TIME_UNIT_STRICT + ')+';\n\nexports.extractDateTimeUnitFragments = function (timeunitText) {\n    var fragments = {};\n    var remainingText = timeunitText;\n    var match = PATTERN_TIME_UNIT.exec(remainingText);\n    while (match) {\n        collectDateTimeFragment(match, fragments);\n        remainingText = remainingText.substring(match[0].length);\n        match = PATTERN_TIME_UNIT.exec(remainingText);\n    }\n    return fragments;\n};\n\nfunction collectDateTimeFragment(match, fragments) {\n    var num = match[1].toLowerCase() ;\n    if (exports.INTEGER_WORDS[num] !== undefined) {\n        num = exports.INTEGER_WORDS[num];\n    } else if(num === 'a' || num === 'an'){\n        num = 1;\n    } else if (num.match(/few/)) {\n        num = 3;\n    } else if (num.match(/half/)) {\n        num = 0.5;\n    } else {\n        num = parseFloat(num);\n    }\n\n    if (match[2].match(/hour/i)) {\n        fragments['hour'] = num;\n    } else if (match[2].match(/min/i)) {\n        fragments['minute'] = num;\n    } else if (match[2].match(/sec/i)) {\n        fragments['second'] = num;\n    } else if (match[2].match(/week/i)) {\n        fragments['week'] = num;\n    } else if (match[2].match(/day/i)) {\n        fragments['d'] = num;\n    } else if (match[2].match(/month/i)) {\n        fragments['month'] = num;\n    } else if (match[2].match(/year/i)) {\n        fragments['year'] = num;\n    }\n\n    return fragments;\n}","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar DAYS_OFFSET = { 'sunday': 0, 'sun': 0, 'monday': 1, 'mon': 1,'tuesday': 2, 'tues':2, 'tue':2, 'wednesday': 3, 'wed': 3,\n    'thursday': 4, 'thurs':4, 'thur': 4, 'thu': 4,'friday': 5, 'fri': 5,'saturday': 6, 'sat': 6};\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:on\\\\s*?)?' +\n    '(?:(this|last|past|next)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(this|last|past|next)\\\\s*week)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\n\nexports.updateParsedComponent = function updateParsedComponent(result, ref, offset, modifier) {\n\n    var startMoment = dayjs(ref);\n    var startMomentFixed = false;\n    var refOffset = startMoment.day();\n\n    if(modifier == 'last' || modifier == 'past') {\n        startMoment =startMoment.day(offset - 7);\n        startMomentFixed = true;\n    } else if(modifier == 'next') {\n        startMoment = startMoment.day(offset + 7);\n        startMomentFixed = true;\n    } else if(modifier == 'this') {\n        startMoment = startMoment.day(offset);\n    } else {\n        if (Math.abs(offset - 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset - 7);\n        } else if (Math.abs(offset + 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset + 7);\n        } else {\n            startMoment = startMoment.day(offset);\n        }\n    }\n\n    result.start.assign('weekday', offset);\n    if (startMomentFixed) {\n        result.start.assign('day', startMoment.date());\n        result.start.assign('month', startMoment.month() + 1);\n        result.start.assign('year', startMoment.year());\n    } else {\n        result.start.imply('day', startMoment.date());\n        result.start.imply('month', startMoment.month() + 1);\n        result.start.imply('year', startMoment.year());\n    }\n\n    return result;\n};\n\n\nexports.Parser = function ENWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) {\n            return null;\n        }\n\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        var norm = prefix || postfix;\n        norm = norm || '';\n        norm = norm.toLowerCase();\n\n        exports.updateParsedComponent(result, ref, offset, norm);\n        result.tags['ENWeekdayParser'] = true;\n\n        return result;\n    }\n};\n","/*\n    \n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\nvar PATTERN = new RegExp(\"^\\\\s*(T|at|after|before|on|of|,|-)?\\\\s*$\");\n\nvar isDateOnly = exports.isDateOnly = function(result) {\n    return !result.start.isCertain('hour');\n}\n    \nvar isTimeOnly = exports.isTimeOnly = function(result) {\n    return !result.start.isCertain('month') && !result.start.isCertain('weekday');\n}\n\nvar isAbleToMerge = exports.isAbleToMerge = function(text, prevResult, curResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\n    return textBetween.match(PATTERN);\n}\n\nvar mergeDateTimeComponent = exports.mergeDateTimeComponent = function(dateComponent, timeComponent) {\n    var dateTimeComponent = dateComponent.clone();\n\n    if (timeComponent.isCertain('hour')) {\n        dateTimeComponent.assign('hour', timeComponent.get('hour'));\n        dateTimeComponent.assign('minute', timeComponent.get('minute'));\n\n        if (timeComponent.isCertain('second')) {\n            dateTimeComponent.assign('second', timeComponent.get('second'));\n\n            if (timeComponent.isCertain('millisecond')) {\n                dateTimeComponent.assign('millisecond', timeComponent.get('millisecond'));\n            } else {\n                dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n            }\n        } else {\n            dateTimeComponent.imply('second', timeComponent.get('second'));\n            dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n        }\n        \n    } else {\n        dateTimeComponent.imply('hour', timeComponent.get('hour'));\n        dateTimeComponent.imply('minute', timeComponent.get('minute'));\n        dateTimeComponent.imply('second', timeComponent.get('second'));\n        dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n    }\n\n    if (timeComponent.isCertain('meridiem')) {\n        dateTimeComponent.assign('meridiem', timeComponent.get('meridiem'));\n    } else if (\n        timeComponent.get('meridiem') !== undefined &&\n        dateTimeComponent.get('meridiem') === undefined\n    ) {\n        dateTimeComponent.imply('meridiem', timeComponent.get('meridiem'));\n    }\n\n    if (dateTimeComponent.get('meridiem') == 1 && dateTimeComponent.get('hour') < 12) {\n        if (timeComponent.isCertain('hour')) {\n            dateTimeComponent.assign('hour', dateTimeComponent.get('hour') + 12);\n        } else {\n            dateTimeComponent.imply('hour', dateTimeComponent.get('hour') + 12);\n        }\n    }\n\n    return dateTimeComponent;\n}\n\n\nfunction mergeResult(text, dateResult, timeResult){\n\n    var beginDate = dateResult.start;\n    var beginTime = timeResult.start;\n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\n    \n    if (dateResult.end != null || timeResult.end != null) {\n        \n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\n        \n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\n            // Ex. 9pm - 1am\n            if (endDateTime.isCertain('day')) {\n                endDateTime.assign('day', endDateTime.get('day') + 1);\n            } else {\n                endDateTime.imply('day', endDateTime.get('day') + 1);\n            }\n        }\n\n        dateResult.end = endDateTime;\n    }\n\n    dateResult.start = beginDateTime;    \n\n    var startIndex = Math.min(dateResult.index, timeResult.index);\n    var endIndex = Math.max(\n            dateResult.index + dateResult.text.length, \n            timeResult.index + timeResult.text.length);\n    \n    dateResult.index = startIndex;\n    dateResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in timeResult.tags) {\n        dateResult.tags[tag] = true;\n    }\n    dateResult.tags['ENMergeDateAndTimeRefiner'] = true;\n    return dateResult;\n}\n\nexports.Refiner = function ENMergeDateTimeRefiner() {\n    Refiner.call(this);\n\n\n    this.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = results[i + 1];\n                i += 1;\n                \n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = results[i + 1];\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}","var NUMBER ={\n  '零':0,\n  '一':1,\n  '二':2,\n  '兩':2,\n  '三':3,\n  '四':4,\n  '五':5,\n  '六':6,\n  '七':7,\n  '八':8,\n  '九':9,\n  '十':10,\n  '廿':20,\n  '卅':30,\n};\n\nvar WEEKDAY_OFFSET ={\n  '天':0,\n  '日':0,\n  '一':1,\n  '二':2,\n  '三':3,\n  '四':4,\n  '五':5,\n  '六':6,\n};\n\nexports.NUMBER = NUMBER;\nexports.WEEKDAY_OFFSET = WEEKDAY_OFFSET;\n\nexports.zhStringToNumber=function(text){\n  var number = 0;\n  for(var i=0; i<text.length ;i++){\n    var char = text[i];\n    if(char === '十'){\n      number = number=== 0 ? NUMBER[char] : (number * NUMBER[char]);\n    }else{\n      number += NUMBER[char];\n    }\n  }\n  return number;\n};\n\nexports.zhStringToYear=function(text){\n  var string = '';\n  for(var i=0; i<text.length ;i++){\n    var char = text[i];\n    string = string + NUMBER[char];\n  }\n  return parseInt(string);\n};\n","exports.WEEKDAY_OFFSET = { \n    'sonntag': 0, \n    'so': 0, \n    'montag': 1, \n    'mo': 1,\n    'dienstag': 2, \n    'di':2, \n    'mittwoch': 3, \n    'mi': 3, \n    'donnerstag': 4, \n    'do': 4, \n    'freitag': 5, \n    'fr': 5,\n    'samstag': 6, \n    'sa': 6\n};\n    \nexports.MONTH_OFFSET = { \n    'januar': 1,\n    'jan': 1,\n    'jan.': 1,\n    'februar': 2,\n    'feb': 2,\n    'feb.': 2,\n    'märz': 3,\n    'maerz': 3,\n    'mär': 3,\n    'mär.': 3,\n    'mrz': 3,\n    'mrz.': 3,\n    'april': 4,\n    'apr': 4,\n    'apr.': 4,\n    'mai': 5,\n    'juni': 6,\n    'jun': 6,\n    'jun.': 6,\n    'juli': 7,\n    'jul': 7,\n    'jul.': 7,\n    'august': 8,\n    'aug': 8,\n    'aug.': 8,\n    'september': 9,\n    'sep': 9,\n    'sep.': 9,\n    'sept': 9,\n    'sept.': 9,\n    'oktober': 10,\n    'okt': 10,\n    'okt.': 10,\n    'november': 11,\n    'nov': 11,\n    'nov.': 11,\n    'dezember': 12,\n    'dez': 12,\n    'dez.': 12\n};\n\nexports.INTEGER_WORDS_PATTERN = '(?:eins|zwei|drei|vier|fünf|fuenf|sechs|sieben|acht|neun|zehn|elf|zwölf|zwoelf)';\nexports.INTEGER_WORDS = {\n    'eins' : 1,\n    'zwei' : 2,\n    'drei' : 3,\n    'vier' : 4,\n    'fünf' : 5,\n    'fuenf': 5,\n    'sechs' : 6,\n    'sieben' : 7,\n    'acht' : 8,\n    'neun' : 9,\n    'zehn' : 10,\n    'elf' : 11,\n    'zwölf' : 12,\n    'zwoelf' : 12\n};\n","exports.WEEKDAY_OFFSET = { \r\n    'dimanche': 0, \r\n    'dim': 0, \r\n    'lundi': 1, \r\n    'lun': 1,\r\n    'mardi': 2, \r\n    'mar':2, \r\n    'mercredi': 3, \r\n    'mer': 3, \r\n    'jeudi': 4, \r\n    'jeu': 4, \r\n    'vendredi': 5, \r\n    'ven': 5,\r\n    'samedi': 6, \r\n    'sam': 6\r\n};\r\n    \r\nexports.MONTH_OFFSET = { \r\n    'janvier': 1,\r\n    'jan': 1,\r\n    'jan.': 1,\r\n    'février': 2,\r\n    'fév': 2,\r\n    'fév.': 2,\r\n    'fevrier': 2,\r\n    'fev': 2,\r\n    'fev.': 2,\r\n    'mars': 3,\r\n    'mar': 3,\r\n    'mar.': 3,\r\n    'avril': 4,\r\n    'avr': 4,\r\n    'avr.': 4,\r\n    'mai': 5,\r\n    'juin': 6,\r\n    'jun': 6,\r\n    'juillet': 7,\r\n    'jul': 7,\r\n    'jul.': 7,\r\n    'août': 8,\r\n    'aout': 8,\r\n    'septembre': 9,\r\n    'sep': 9,\r\n    'sep.': 9,\r\n    'sept': 9,\r\n    'sept.': 9,\r\n    'octobre': 10,\r\n    'oct': 10,\r\n    'oct.': 10,\r\n    'novembre': 11,\r\n    'nov': 11,\r\n    'nov.': 11,\r\n    'décembre': 12,\r\n    'decembre': 12,\r\n    'dec': 12,\r\n    'dec.': 12\r\n};\r\n\r\nexports.INTEGER_WORDS_PATTERN = '(?:un|deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize)';\r\nexports.INTEGER_WORDS = {\r\n    'un' : 1,\r\n    'deux' : 2,\r\n    'trois' : 3,\r\n    'quatre' : 4,\r\n    'cinq' : 5,\r\n    'six' : 6,\r\n    'sept' : 7,\r\n    'huit' : 8,\r\n    'neuf' : 9,\r\n    'dix' : 10,\r\n    'onze' : 11,\r\n    'douze' : 12,\r\n    'treize' : 13,\r\n};\r\n","/*\n  \n*/\nvar Refiner = require('../refiner').Refiner;\n\nexports.Refiner = function ENMergeDateRangeRefiner() {\n    Refiner.call(this);\n\n    this.pattern = function () { return /^\\s*(to|\\-)\\s*$/i };\n\n    this.refine = function(text, results, opt) {\n\n        if (results.length < 2) return results;\n        \n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n        \n        for (var i=1; i<results.length; i++){\n            \n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (!prevResult.end && !currResult.end \n                && this.isAbleToMerge(text, prevResult, currResult)) {\n              \n                prevResult = this.mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n        \n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n\n        return mergedResult;\n    };\n\n    this.isAbleToMerge = function(text, result1, result2) {\n        var begin = result1.index + result1.text.length;\n        var end   = result2.index;\n        var textBetween = text.substring(begin,end);\n\n        return textBetween.match(this.pattern());\n    };\n\n    this.mergeResult = function(text, fromResult, toResult) {\n\n        if (!fromResult.isOnlyWeekday() && !toResult.isOnlyWeekday()) {\n            \n            var timeKeys = {'hour': true, 'minute': true, 'second': true};\n\n            for (var key in toResult.start.knownValues) {\n                if (!fromResult.start.isCertain(key)) {\n                    fromResult.start.assign(key, toResult.start.get(key));\n                }\n            }\n\n            for (var key in fromResult.start.knownValues) {\n                if (!toResult.start.isCertain(key)) {\n                    toResult.start.assign(key, fromResult.start.get(key));\n                }\n            }\n        }\n\n        if (fromResult.start.date().getTime() > toResult.start.date().getTime()) {\n            \n            var fromMoment = fromResult.start.dayjs();\n            var toMoment = toResult.start.dayjs();\n\n            if (fromResult.isOnlyWeekday() && fromMoment.add(-7, 'days').isBefore(toMoment)) {\n                fromMoment = fromMoment.add(-7, 'days');\n                fromResult.start.imply('day', fromMoment.date());\n                fromResult.start.imply('month', fromMoment.month() + 1);\n                fromResult.start.imply('year', fromMoment.year());\n            } else if (toResult.isOnlyWeekday() && toMoment.add(7, 'days').isAfter(fromMoment)) {\n                toMoment = toMoment.add(7, 'days');\n                toResult.start.imply('day', toMoment.date());\n                toResult.start.imply('month', toMoment.month() + 1);\n                toResult.start.imply('year', toMoment.year());\n            } else {\n                var tmp = toResult;\n                toResult = fromResult;\n                fromResult = tmp;\n            }\n        }\n        \n        fromResult.end = toResult.start;\n\n        \n\n        for (var tag in toResult.tags) {\n            fromResult.tags[tag] = true;\n        }\n\n            \n        var startIndex = Math.min(fromResult.index, toResult.index);\n        var endIndex = Math.max(\n            fromResult.index + fromResult.text.length, \n            toResult.index + toResult.text.length);\n            \n        fromResult.index = startIndex;\n        fromResult.text  = text.substring(startIndex, endIndex);\n        fromResult.tags[this.constructor.name] = true;\n        return fromResult;\n    }\n};\n\n","\nvar options = exports.options = require('./options');\n\nexports.parser = require('./parsers/parser');\nexports.refiner = require('./refiners/refiner');\n\nexports.Parser = exports.parser.Parser;\nexports.Refiner = exports.refiner.Refiner;\nexports.Filter = exports.refiner.Filter;\n\nexports.ParsedResult = require('./result').ParsedResult;\nexports.ParsedComponents = require('./result').ParsedComponents;\n\nvar Chrono = function(option) {\n\n    option = option || exports.options.casualOption();\n    this.parsers = new Object(option.parsers);\n    this.refiners = new Object(option.refiners);\n};\n\n\nChrono.prototype.parse = function(text, refDate, opt) {\n\n    refDate = refDate || new Date();\n    opt = opt || {};\n    opt.forwardDate = opt.forwardDate || opt.forwardDate;\n    \n    var allResults = [];\n\n    this.parsers.forEach(function (parser) {\n        var results = parser.execute(text, refDate, opt);\n        allResults = allResults.concat(results);\n    });\n\n    allResults.sort(function(a, b) {\n        return a.index - b.index;\n    });\n\n    this.refiners.forEach(function (refiner) {\n        allResults = refiner.refine(text, allResults, opt);\n    });\n    \n    return allResults;\n};\n\n\nChrono.prototype.parseDate = function(text, refDate, opt) {\n    var results = this.parse(text, refDate, opt);\n    if (results.length > 0) {\n        return results[0].start.date();\n    }\n    return null;\n};\n\nexports.Chrono = Chrono;\nexports.strict = new Chrono( options.strictOption() );\nexports.casual = new Chrono( options.casualOption() );\n\nexports.en = new Chrono( options.mergeOptions([\n    options.en.casual, options.commonPostProcessing]));\n\nexports.en_GB = new Chrono( options.mergeOptions([\n    options.en_GB.casual, options.commonPostProcessing]));\n\nexports.de = new Chrono( options.mergeOptions([\n    options.de.casual, options.en, options.commonPostProcessing]));\n\nexports.pt = new Chrono( options.mergeOptions([\n    options.pt.casual, options.en, options.commonPostProcessing]));\n\nexports.es = new Chrono( options.mergeOptions([\n    options.es.casual, options.en, options.commonPostProcessing]));\n\nexports.fr = new Chrono( options.mergeOptions([\n    options.fr.casual, options.en, options.commonPostProcessing]));\n\nexports.ja = new Chrono( options.mergeOptions([ \n    options.ja.casual, options.en, options.commonPostProcessing]));\n\n\nexports.parse = function () {\n    return exports.casual.parse.apply(exports.casual, arguments);\n};\n\nexports.parseDate = function () {\n    return exports.casual.parseDate.apply(exports.casual, arguments);\n};\n\n\n\n\n","var parser = require('./parsers/parser');\nvar refiner = require('./refiners/refiner');\n\n\nexports.mergeOptions = function(options) {\n\n    var addedTypes = {};\n    var mergedOption = {\n        parsers: [],\n        refiners: []\n    };\n\n    options.forEach(function (option) {\n\n        if (option.call) {\n            option = option.call();\n        }\n\n        if (option.parsers) {\n            option.parsers.forEach(function (p) {\n                if (!addedTypes[p.constructor]) {\n                    mergedOption.parsers.push(p);\n                    addedTypes[p.constructor] = true;\n                }\n            });\n        }\n\n        if (option.refiners) {\n            option.refiners.forEach(function (r) {\n                if (!addedTypes[r.constructor]) {\n                    mergedOption.refiners.push(r);\n                    addedTypes[r.constructor] = true;\n                }\n            });\n        }\n    });\n\n    return mergedOption;\n};\n\n\nexports.commonPostProcessing = function() {\n    return {\n        refiners: [\n            // These should be after all other refiners\n            new refiner.ExtractTimezoneOffsetRefiner(),\n            new refiner.ExtractTimezoneAbbrRefiner(),\n            new refiner.UnlikelyFormatFilter()\n        ]\n    }\n};\n\n\n// -------------------------------------------------------------\n\nexports.strictOption = function () {\n    var strictConfig = {\n        strict: true\n    };\n\n    return exports.mergeOptions([\n        exports.en(strictConfig),\n        exports.de(strictConfig),\n        exports.pt(strictConfig),\n        exports.es(strictConfig),\n        exports.fr(strictConfig),\n        exports.ja(strictConfig),\n        exports.zh,\n        exports.commonPostProcessing\n    ]);\n};\n\nexports.casualOption = function () {\n    return exports.mergeOptions([\n        exports.en.casual,\n        // Some German abbriviate overlap with common English\n        exports.de({ strict: true }), \n        exports.pt.casual,\n        exports.es.casual,\n        exports.fr.casual,\n        exports.ja.casual,\n        exports.zh,\n        exports.commonPostProcessing\n    ]);\n};\n\n// -------------------------------------------------------------\n\nexports.de = function(config) {\n    return {\n        parsers: [\n            new parser.DEDeadlineFormatParser(config),\n            new parser.DEMonthNameLittleEndianParser(config),\n            new parser.DEMonthNameParser(config),\n            new parser.DESlashDateFormatParser(config),\n            new parser.DETimeAgoFormatParser(config),\n            new parser.DETimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.DEMergeDateTimeRefiner(),\n            new refiner.DEMergeDateRangeRefiner()\n        ]\n    }\n};\n\nexports.de.casual = function() {\n    var option = exports.de({\n        strict: false\n    });\n    option.parsers.unshift(new parser.DECasualDateParser());\n    option.parsers.unshift(new parser.DEWeekdayParser());\n    return option;\n};\n\n\n\n// -------------------------------------------------------------\n\n\nexports.en = function(config) {\n    return {\n        parsers: [\n            new parser.ENISOFormatParser(config),\n            new parser.ENDeadlineFormatParser(config),\n            new parser.ENMonthNameLittleEndianParser(config),\n            new parser.ENMonthNameMiddleEndianParser(config),\n            new parser.ENMonthNameParser(config),\n            new parser.ENSlashDateFormatParser(config),\n            new parser.ENSlashDateFormatStartWithYearParser(config),\n            new parser.ENSlashMonthFormatParser(config),\n            new parser.ENTimeAgoFormatParser(config),\n            new parser.ENTimeLaterFormatParser(config),\n            new parser.ENTimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n\n            // English\n            new refiner.ENMergeDateTimeRefiner(),\n            new refiner.ENMergeDateRangeRefiner(),\n            new refiner.ENPrioritizeSpecificDateRefiner()\n        ]\n    }\n};\n\nexports.en.casual = function(config) {\n    config = config || {};\n    config.strict = false;\n    var option = exports.en(config);\n\n    // en\n    option.parsers.unshift(new parser.ENCasualDateParser());\n    option.parsers.unshift(new parser.ENCasualTimeParser());\n    option.parsers.unshift(new parser.ENWeekdayParser());\n    option.parsers.unshift(new parser.ENRelativeDateFormatParser());\n    return option;\n};\n\n\nexports.en_GB = function(config) {\n    config = config || {};\n    config.littleEndian = true;\n    return exports.en(config);\n}\n\nexports.en_GB.casual = function(config) {\n    config = config || {};\n    config.littleEndian = true;\n    return exports.en.casual(config);\n}\n\n// -------------------------------------------------------------\n\nexports.ja = function() {\n    return {\n        parsers: [\n            new parser.JPStandardParser()\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.JPMergeDateRangeRefiner()\n        ]\n    }\n};\n\nexports.ja.casual = function() {\n    var option = exports.ja();\n    option.parsers.unshift(new parser.JPCasualDateParser());\n    return option;\n};\n\n// -------------------------------------------------------------\n\n\nexports.pt = function(config) {\n    return {\n        parsers: [\n            new parser.PTTimeAgoFormatParser(config),\n            new parser.PTDeadlineFormatParser(config),\n            new parser.PTTimeExpressionParser(config),\n            new parser.PTMonthNameLittleEndianParser(config),\n            new parser.PTSlashDateFormatParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};\n\nexports.pt.casual = function() {\n    var option = exports.pt({ \n        strict: false \n    });\n\n    option.parsers.unshift(new parser.PTCasualDateParser());\n    option.parsers.unshift(new parser.PTWeekdayParser());\n    return option;\n};\n\n// -------------------------------------------------------------\n\n\nexports.es = function(config) {\n    return {\n        parsers: [\n            new parser.ESTimeAgoFormatParser(config),\n            new parser.ESDeadlineFormatParser(config),\n            new parser.ESTimeExpressionParser(config),\n            new parser.ESMonthNameLittleEndianParser(config),\n            new parser.ESSlashDateFormatParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};\n\nexports.es.casual = function() {\n    var option = exports.es({ \n        strict: false \n    });\n\n    option.parsers.unshift(new parser.ESCasualDateParser());\n    option.parsers.unshift(new parser.ESWeekdayParser());\n    return option;\n};\n\n\n// -------------------------------------------------------------\n\nexports.fr = function(config) {\n    return {\n        parsers: [\n            new parser.FRDeadlineFormatParser(config),\n            new parser.FRMonthNameLittleEndianParser(config),\n            new parser.FRSlashDateFormatParser(config),\n            new parser.FRTimeAgoFormatParser(config),\n            new parser.FRTimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.FRMergeDateRangeRefiner(),\n            new refiner.FRMergeDateTimeRefiner()\n        ]\n    }\n};\n\nexports.fr.casual = function() {\n    var option = exports.fr({\n        strict: false\n    });\n\n    option.parsers.unshift(new parser.FRCasualDateParser());\n    option.parsers.unshift(new parser.FRWeekdayParser());\n    option.parsers.unshift(new parser.FRRelativeDateFormatParser());\n    return option;\n};\n\n\n// -------------------------------------------------------------\n\nexports.zh = function() {\n    return {\n        parsers: [\n            new parser.ZHHantDateParser(),\n            new parser.ZHHantWeekdayParser(),\n            new parser.ZHHantTimeExpressionParser(),\n            new parser.ZHHantCasualDateParser(),\n            new parser.ZHHantDeadlineFormatParser()\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};","/*\n    ISO 8601\n    http://www.w3.org/TR/NOTE-datetime\n    - YYYY-MM-DD\n    - YYYY-MM-DDThh:mmTZD\n    - YYYY-MM-DDThh:mm:ssTZD\n    - YYYY-MM-DDThh:mm:ss.sTZD \n    - TZD = (Z or +hh:mm or -hh:mm)\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' \n            + '([0-9]{4})\\\\-([0-9]{1,2})\\\\-([0-9]{1,2})'\n            + '(?:T' //..\n                + '([0-9]{1,2}):([0-9]{1,2})' // hh:mm\n                + '(?::([0-9]{1,2})(?:\\\\.(\\\\d{1,4}))?)?' // :ss.s\n                + '(?:Z|([+-]\\\\d{2}):?(\\\\d{2})?)?' // TZD (Z or ±hh:mm or ±hhmm or ±hh)\n            + ')?'  //..\n            + '(?=\\\\W|$)', 'i');\n\nvar YEAR_NUMBER_GROUP = 2;\nvar MONTH_NUMBER_GROUP = 3;\nvar DATE_NUMBER_GROUP  = 4;\nvar HOUR_NUMBER_GROUP  = 5;\nvar MINUTE_NUMBER_GROUP = 6;\nvar SECOND_NUMBER_GROUP = 7;\nvar MILLISECOND_NUMBER_GROUP = 8;\nvar TZD_HOUR_OFFSET_GROUP = 9;\nvar TZD_MINUTE_OFFSET_GROUP = 10;\n\nexports.Parser = function ENISOFormatParser(){\n    Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        })\n        \n        result.start.assign('year', parseInt(match[YEAR_NUMBER_GROUP]));\n        result.start.assign('month', parseInt(match[MONTH_NUMBER_GROUP]));\n        result.start.assign('day', parseInt(match[DATE_NUMBER_GROUP]));\n\n        if (dayjs(result.start.get('month')) > 12 || dayjs(result.start.get('month')) < 1 ||\n            dayjs(result.start.get('day')) > 31 || dayjs(result.start.get('day')) < 1) {\n            return null;\n        }\n\n        if (match[HOUR_NUMBER_GROUP] != null) {\n            \n            result.start.assign('hour',\n                    parseInt(match[HOUR_NUMBER_GROUP]));\n            result.start.assign('minute',\n                    parseInt(match[MINUTE_NUMBER_GROUP]));\n\n            if (match[SECOND_NUMBER_GROUP] != null) {\n\n                result.start.assign('second',\n                        parseInt(match[SECOND_NUMBER_GROUP]));\n            }\n\n            if (match[MILLISECOND_NUMBER_GROUP] != null) {\n\n                result.start.assign('millisecond',\n                        parseInt(match[MILLISECOND_NUMBER_GROUP]));\n            }\n\n            if (match[TZD_HOUR_OFFSET_GROUP] == null) {\n\n                result.start.assign('timezoneOffset', 0);\n            } else {\n\n                var minuteOffset = 0;\n                var hourOffset = parseInt(match[TZD_HOUR_OFFSET_GROUP]);\n                if (match[TZD_MINUTE_OFFSET_GROUP] != null)\n                    minuteOffset = parseInt(match[TZD_MINUTE_OFFSET_GROUP]);\n\n                var offset = hourOffset * 60;\n                if (offset < 0) {\n                    offset -= minuteOffset;\n                } else {\n                    offset += minuteOffset;\n                }\n\n                result.start.assign('timezoneOffset', offset);\n            }\n        }\n        \n        result.tags['ENISOFormatParser'] = true;\n        return result;\n    };\n\n}\n\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(within|in)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|an?(?:\\\\s*few)?|half(?:\\\\s*an?)?)\\\\s*' +\n    '(seconds?|min(?:ute)?s?|hours?|days?|weeks?|months?|years?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\n    '(within|in)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|an?)\\\\s*' +\n    '(seconds?|minutes?|hours?|days?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nexports.Parser = function ENDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'a' || num === 'an'){\n            num = 1;\n        } else if (num.match(/few/i)){\n            num = 3;\n        } else if (num.match(/half/i)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/day|week|month|year/i)) {\n\n            if (match[4].match(/day/i)) {\n                date = date.add(num, 'd');\n            } else if (match[4].match(/week/i)) {\n                date = date.add(num * 7, 'd');\n            } else if (match[4].match(/month/i)) {\n                date = date.add(num, 'month');\n            } else if (match[4].match(/year/i)) {\n                date = date.add(num, 'year');\n            }\n\n            result.start.imply('year', date.year());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('day', date.date());\n            return result;\n        }\n\n        if (match[4].match(/hour/i)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/min/i)) {\n\n            date = date.add(num, 'minute');\n\n        } else if (match[4].match(/second/i)) {\n\n            date = date.add(num, 'second');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.imply('hour', date.hour());\n        result.start.imply('minute', date.minute());\n        result.start.imply('second', date.second());\n        result.tags['ENDeadlineFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(this|next|last|past)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|few|half(?:\\\\s*an?)?)?\\\\s*' +\n    '(seconds?|min(?:ute)?s?|hours?|days?|weeks?|months?|years?)(?=\\\\s*)' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar MODIFIER_WORD_GROUP = 2;\nvar MULTIPLIER_WORD_GROUP = 3;\nvar RELATIVE_WORD_GROUP = 4;\n\nexports.Parser = function ENRelativeDateFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var modifier = match[MODIFIER_WORD_GROUP].toLowerCase().match(/^next/) ? 1 : -1;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n        result.tags['ENRelativeDateFormatParser'] = true;\n\n        var num = match[MULTIPLIER_WORD_GROUP] === undefined ? '' : match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === ''){\n            num = 1;\n        } else if (num.match(/few/i)){\n            num = 3;\n        } else if (num.match(/half/i)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        num *= modifier;\n        var date = dayjs(ref);\n\n        if (match[MODIFIER_WORD_GROUP].toLowerCase().match(/^this/)) {\n\n            if (match[MULTIPLIER_WORD_GROUP]) {\n                return null;\n            }\n\n            if (match[RELATIVE_WORD_GROUP].match(/day|week|month|year/i)) {\n                \n                // This week\n                if (match[RELATIVE_WORD_GROUP].match(/week/i)) {\n                    date = date.add(-date.get('d'), 'd');\n                    result.start.imply('day', date.date());\n                    result.start.imply('month', date.month() + 1);\n                    result.start.imply('year', date.year());\n                } \n                \n                // This month\n                else if (match[RELATIVE_WORD_GROUP].match(/month/i)) {\n                    date = date.add(-date.date() + 1, 'd');\n                    result.start.imply('day', date.date());\n                    result.start.assign('year', date.year());\n                    result.start.assign('month', date.month() + 1);\n                } \n\n                // This year\n                else if (match[RELATIVE_WORD_GROUP].match(/year/i)) {\n                    date = date.add(-date.date() + 1, 'd');\n                    date = date.add(-date.month(), 'month');\n\n                    result.start.imply('day', date.date());\n                    result.start.imply('month', date.month() + 1);\n                    result.start.assign('year', date.year());\n                } \n\n                return result;\n            }\n        }\n        \n        if (match[RELATIVE_WORD_GROUP].match(/day|week|month|year/i)) {\n\n            if (match[RELATIVE_WORD_GROUP].match(/day/i)) {\n                date = date.add(num, 'd');\n                result.start.assign('year', date.year());\n                result.start.assign('month', date.month() + 1);\n                result.start.assign('day', date.date());\n            } else if (match[RELATIVE_WORD_GROUP].match(/week/i)) {\n                date = date.add(num * 7, 'd');\n                // We don't know the exact date for next/last week so we imply\n                // them\n                result.start.imply('day', date.date());\n                result.start.imply('month', date.month() + 1);\n                result.start.imply('year', date.year());\n            } else if (match[RELATIVE_WORD_GROUP].match(/month/i)) {\n                date = date.add(num, 'month');\n                // We don't know the exact day for next/last month\n                result.start.imply('day', date.date());\n                result.start.assign('year', date.year());\n                result.start.assign('month', date.month() + 1);\n            } else if (match[RELATIVE_WORD_GROUP].match(/year/i)) {\n                date = date.add(num, 'year');\n                // We don't know the exact day for month on next/last year\n                result.start.imply('day', date.date());\n                result.start.imply('month', date.month() + 1);\n                result.start.assign('year', date.year());\n            }\n\n            return result;\n        }\n\n        if (match[RELATIVE_WORD_GROUP].match(/hour/i)) {\n\n            date = date.add(num, 'hour');\n            result.start.imply('minute', date.minute());\n            result.start.imply('second', date.second());\n\n        } else if (match[RELATIVE_WORD_GROUP].match(/min/i)) {\n\n            date = date.add(num, 'minute');\n            result.start.assign('minute', date.minute());\n            result.start.imply('second', date.second());\n\n        } else if (match[RELATIVE_WORD_GROUP].match(/second/i)) {\n\n            date = date.add(num, 'second');\n            result.start.assign('second', date.second());\n            result.start.assign('minute', date.minute());\n        }\n\n        result.start.assign('hour', date.hour());\n        result.start.assign('year', date.year());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('day', date.date());\n        return result;\n    };\n};\n","const parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:on\\\\s*?)?' +\n        '(?:(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\\\s*,?\\\\s*)?' +\n        '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN + ')' +\n        '(?:\\\\s*' +\n            '(?:to|\\\\-|\\\\–|until|through|till|\\\\s)\\\\s*' +\n            '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN + ')' +\n        ')?' + \n        '(?:-|\\/|\\\\s*(?:of)?\\\\s*)' +\n        '(' + util.MONTH_PATTERN + ')' +\n        '(?:' +\n            '(?:-|\\/|,?\\\\s*)' +\n            '((?:' + \n                '[1-9][0-9]{0,3}\\\\s*(?:BE|AD|BC)|' +\n                '[1-2][0-9]{3}' + \n            ')(?![^\\\\s]\\\\d))' +\n        ')?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_NUM_GROUP = 4;\nvar DATE_TO_GROUP = 5;\nvar DATE_TO_NUM_GROUP = 6;\nvar MONTH_NAME_GROUP = 7;\nvar YEAR_GROUP = 8;\n\nexports.Parser = function ENMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_NUM_GROUP] ?\n            parseInt(match[DATE_NUM_GROUP]):\n            util.ORDINAL_WORDS[match[DATE_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            \n            if (/BE/i.test(year)) {\n                // Buddhist Era\n                year = year.replace(/BE/i, '');\n                year = parseInt(year) - 543;\n            } else if (/BC/i.test(year)){\n                // Before Christ\n                year = year.replace(/BC/i, '');\n                year = -parseInt(year);\n            } else if (/AD/i.test(year)){\n                year = year.replace(/AD/i, '');\n                year = parseInt(year);\n            } else {\n                year = parseInt(year);\n                if (year < 100){\n                    year = year + 2000;\n                }\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            var endDate = match[DATE_TO_NUM_GROUP] ?\n                parseInt(match[DATE_TO_NUM_GROUP]):\n                util.ORDINAL_WORDS[match[DATE_TO_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n            result.end = result.start.clone();\n            result.end.assign('day', endDate);\n        }\n\n        result.tags['ENMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n};\n","/*\n\n    The parser for parsing US's date format that begin with month's name.\n\n    EX.\n        - January 13\n        - January 13, 2012\n        - January 13 - 15, 2012\n        - Tuesday, January 13, 2012\n\n    Watch out for:\n        - January 12:00\n        - January 12.44\n        - January 1222344\n*/\nvar parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:on\\\\s*?)?' +\n        '(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun\\\\.?|Mon\\\\.?|Tue\\\\.?|Wed\\\\.?|Thu\\\\.?|Fri\\\\.?|Sat\\\\.?)' +\n    '\\\\s*,?\\\\s*)?' +\n    '(' + util.MONTH_PATTERN + ')' +\n    '(?:-|\\/|\\\\s*,?\\\\s*)' +\n    '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN +')(?!\\\\s*(?:am|pm))\\\\s*' + '' + \n    '(?:' +\n        '(?:to|\\\\-)\\\\s*' +\n        '(([0-9]{1,2})(?:st|nd|rd|th)?| ' + util.ORDINAL_WORDS_PATTERN + ')\\\\s*' +\n    ')?' +\n    '(?:' +\n        '(?:-|\\/|\\\\s*,?\\\\s*)' +\n        '(?:([0-9]{4})\\\\s*(BE|AD|BC)?|([0-9]{1,4})\\\\s*(AD|BC))\\\\s*' +\n    ')?' +\n    '(?=\\\\W|$)(?!\\\\:\\\\d)', 'i');\n\nvar WEEKDAY_GROUP = 2;\nvar MONTH_NAME_GROUP = 3;\nvar DATE_GROUP = 4;\nvar DATE_NUM_GROUP = 5;\nvar DATE_TO_GROUP = 6;\nvar DATE_TO_NUM_GROUP = 7;\nvar YEAR_GROUP = 8;\nvar YEAR_BE_GROUP = 9;\nvar YEAR_GROUP2 = 10;\nvar YEAR_BE_GROUP2 = 11;\n\nexports.Parser = function ENMonthNameMiddleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n        var day = match[DATE_NUM_GROUP] ?\n            parseInt(match[DATE_NUM_GROUP]) :\n            util.ORDINAL_WORDS[match[DATE_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP] || match[YEAR_GROUP2]) {\n            year = match[YEAR_GROUP] || match[YEAR_GROUP2];\n            year = parseInt(year);\n\n            var yearBE = match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2];\n            if (yearBE) {\n                if (/BE/i.test(yearBE)) {\n                    // Buddhist Era\n                    year = year - 543;\n                } else if (/BC/i.test(yearBE)) {\n                    // Before Christ\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month)\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as 'January 12 - 13, 2012'\n        if (match[DATE_TO_GROUP]) {\n            var endDate = match[DATE_TO_NUM_GROUP] ?\n                endDate = parseInt(match[DATE_TO_NUM_GROUP]) :\n                util.ORDINAL_WORDS[match[DATE_TO_GROUP].replace('-', ' ').trim().toLowerCase()];\n\n            result.end = result.start.clone();\n            result.end.assign('day', endDate);\n        }\n\n        result.tags['ENMonthNameMiddleEndianParser'] = true;\n        return result;\n    }\n};","/*\n    \n    The parser for parsing month name and year.\n    \n    EX. \n        - January\n        - January 2012\n        - January, 2012\n*/\nvar parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(^|\\\\D\\\\s+|[^\\\\w\\\\s])' +\n    '('+ util.MONTH_PATTERN +')' + \n    '\\\\s*' +\n    '(?:' +\n        '[,-]?\\\\s*([0-9]{4})(\\\\s*BE|AD|BC)?' +\n    ')?' +\n    '(?=[^\\\\s\\\\w]|\\\\s+[^0-9]|\\\\s+$|$)', 'i');\n\nvar MONTH_NAME_GROUP = 2;\nvar YEAR_GROUP = 3;\nvar YEAR_BE_GROUP = 4;\n\nexports.Parser = function ENMonthNameParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        \n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = 1;\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (match[YEAR_BE_GROUP].match(/BE/)) {\n                    // Buddhist Era\n                    year = year - 543;\n                } else if (match[YEAR_BE_GROUP].match(/BC/)) {\n                    // Before Christ\n                    year = -year;\n                }\n\n            } else if (year < 100){ \n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month)\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        result.tags['ENMonthNameParser'] = true;\n        return result;\n    }\n}\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Tuesday 11/3/2015 \n    - 11/3/2015\n    - 11/3\n\n    By default the paser us \"middle-endien\" format (US English),\n    then fallback to little-endian if failed.\n    - 11/3/2015 = November 3rd, 2015\n    - 23/4/2015 = April 23th, 2015\n\n    If \"littleEndian\" config is set, the parser will try the little-endian first. \n    - 11/3/2015 = March 11th, 2015\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:on\\\\s*?)?' +\n        '((?:sun|mon|tues?|wed(?:nes)?|thu(?:rs?)?|fri|sat(?:ur)?)(?:day)?)' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'sunday': 0, 'sun': 0, 'monday': 1, 'mon': 1,'tuesday': 2, 'wednesday': 3, 'wed': 3,\n    'thursday': 4, 'thur': 4,'friday': 5, 'fri': 5,'saturday': 6, 'sat': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\nvar WEEKDAY_GROUP = 2;\n\n\nvar FIRST_NUMBERS_GROUP = 3;\nvar SECOND_NUMBERS_GROUP = 4;\n\nvar YEAR_GROUP = 5;\n\nexports.Parser = function ENSlashDateFormatParser(config) {\n    Parser.apply(this, arguments);\n    config = config || {};\n    var littleEndian  = config.littleEndian;\n    var MONTH_GROUP = littleEndian ? SECOND_NUMBERS_GROUP : FIRST_NUMBERS_GROUP;\n    var DAY_GROUP = littleEndian ? FIRST_NUMBERS_GROUP : SECOND_NUMBERS_GROUP;\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if (year > 50) {\n                year = year + 1900;\n            } else {\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        if (match[YEAR_GROUP]) {\n            result.start.assign('year', year);\n        } else {\n            result.start.imply('year', year);\n        }\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['ENSlashDateFormatParser'] = true;\n        return result;\n    };\n};\n","/*\n    Date format with slash \"/\" between numbers like ENSlashDateFormatParser,\n    but this parser expect year before month and date. \n    - YYYY/MM/DD\n    - YYYY-MM-DD\n    - YYYY.MM.DD\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' \n            + '([0-9]{4})[\\\\-\\\\.\\\\/]'\n            + '((?:' + util.MONTH_PATTERN + '|[0-9]{1,2}))[\\\\-\\\\.\\\\/]'\n            + '([0-9]{1,2})'\n            + '(?=\\\\W|$)', 'i');\n\nvar YEAR_NUMBER_GROUP = 2;\nvar MONTH_NUMBER_GROUP = 3;\nvar DATE_NUMBER_GROUP  = 4;\n\nexports.Parser = function ENSlashDateFormatStartWithYearParser(){\n    Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        })\n        \n        var month = match[MONTH_NUMBER_GROUP].toLowerCase();\n        month = util.MONTH_OFFSET[month] | month;\n\n        result.start.assign('year', parseInt(match[YEAR_NUMBER_GROUP]));\n        result.start.assign('month', parseInt(month));\n        result.start.assign('day', parseInt(match[DATE_NUMBER_GROUP]));\n\n        if (\n            dayjs(result.start.get('month')) > 12 || dayjs(result.start.get('month')) < 1 || \n            dayjs(result.start.get('day')) > 31 || dayjs(result.start.get('day')) < 1) {\n            return null;\n        }\n        \n        result.tags['ENDateFormatParser'] = true;\n        return result;\n    };\n}\n","/*\n    Month/Year date format with slash \"/\" (also \"-\" and \".\") between numbers \n    - 11/05\n    - 06/2005\n*/\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(^|[^\\\\d/]\\\\s+|[^\\\\w\\\\s])' +\n    '([0-9]|0[1-9]|1[012])/([0-9]{4})' + \n    '(?=[^\\\\d/]|$)', 'i');\n\nvar OPENNING_GROUP = 1;\n\nvar MONTH_GROUP = 2;\nvar YEAR_GROUP = 3;\n\nexports.Parser = function ENSlashMonthFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n        \n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length).trim();\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        var year = match[YEAR_GROUP] ;\n        var month = match[MONTH_GROUP];\n        var day   = 1;\n        \n        month = parseInt(month);\n        year = parseInt(year);\n\n        result.start.imply('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        result.tags['ENSlashMonthFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('' +\n    '(\\\\W|^)' +\n    '(?:within\\\\s*)?' +\n    '(' + util.TIME_UNIT_PATTERN + ')' +\n    '(?:ago|before|earlier)(?=(?:\\\\W|$))', 'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    '(\\\\W|^)' +\n    '(?:within\\\\s*)?' +\n    '(' + util.TIME_UNIT_STRICT_PATTERN + ')' +\n    'ago(?=(?:\\\\W|$))', 'i');\n\nexports.Parser = function ENTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var fragments = util.extractDateTimeUnitFragments(match[2]);\n        var date = dayjs(ref);\n\n        for (var key in fragments) {\n            date = date.add(-fragments[key], key);\n        }\n\n        if (fragments['hour'] > 0 || fragments['minute'] > 0 || fragments['second'] > 0) {\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['ENTimeAgoFormatParser'] = true;\n        } \n        \n        if (fragments['d'] > 0 || fragments['month'] > 0 || fragments['year'] > 0) {\n            result.start.assign('day', date.date());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('year', date.year());\n        } else {\n            if (fragments['week'] > 0) {\n                result.start.imply('weekday', date.day());\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n        }\n\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:at|from)\\\\s*)??\" + \n    \"(\\\\d{1,4}|noon|midnight)\" + \n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\:|\\\\：)(\\\\d{2})(?:\\\\.(\\\\d{1,6}))?\" + \n        \")?\" + \n    \")?\" + \n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?|O\\\\W*CLOCK))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" + \n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|to|\\\\?)\\\\s*\" + \n    \"(\\\\d{1,4})\" +\n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})(?:\\\\.(\\\\d{1,6}))?\" + \n        \")?\" + \n    \")?\" + \n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?|O\\\\W*CLOCK))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar MILLI_SECOND_GROUP  = 5;\nvar AM_PM_HOUR_GROUP = 6;\n\n\nexports.Parser = function ENTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        // This pattern can be overlapped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['ENTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n        \n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Millisecond\n        if(match[MILLI_SECOND_GROUP] != null){ \n            var millisecond = parseInt(match[MILLI_SECOND_GROUP].substring(0, 3));\n            if(millisecond >= 1000) return null;\n            \n            result.start.assign('millisecond', millisecond);\n        }\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n        \n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase() == \"noon\"){\n            meridiem = 1; \n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"midnight\") {\n            meridiem = 0; \n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n        \n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){ \n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) { \n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        } \n        \n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n\n        // ----- AM & PM  \n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0; \n                if(hour == 12) hour = 0;\n            }\n            \n            if(ampm == \"p\"){\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n        } \n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Millisecond\n        if(match[MILLI_SECOND_GROUP] != null){ \n            var millisecond = parseInt(match[MILLI_SECOND_GROUP].substring(0, 3));\n            if(millisecond >= 1000) return null;\n            \n            result.end.assign('millisecond', millisecond);\n        }\n        \n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n        \n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n            \n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n            \n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n        \n        // ----- AM & PM \n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0; \n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n            \n            if(ampm == \"p\"){\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n            \n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n                    \n                    result.start.imply('meridiem', 0);\n                    \n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n                    \n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12); \n                    }\n                }\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n        \n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('' +\n    /*match[1]*/ '(\\\\W|^)' +\n    /*match[2]*/ '(in )?' +\n    /*match[3]*/ '(' + util.TIME_UNIT_PATTERN + ')' +\n    /*match[4]*/ '(later|after|from now|henceforth|forward|out)?' +\n    /*match[5]*/ '(?=(?:\\\\W|$))',\n'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    /*match[1]*/ '(\\\\W|^)' +\n    /*match[2]*/ '(in )?' +\n    /*match[3]*/ '(' + util.TIME_UNIT_STRICT_PATTERN + ')' +\n    /*match[4]*/ '(later|from now)?' +\n    /*match[5]*/ '(?=(?:\\\\W|$))',\n'i');\n\nexports.Parser = function ENTimeLaterFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var prefix = match[2];\n        var suffix = match[4];\n        if (!prefix && !suffix) return null;\n\n        var preamble = match[1];\n        var text  = match[0].substr(preamble.length, match[0].length - preamble.length);\n        var index = match.index + preamble.length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var fragments = util.extractDateTimeUnitFragments(match[3]);\n        var date = dayjs(ref);\n        for (var key in fragments) {\n            date = date.add(fragments[key], key);\n        }\n\n        if (fragments['hour'] > 0 || fragments['minute'] > 0 || fragments['second'] > 0) {\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['ENTimeAgoFormatParser'] = true;\n        } \n        \n        if (fragments['d'] > 0 || fragments['month'] > 0 || fragments['year'] > 0) {\n            result.start.assign('day', date.date());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('year', date.year());\n        } else {\n            if (fragments['week'] > 0) {\n                result.start.imply('weekday', date.day());\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n        }\n\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(now|today|tonight|last\\s*night|(?:tomorrow|tmr|yesterday)\\s*|tomorrow|tmr|yesterday)(?=\\W|$)/i;\n\nexports.Parser = function ENCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase();\n\n        if(lowerText == 'tonight'){\n            // Normally means this coming midnight\n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n\n        } else if (/^tomorrow|^tmr/.test(lowerText)) {\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if (/^yesterday/.test(lowerText)) {\n\n            startMoment = startMoment.add(-1, 'day');\n\n        } else if(lowerText.match(/last\\s*night/)) {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"now\")) {\n\n          result.start.assign('hour', refMoment.hour());\n          result.start.assign('minute', refMoment.minute());\n          result.start.assign('second', refMoment.second());\n          result.start.assign('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['ENCasualDateParser'] = true;\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)((this)?\\s*(morning|afternoon|evening|noon|night))/i;\n\nvar TIME_MATCH = 4;\n\nexports.Parser = function ENCasualTimeParser(){\n\n    Parser.apply(this, arguments);\n\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        if(!match[TIME_MATCH]) TIME_MATCH = 3;\n        \n        switch (match[TIME_MATCH].toLowerCase()) {\n\n            case 'afternoon':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 15);\n                break;\n\n            case 'evening':\n            case 'night':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 20);\n                break;\n\n            case 'morning':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 6);\n                break;\n\n            case 'noon':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 12);\n                break;\n        }\n        \n        result.tags['ENCasualTimeParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\n\nconst util  = require('../../utils/JP'); \n\nconst PATTERN = /(?:(同|今|本|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\\s*)?([0-9０-９]{1,2})月\\s*([0-9０-９]{1,2})日/i;\nconst SPECIAL_YEAR_GROUP  = 1;\nconst TYPICAL_YEAR_GROUP  = 2;\nconst ERA_GROUP         = 3;\nconst YEAR_NUMBER_GROUP = 4;\nconst MONTH_GROUP       = 5;\nconst DAY_GROUP         = 6;\n\nexports.Parser = function JPStandardParser(){\n    parser.Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        var result = new ParsedResult({\n            text: match[0],\n            index: match.index,\n            ref: ref,\n        });\n        \n        var month = match[MONTH_GROUP];\n        month = util.toHankaku(month);\n        month = parseInt(month);\n\n        var day = match[DAY_GROUP];\n        day = util.toHankaku(day);\n        day = parseInt(day);\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n            \n        if (match[TYPICAL_YEAR_GROUP]) {\n\n            var year = match[YEAR_NUMBER_GROUP];\n            if (year == '元') {\n                year = 1;\n            } else {\n                year = util.toHankaku(year);\n                year = parseInt(year);\n            }\n\n            if (match[ERA_GROUP] == '令和') {\n                year += 2018;\n            } else if (match[ERA_GROUP] == '平成') {\n                year += 1988;\n            } else if (match[ERA_GROUP] == '昭和') {\n                year += 1925;\n            }\n\n            result.start.assign('year', year);\n\n        } else if (match[SPECIAL_YEAR_GROUP] && match[SPECIAL_YEAR_GROUP].match('同|今|本')) {\n            const moment = dayjs(ref)\n            result.start.assign('year', moment.year());\n        } else {\n            const year = parser.findYearClosestToRef(ref, day, month);\n            result.start.imply('year', year);\n        }\n        \n        result.tags['JPStandardParser'] = true;\n        return result;\n    };\n\n}\n\n","\n\n/**\n * to-hankaku.js\n * convert to ascii code strings.\n *\n * @version 1.0.1\n * @author think49\n * @url https://gist.github.com/964592\n * @license http://www.opensource.org/licenses/mit-license.php (The MIT License)\n */\n \nexports.toHankaku = (function (String, fromCharCode) {\n \n    function toHankaku (string) {\n        return String(string).replace(/\\u2019/g, '\\u0027').replace(/\\u201D/g, '\\u0022').replace(/\\u3000/g, '\\u0020').replace(/\\uFFE5/g, '\\u00A5').replace(/[\\uFF01\\uFF03-\\uFF06\\uFF08\\uFF09\\uFF0C-\\uFF19\\uFF1C-\\uFF1F\\uFF21-\\uFF3B\\uFF3D\\uFF3F\\uFF41-\\uFF5B\\uFF5D\\uFF5E]/g, alphaNum);\n    }\n \n    function alphaNum (token) {\n        return fromCharCode(token.charCodeAt(0) - 65248);\n    }\n \n    return toHankaku;\n})(String, String.fromCharCode);\n\n/**\n * to-zenkaku.js\n * convert to multi byte strings.\n *\n * @version 1.0.2\n * @author think49\n * @url https://gist.github.com/964592\n * @license http://www.opensource.org/licenses/mit-license.php (The MIT License)\n */\nexports.toZenkaku = (function (String, fromCharCode) {\n \n    function toZenkaku (string) {\n        return String(string).replace(/\\u0020/g, '\\u3000').replace(/\\u0022/g, '\\u201D').replace(/\\u0027/g, '\\u2019').replace(/\\u00A5/g, '\\uFFE5').replace(/[!#-&(),-9\\u003C-?A-[\\u005D_a-{}~]/g, alphaNum);\n    }\n \n    function alphaNum (token) {\n        return fromCharCode(token.charCodeAt(0) + 65248);\n    }\n \n    return toZenkaku;\n})(String, String.fromCharCode);","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i;\n\nexports.Parser = function JPCasualDateParser(){\n    \n    Parser.apply(this, arguments);\n        \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        var index = match.index;\n        var text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n\n        if(text == '今夜' || text == '今夕' || text == '今晩'){\n            // Normally means this coming midnight \n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n\n        } else if(text == '明日'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 4) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(text == '昨日') {\n\n            startMoment = startMoment.add(-1, 'day');\n\n        } else if (text.match(\"今朝\")) {\n\n            result.start.imply('hour', 6);\n            result.start.imply('meridiem', 0);\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['JPCasualDateParser'] = true;\n        return result;\n    }\n}\n\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\n/*\n  Valid patterns:\n  - esta manhã -> today in the morning\n  - esta tarde -> today in the afternoon/evening\n  - esta noite -> tonight\n  - ontem de -> yesterday in the morning\n  - ontem a tarde -> yesterday in the afternoon/evening\n  - ontem a noite -> yesterday at night\n  - amanhã de manhã -> tomorrow in the morning\n  - amanhã a tarde -> tomorrow in the afternoon/evening\n  - amanhã a noite -> tomorrow at night\n  - hoje -> today\n  - ontem -> yesterday\n  - amanhã -> tomorrow\n */\nvar PATTERN = /(\\W|^)(agora|esta\\s*(manhã|tarde|noite)|(ontem|amanhã)\\s*(de|à)\\s*(manhã|tarde|noite)|hoje|amanhã|ontem|noite)(?=\\W|$)/i;\n\nexports.Parser = function PTCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase().replace(/\\s+/g, ' ');\n\n        if(lowerText == 'amanhã'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(lowerText == 'ontem') {\n\n            startMoment = startMoment.add(-1, 'day');\n        }\n        else if(lowerText == 'noite') {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"esta\")) {\n\n            var secondMatch = match[3].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"manhã\") {\n\n                result.start.imply('hour', 6);\n\n            } else if (secondMatch == \"noite\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n        } else if (lowerText.match(/de|à/)) {\n\n            var firstMatch = match[4].toLowerCase();\n            if (firstMatch === 'ontem') {\n\n                startMoment = startMoment.add(-1, 'day');\n\n            } else if (firstMatch === 'amanhã') {\n\n                startMoment = startMoment.add(1, 'day');\n\n            }\n\n            var secondMatch = match[6].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"manhã\") {\n\n                result.start.imply('hour', 9);\n\n            } else if (secondMatch == \"noite\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n\n        } else if (lowerText.match(\"agora\")) {\n\n          result.start.imply('hour', refMoment.hour());\n          result.start.imply('minute', refMoment.minute());\n          result.start.imply('second', refMoment.second());\n          result.start.imply('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['PTCasualDateParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(dentro\\s*de|em|em*até)\\s*([0-9]+|mei[oa]|uma?)\\s*(minutos?|horas?|dias?)\\s*(?=(?:\\W|$))/i;\n\nexports.Parser = function PTDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[3]);\n        if (isNaN(num)) {\n          if (match[3].match(/(meio|meia)/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/dia/)) {\n            date = date.add(num, 'd');\n\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n\n        if (match[4].match(/hora/)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/minuto/)) {\n\n            date = date.add(num, 'minute');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.tags['PTDeadlineFormatParser'] = true;\n        return result;\n    };\n}\n","var parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util  = require('../../utils/PT');\n\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:(domingo|segunda|segunda-feira|terça|terça-feira|quarta|quarta-feira|quinta|quinta-feira|sexta|sexta-feira|sábado|sabado|dom|seg|ter|qua|qui|sex|sab)\\\\s*,?\\\\s*)?' +\n        '([0-9]{1,2})(?:º|ª|°)?' +\n        '(?:\\\\s*(?:desde|de|\\\\-|\\\\–|ao?|\\\\s)\\\\s*([0-9]{1,2})(?:º|ª|°)?)?\\\\s*(?:de)?\\\\s*' +\n        '(Jan(?:eiro|\\\\.)?|Fev(?:ereiro|\\\\.)?|Mar(?:ço|\\\\.)?|Abr(?:il|\\\\.)?|Mai(?:o|\\\\.)?|Jun(?:ho|\\\\.)?|Jul(?:ho|\\\\.)?|Ago(?:sto|\\\\.)?|Set(?:embro|\\\\.)?|Out(?:ubro|\\\\.)?|Nov(?:embro|\\\\.)?|Dez(?:embro|\\\\.)?)' +\n        '(?:\\\\s*(?:de?)?(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(\\\\s*[ad]\\\\.?\\\\s*c\\\\.?|a\\\\.?\\\\s*d\\\\.?)?)?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_TO_GROUP = 4;\nvar MONTH_NAME_GROUP = 5;\nvar YEAR_GROUP = 6;\nvar YEAR_BE_GROUP = 7;\n\nexports.Parser = function PTMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/a\\.?\\s*c\\.?/i.test(match[YEAR_BE_GROUP])) {\n                    // antes de Cristo\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['PTMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","exports.WEEKDAY_OFFSET = {\n    'domingo': 0,\n    'dom': 0,\n    'segunda': 1,\n    'segunda-feira': 1,\n    'seg': 1,\n    'terça': 2,\n    'terca': 2,\n    'terça-feira': 2,\n    'terca-feira': 2,\n    'ter':2,\n    'quarta': 3,\n    'quarta-feira': 3,\n    'qua': 3,\n    'quinta': 4,\n    'quinta-feira': 4,\n    'qui': 4,\n    'sexta': 5,\n    'sexta-feira': 5,\n    'sex': 5,\n    'sábado': 6,\n    'sabado': 6,\n    'sab': 6,}\n  \n  exports.MONTH_OFFSET = {\n    'janeiro': 1,\n    'jan': 1,\n    'jan.': 1,\n    'fevereiro': 2,\n    'fev': 2,\n    'fev.': 2,\n    'março': 3,\n    'mar': 3,\n    'mar.': 3,\n    'abril': 4,\n    'abr': 4,\n    'abr.': 4,\n    'maio': 5,\n    'mai': 5,\n    'mai.': 5,\n    'junho': 6,\n    'jun': 6,\n    'jun.': 6,\n    'julho': 7,\n    'jul': 7,\n    'jul.': 7,\n    'agosto': 8,\n    'ago': 8,\n    'ago.': 8,\n    'setembro': 9,\n    'set': 9,\n    'set.': 9,\n    'outubro': 10,\n    'out': 10,\n    'out.': 10,\n    'novembro': 11,\n    'nov': 11,\n    'nov.': 11,\n    'dezembro': 12,\n    'dez': 12,\n    'dez.': 12,\n  }","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Martes 3/11/2015\n    - 3/11/2015\n    - 3/11\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '((?:domingo|dom|segunda|segunda-feira|seg|terça|terça-feira|ter|quarta|quarta-feira|qua|quinta|quinta-feira|qui|sexta|sexta-feira|sex|s[áa]bado|sab))' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-1]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'segunda': 1, 'segunda-feira': 1, 'seg': 1, 'terça': 2, 'terça-feira': 2, 'ter': 2, 'quarta': 3, 'quarta-feira': 3, 'qua': 3,\n    'quinta': 4, 'quinta-feira': 4, 'qui': 4, 'sexta': 5, 'sexta-feira': 5, 'sex': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\n// in Spanish we use day/month/year\nvar WEEKDAY_GROUP = 2;\nvar MONTH_GROUP = 4;\nvar DAY_GROUP = 3;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function PTSlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if(year > 50){\n                year = year + 1900;\n            }else{\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['PTSlashDateFormatParser'] = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)há\\s*([0-9]+|mei[oa]|uma?)\\s*(minutos?|horas?|semanas?|dias?|mes(es)?|anos?)(?=(?:\\W|$))/i;\n\nexports.Parser = function PTTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    }\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[2]);\n        if (isNaN(num)) {\n          if (match[2].match(/mei/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n\n        if (match[3].match(/hora/) || match[3].match(/minuto/)) {\n            if (match[3].match(/hora/)) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (match[3].match(/minuto/)) {\n\n                date = date.add(-num, 'minute');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.tags['PTTimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (match[3].match(/semana/)) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (match[3].match(/dia/)) {\n            date = date.add(-num, 'd');\n        }\n\n        if (match[3].match(/mes/)) {\n            date = date.add(-num, 'month');\n        }\n\n        if (match[3].match(/ano/)) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:ao?|às?|das|da|do)\\\\s*)?\" +\n    \"(\\\\d{1,4}|meio-dia|meia-noite|meio dia|meia noite)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|a(?:o)?|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\nexports.Parser = function PTTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['PTTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase().match(/meio\\-di/)){\n            meridiem = 1;\n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"meia-noite\") {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            }\n\n            if(ampm == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"a\"){\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if(hour >= 12) {\n            meridiem = 1;\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'segunda': 1, 'segunda-feira': 1, 'seg': 1, 'terça': 2, 'terça-feira': 2, 'ter': 2, 'quarta': 3, 'quarta-feira': 3, 'qua': 3,\n    'quinta': 4, 'quinta-feira': 4, 'qui': 4, 'sexta': 5, 'sexta-feira': 5, 'sex': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:(este|esta|passado|pr[oó]ximo)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(este|esta|passado|pr[óo]ximo)\\\\s*semana)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function PTWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        if (prefix || postfix) {\n            var norm = prefix || postfix;\n            norm = norm.toLowerCase();\n\n            if(norm == 'passado') {\n                modifier = 'this';\n            }\n            else if(norm == 'próximo' || norm == 'proximo') {\n                modifier = 'next';\n            }\n            else if(norm== 'este') {\n                modifier =  'this';\n            }\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['PTWeekdayParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\n/*\n  Valid patterns:\n  - esta mañana -> today in the morning\n  - esta tarde -> today in the afternoon/evening\n  - esta noche -> tonight\n  - ayer por la mañana -> yesterday in the morning\n  - ayer por la tarde -> yesterday in the afternoon/evening\n  - ayer por la noche -> yesterday at night\n  - mañana por la mañana -> tomorrow in the morning\n  - mañana por la tarde -> tomorrow in the afternoon/evening\n  - mañana por la noche -> tomorrow at night\n  - anoche -> tomorrow at night\n  - hoy -> today\n  - ayer -> yesterday\n  - mañana -> tomorrow\n */\nvar PATTERN = /(\\W|^)(ahora|esta\\s*(mañana|tarde|noche)|(ayer|mañana)\\s*por\\s*la\\s*(mañana|tarde|noche)|hoy|mañana|ayer|anoche)(?=\\W|$)/i;\n\nexports.Parser = function ESCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase().replace(/\\s+/g, ' ');\n\n        if(lowerText == 'mañana'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(lowerText == 'ayer') {\n\n            startMoment = startMoment.add(-1, 'day');\n        }\n        else if(lowerText == 'anoche') {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"esta\")) {\n\n            var secondMatch = match[3].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"mañana\") {\n\n                result.start.imply('hour', 6);\n\n            } else if (secondMatch == \"noche\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n        } else if (lowerText.match(/por\\s*la/)) {\n\n            var firstMatch = match[4].toLowerCase();\n            if (firstMatch === 'ayer') {\n\n                startMoment = startMoment.add(-1, 'day');\n\n            } else if (firstMatch === 'mañana') {\n\n                startMoment = startMoment.add(1, 'day');\n\n            }\n\n            var secondMatch = match[5].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"mañana\") {\n\n                result.start.imply('hour', 9);\n\n            } else if (secondMatch == \"noche\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n\n        } else if (lowerText.match(\"ahora\")) {\n\n          result.start.imply('hour', refMoment.hour());\n          result.start.imply('minute', refMoment.minute());\n          result.start.imply('second', refMoment.second());\n          result.start.imply('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['ESCasualDateParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(dentro\\s*de|en)\\s*([0-9]+|medi[oa]|una?)\\s*(minutos?|horas?|d[ií]as?)\\s*(?=(?:\\W|$))/i;\n\nexports.Parser = function ESDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[3]);\n        if (isNaN(num)) {\n          if (match[3].match(/medi/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/d[ií]a/)) {\n            date = date.add(num, 'd');\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n\n        if (match[4].match(/hora/)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/minuto/)) {\n\n            date = date.add(num, 'minute');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.tags['ESDeadlineFormatParser'] = true;\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)hace\\s*([0-9]+|medi[oa]|una?)\\s*(minutos?|horas?|semanas?|d[ií]as?|mes(es)?|años?)(?=(?:\\W|$))/i;\n\nexports.Parser = function ESTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    }\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[2]);\n        if (isNaN(num)) {\n          if (match[2].match(/medi/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n\n        if (match[3].match(/hora/) || match[3].match(/minuto/)) {\n            if (match[3].match(/hora/)) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (match[3].match(/minuto/)) {\n\n                date = date.add(-num, 'minute');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.tags['ESTimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (match[3].match(/semana/)) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (match[3].match(/d[ií]a/)) {\n            date = date.add(-num, 'd');\n        }\n\n        if (match[3].match(/mes/)) {\n            date = date.add(-num, 'month');\n        }\n\n        if (match[3].match(/año/)) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:a las?|al?|desde|de)\\\\s*)?\" +\n    \"(\\\\d{1,4}|mediod[ií]a|medianoche)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|a(?:\\s*las)?|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\nexports.Parser = function ESTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['ESTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase().match(/mediod/)){\n            meridiem = 1;\n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"medianoche\") {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            }\n\n            if(ampm == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"a\"){\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if(hour >= 12) {\n            meridiem = 1;\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'lunes': 1, 'lun': 1, 'martes': 2, 'mar':2, 'miercoles': 3, 'miércoles': 3, 'mie': 3,\n    'jueves': 4, 'jue': 4, 'viernes': 5, 'vier': 5, 'sabado': 6, 'sábado': 6, 'sab': 6,}\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:(este|pasado|pr[oó]ximo)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(este|pasado|pr[óo]ximo)\\\\s*week)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function ESWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        if (prefix || postfix) {\n            var norm = prefix || postfix;\n            norm = norm.toLowerCase();\n\n            if(norm == 'pasado') {\n                modifier = 'this';\n            }\n            else if(norm == 'próximo' || norm == 'proximo') {\n                modifier = 'next';\n            }\n            else if(norm== 'este') {\n                modifier =  'this';\n            }\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['ESWeekdayParser'] = true;\n        return result;\n    }\n}\n","var parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util  = require('../../utils/ES');\n\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:(Domingo|Lunes|Martes|Miércoles|Miercoles|Jueves|Viernes|Sábado|Sabado|Dom|Lun|Mar|Mie|Jue|Vie|Sab)\\\\s*,?\\\\s*)?' +\n        '([0-9]{1,2})(?:º|ª|°)?' +\n        '(?:\\\\s*(?:desde|de|\\\\-|\\\\–|al?|hasta|\\\\s)\\\\s*([0-9]{1,2})(?:º|ª|°)?)?\\\\s*(?:de)?\\\\s*' +\n        '(Ene(?:ro|\\\\.)?|Feb(?:rero|\\\\.)?|Mar(?:zo|\\\\.)?|Abr(?:il|\\\\.)?|May(?:o|\\\\.)?|Jun(?:io|\\\\.)?|Jul(?:io|\\\\.)?|Ago(?:sto|\\\\.)?|Sep(?:tiembre|\\\\.)?|Set(?:iembre|\\\\.)?|Oct(?:ubre|\\\\.)?|Nov(?:iembre|\\\\.)?|Dic(?:iembre|\\\\.)?)' +\n        '(?:\\\\s*(?:del?)?(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(\\\\s*[ad]\\\\.?\\\\s*c\\\\.?|a\\\\.?\\\\s*d\\\\.?)?)?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_TO_GROUP = 4;\nvar MONTH_NAME_GROUP = 5;\nvar YEAR_GROUP = 6;\nvar YEAR_BE_GROUP = 7;\n\nexports.Parser = function ESMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/a\\.?\\s*c\\.?/i.test(match[YEAR_BE_GROUP])) {\n                    // antes de Cristo\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['ESMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","exports.WEEKDAY_OFFSET = {\n    'domingo': 0,\n    'dom': 0,\n    'lunes': 1,\n    'lun': 1,\n    'martes': 2,\n    'mar':2,\n    'miércoles': 3,\n    'miercoles': 3,\n    'mie': 3,\n    'jueves': 4,\n    'jue': 4,\n    'viernes': 5,\n    'vie': 5,\n    'sábado': 6,\n    'sabado': 6,\n    'sab': 6,}\n\nexports.MONTH_OFFSET = {\n    'enero': 1,\n    'ene': 1,\n    'ene.': 1,\n    'febrero': 2,\n    'feb': 2,\n    'feb.': 2,\n    'marzo': 3,\n    'mar': 3,\n    'mar.': 3,\n    'abril': 4,\n    'abr': 4,\n    'abr.': 4,\n    'mayo': 5,\n    'may': 5,\n    'may.': 5,\n    'junio': 6,\n    'jun': 6,\n    'jun.': 6,\n    'julio': 7,\n    'jul': 7,\n    'jul.': 7,\n    'agosto': 8,\n    'ago': 8,\n    'ago.': 8,\n    'septiembre': 9,\n    'sep': 9,\n    'sept': 9,\n    'sep.': 9,\n    'sept.': 9,\n    'octubre': 10,\n    'oct': 10,\n    'oct.': 10,\n    'noviembre': 11,\n    'nov': 11,\n    'nov.': 11,\n    'diciembre': 12,\n    'dic': 12,\n    'dic.': 12,\n}\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Martes 3/11/2015\n    - 3/11/2015\n    - 3/11\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '((?:domingo|dom|lunes|lun|martes|mar|mi[ée]rcoles|mie|jueves|jue|viernes|vie|s[áa]bado|sab))' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-1]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'lunes': 1, 'lun': 1, 'martes': 2, 'mar': 2, 'miercoles': 3, 'miércoles': 3, 'mie': 3,\n    'jueves': 4, 'jue': 4, 'viernes': 5, 'vier': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\n// in Spanish we use day/month/year\nvar WEEKDAY_GROUP = 2;\nvar MONTH_GROUP = 4;\nvar DAY_GROUP = 3;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function ESSlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if(year > 50){\n                year = year + 1900;\n            }else{\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['ESSlashDateFormatParser'] = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = /(\\W|^)(maintenant|aujourd'hui|ajd|cette\\s*nuit|la\\s*veille|(demain|hier)(\\s*(matin|soir|aprem|après-midi))?|ce\\s*(matin|soir)|cet\\s*(après-midi|aprem))(?=\\W|$)/i;\r\n\r\nexports.Parser = function FRCasualDateParser(){\r\n\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var text = match[0].substr(match[1].length);\r\n        var index = match.index + match[1].length;\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref,\r\n        });\r\n\r\n        var refMoment = dayjs(ref);\r\n        var startMoment = refMoment;\r\n        var lowerText = text.toLowerCase();\r\n\r\n        if(lowerText.match(/demain/)){\r\n            // Check not \"Tomorrow\" on late night\r\n            if(refMoment.hour() > 1) {\r\n                startMoment = startMoment.add(1, 'day');\r\n            }\r\n        } \r\n\r\n        if(lowerText.match(/hier/)) {\r\n            startMoment = startMoment.add(-1, 'day');\r\n        }\r\n\r\n        if(lowerText.match(/cette\\s*nuit/)){\r\n            // Normally means this coming midnight\r\n            result.start.imply('hour', 22);\r\n            result.start.imply('meridiem', 1);\r\n\r\n        } else if(lowerText.match(/la\\s*veille/)) {\r\n\r\n            result.start.imply('hour', 0);\r\n            if (refMoment.hour() > 6) {\r\n                startMoment = startMoment.add(-1, 'day');\r\n            }\r\n\r\n        } else if (lowerText.match(/(après-midi|aprem)/)) {\r\n\r\n            result.start.imply('hour', 14);\r\n\r\n        } else if (lowerText.match(/(soir)/)) {\r\n\r\n            result.start.imply('hour', 18);\r\n\r\n        } else if (lowerText.match(/matin/)) {\r\n\r\n            result.start.imply('hour', 8);\r\n\r\n        }  else if (lowerText.match(\"maintenant\")) {\r\n\r\n          result.start.imply('hour', refMoment.hour());\r\n          result.start.imply('minute', refMoment.minute());\r\n          result.start.imply('second', refMoment.second());\r\n          result.start.imply('millisecond', refMoment.millisecond());\r\n\r\n        }\r\n\r\n        result.start.assign('day', startMoment.date())\r\n        result.start.assign('month', startMoment.month() + 1)\r\n        result.start.assign('year', startMoment.year())\r\n        result.tags['FRCasualDateParser'] = true;\r\n        return result;\r\n    }\r\n}\r\n","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar util  = require('../../utils/FR');\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|une?|(?:\\\\s*quelques)?|demi(?:\\\\s*|-?)?)\\\\s*' +\r\n    '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|années?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|un?)\\\\s*' +\r\n    '(secondes?|minutes?|heures?|jours?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nexports.Parser = function FRDeadlineFormatParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() {\r\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\r\n    };\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var index = match.index + match[1].length;\r\n        var text  = match[0];\r\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref\r\n        });\r\n\r\n        var num = match[3];\r\n        if (util.INTEGER_WORDS[num] !== undefined) {\r\n            num = util.INTEGER_WORDS[num];\r\n        } else if (num === 'un' || num === 'une'){\r\n            num = 1;\r\n        } else if (num.match(/quelques?/i)){\r\n            num = 3;\r\n        } else if (num.match(/demi-?/i)) {\r\n            num = 0.5;\r\n        } else {\r\n            num = parseInt(num);\r\n        }\r\n\r\n        var date = dayjs(ref);\r\n        if (match[4].match(/jour|semaine|mois|année/i)) {\r\n\r\n            if (match[4].match(/jour/)) {\r\n                date = date.add(num, 'd');\r\n            } else if (match[4].match(/semaine/i)) {\r\n                date = date.add(num * 7, 'd');\r\n            } else if (match[4].match(/mois/i)) {\r\n                date = date.add(num, 'month');\r\n            } else if (match[4].match(/année/i)) {\r\n                date = date.add(num, 'year');\r\n            }\r\n\r\n            result.start.assign('year', date.year());\r\n            result.start.assign('month', date.month() + 1);\r\n            result.start.assign('day', date.date());\r\n            return result;\r\n        }\r\n\r\n        if (match[4].match(/heure/i)) {\r\n\r\n            date = date.add(num, 'hour');\r\n\r\n        } else if (match[4].match(/min/i)) {\r\n\r\n            date = date.add(num, 'minutes');\r\n\r\n        } else if (match[4].match(/secondes/i)) {\r\n\r\n            date = date.add(num, 'second');\r\n        }\r\n\r\n        result.start.imply('year', date.year());\r\n        result.start.imply('month', date.month() + 1);\r\n        result.start.imply('day', date.date());\r\n        result.start.assign('hour', date.hour());\r\n        result.start.assign('minute', date.minute());\r\n        result.start.assign('second', date.second());\r\n        result.tags['FRDeadlineFormatParser'] = true;\r\n        return result;\r\n    };\r\n};\r\n","const parser = require('../parser');\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar util  = require('../../utils/FR');\r\n\r\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n        '(?:(Dimanche|Lundi|Mardi|mercredi|Jeudi|Vendredi|Samedi|Dim|Lun|Mar|Mer|Jeu|Ven|Sam)\\\\s*,?\\\\s*)?' +\r\n        '([0-9]{1,2}|1er)' +\r\n        '(?:\\\\s*(?:au|\\\\-|\\\\–|jusqu\\'au?|\\\\s)\\\\s*([0-9]{1,2})(?:er)?)?\\\\s*(?:de)?\\\\s*' +\r\n        '(Jan(?:vier|\\\\.)?|F[ée]v(?:rier|\\\\.)?|Mars|Avr(?:il|\\\\.)?|Mai|Juin|Juil(?:let|\\\\.)?|Ao[uû]t|Sept(?:embre|\\\\.)?|Oct(?:obre|\\\\.)?|Nov(?:embre|\\\\.)?|d[ée]c(?:embre|\\\\.)?)' +\r\n        '(?:\\\\s*(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(?:\\\\s*(AC|[ap]\\\\.?\\\\s*c(?:h(?:r)?)?\\\\.?\\\\s*n\\\\.?))?)?' +\r\n        '(?=\\\\W|$)', 'i'\r\n    );\r\n\r\nvar WEEKDAY_GROUP = 2;\r\nvar DATE_GROUP = 3;\r\nvar DATE_TO_GROUP = 4;\r\nvar MONTH_NAME_GROUP = 5;\r\nvar YEAR_GROUP = 6;\r\nvar YEAR_BE_GROUP = 7;\r\n\r\nexports.Parser = function FRMonthNameLittleEndianParser(){\r\n    parser.Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var result = new ParsedResult({\r\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\r\n            index: match.index + match[1].length,\r\n            ref: ref,\r\n        });\r\n\r\n        var month = match[MONTH_NAME_GROUP];\r\n        month = util.MONTH_OFFSET[month.toLowerCase()];\r\n\r\n        var day = match[DATE_GROUP];\r\n        day = parseInt(day);\r\n\r\n        var year = null;\r\n        if (match[YEAR_GROUP]) {\r\n            year = match[YEAR_GROUP];\r\n            year = parseInt(year);\r\n\r\n            if(match[YEAR_BE_GROUP]){\r\n                if (/a/i.test(match[YEAR_BE_GROUP])) {\r\n                    // Ante Christe natum\r\n                    year = -year;\r\n                }\r\n            } else if (year < 100){\r\n\r\n                year = year + 2000;\r\n            }\r\n        }\r\n\r\n        if(year){\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.assign('year', year);\r\n        } else {\r\n            year = parser.findYearClosestToRef(ref, day, month)\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.imply('year', year);\r\n        }\r\n\r\n        // Weekday component\r\n        if (match[WEEKDAY_GROUP]) {\r\n            var weekday = match[WEEKDAY_GROUP];\r\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\r\n            result.start.assign('weekday', weekday);\r\n        }\r\n\r\n        // Text can be 'range' value. Such as '12 - 13 janvier 2012'\r\n        if (match[DATE_TO_GROUP]) {\r\n            result.end = result.start.clone();\r\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\r\n        }\r\n\r\n        result.tags['FRMonthNameLittleEndianParser'] = true;\r\n        return result;\r\n    };\r\n}\r\n","/*\r\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\r\n    - Martes 3/11/2015\r\n    - 3/11/2015\r\n    - 3/11\r\n*/\r\nvar parser = require('../parser');\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(?:' +\r\n        '((?:dimanche|dim|lundi|lun|mardi|mar|mercredi|mer|jeudi|jeu|vendredi|ven|samedi|sam|le))' +\r\n        '\\\\s*\\\\,?\\\\s*' +\r\n    ')?' +\r\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\r\n    '(?:' +\r\n        '[\\\\/\\\\.\\\\-]' +\r\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\r\n    ')?' +\r\n    '(\\\\W|$)', 'i');\r\n\r\nvar DAYS_OFFSET = { 'dimanche': 0, 'dim': 0, 'lundi': 1, 'lun': 1,'mardi': 2, 'mar':2, 'mercredi': 3, 'mer': 3,\r\n    'jeudi': 4, 'jeu':4, 'vendredi': 5, 'ven': 5,'samedi': 6, 'sam': 6};\r\n\r\n\r\nvar OPENNING_GROUP = 1;\r\nvar ENDING_GROUP = 6;\r\n\r\n// In French we use day/month/year\r\nvar WEEKDAY_GROUP = 2;\r\nvar DAY_GROUP = 3;\r\nvar MONTH_GROUP = 4;\r\nvar YEAR_GROUP = 5;\r\n\r\nexports.Parser = function FRSlashDateFormatParser(argument) {\r\n    parser.Parser.apply(this, arguments);\r\n\r\n    this.pattern = function () { return PATTERN; };\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\r\n            // Long skip, if there is some overlapping like:\r\n            // XX[/YY/ZZ]\r\n            // [XX/YY/]ZZ\r\n            match.index += match[0].length\r\n            return;\r\n        }\r\n\r\n        var index = match.index + match[OPENNING_GROUP].length;\r\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\r\n\r\n\r\n        var result = new ParsedResult({\r\n            text: text,\r\n            index: index,\r\n            ref: ref,\r\n        });\r\n\r\n        if(text.match(/^\\d\\.\\d$/)) return;\r\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\r\n\r\n        // MM/dd -> OK\r\n        // MM.dd -> NG\r\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\r\n\r\n        var date = null;\r\n        var month = match[MONTH_GROUP];\r\n        var day   = match[DAY_GROUP];\r\n\r\n        day  = parseInt(day);\r\n        month = parseInt(month);\r\n\r\n        var year = null;\r\n        if (match[YEAR_GROUP]) {\r\n            year = match[YEAR_GROUP];\r\n            year = parseInt(year);\r\n\r\n            if (year < 100){\r\n                year = year + 2000;\r\n            }\r\n        }\r\n\r\n        if(month < 1 || month > 12) {\r\n            if(month > 12) {\r\n                // dd/mm/yyyy date format if day looks like a month, and month looks like a day.\r\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\r\n                    // unambiguous\r\n                    var tday = month;\r\n                    month = day;\r\n                    day = tday;\r\n                }\r\n                else {\r\n                    // both month and day are <= 12\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(day < 1 || day > 31) return null;\r\n\r\n        if(year){\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.assign('year', year);\r\n        } else {\r\n            year = parser.findYearClosestToRef(ref, day, month)\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.imply('year', year);\r\n        }\r\n\r\n        // Day of week\r\n        if(match[WEEKDAY_GROUP]) {\r\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\r\n        }\r\n\r\n        result.tags['FRSlashDateFormatParser'] = true;\r\n        return result;\r\n    };\r\n};","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = /(\\W|^)il y a\\s*([0-9]+|une?)\\s*(minutes?|heures?|semaines?|jours?|mois|années?|ans?)(?=(?:\\W|$))/i;\r\n\r\nexports.Parser = function FRTimeAgoFormatParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() {\r\n        return PATTERN;\r\n    }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\r\n\r\n        var text = match[0];\r\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n        index = match.index + match[1].length;\r\n\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref,\r\n        });\r\n        result.tags['FRTimeAgoFormatParser'] = true;\r\n        \r\n        var num = parseInt(match[2]);\r\n        if (isNaN(num)) {\r\n          if (match[2].match(/demi/)) {\r\n            num = 0.5;\r\n          } else {\r\n            num = 1;\r\n          }\r\n        }\r\n\r\n        var date = dayjs(ref);\r\n\r\n        if (match[3].match(/heure/) || match[3].match(/minute/)) {\r\n            if (match[3].match(/heure/)) {\r\n\r\n                date = date.add(-num, 'hour');\r\n\r\n            } else if (match[3].match(/minute/)) {\r\n\r\n                date = date.add(-num, 'minute');\r\n            }\r\n\r\n            result.start.imply('day', date.date());\r\n            result.start.imply('month', date.month() + 1);\r\n            result.start.imply('year', date.year());\r\n            result.start.assign('hour', date.hour());\r\n            result.start.assign('minute', date.minute());\r\n\r\n            return result;\r\n        }\r\n\r\n        if (match[3].match(/semaine/)) {\r\n            date = date.add(-num, 'week');\r\n\r\n            result.start.imply('day', date.date());\r\n            result.start.imply('month', date.month() + 1);\r\n            result.start.imply('year', date.year());\r\n            result.start.imply('weekday', date.day());\r\n            return result;\r\n        }\r\n\r\n        if (match[3].match(/jour/)) {\r\n            date = date.add(-num, 'd');\r\n        }\r\n\r\n        if (match[3].match(/mois/)) {\r\n            date = date.add(-num, 'month');\r\n        }\r\n\r\n        if (match[3].match(/années?|ans?/)) {\r\n            date = date.add(-num, 'year');\r\n        }\r\n\r\n        result.start.assign('day', date.date());\r\n        result.start.assign('month', date.month() + 1);\r\n        result.start.assign('year', date.year());\r\n        return result;\r\n\r\n    };\r\n}\r\n","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar ParsedComponents = require('../../result').ParsedComponents;\r\n\r\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\r\n    \"(?:(?:[àa])\\\\s*)?\" +\r\n    \"(\\\\d{1,2}(?:h)?|midi|minuit)\" +\r\n    \"(?:\" +\r\n        \"(?:\\\\.|\\\\:|\\\\：|h)(\\\\d{1,2})(?:m)?\" +\r\n        \"(?:\" +\r\n            \"(?:\\\\:|\\\\：|m)(\\\\d{0,2})(?:s)?\" +\r\n        \")?\" +\r\n    \")?\" +\r\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\r\n    \"(?=\\\\W|$)\", 'i');\r\n\r\n\r\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\r\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|[àa]|\\\\?)\\\\s*\" +\r\n    \"(\\\\d{1,2}(?:h)?)\" +\r\n    \"(?:\" +\r\n        \"(?:\\\\.|\\\\:|\\\\：|h)(\\\\d{1,2})(?:m)?\" +\r\n        \"(?:\" +\r\n            \"(?:\\\\.|\\\\:|\\\\：|m)(\\\\d{1,2})(?:s)?\" +\r\n        \")?\" +\r\n    \")?\" +\r\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\r\n    \"(?=\\\\W|$)\", 'i');\r\n\r\nvar HOUR_GROUP    = 2;\r\nvar MINUTE_GROUP  = 3;\r\nvar SECOND_GROUP  = 4;\r\nvar AM_PM_HOUR_GROUP = 5;\r\n\r\nexports.Parser = function FRTimeExpressionParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return FIRST_REG_PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\r\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\r\n        var refMoment = dayjs(ref);\r\n        var result = new ParsedResult();\r\n        result.ref = ref;\r\n        result.index = match.index + match[1].length;\r\n        result.text  = match[0].substring(match[1].length);\r\n        result.tags['FRTimeExpressionParser'] = true;\r\n\r\n        result.start.imply('day',   refMoment.date());\r\n        result.start.imply('month', refMoment.month()+1);\r\n        result.start.imply('year',  refMoment.year());\r\n\r\n        var hour = 0;\r\n        var minute = 0;\r\n        var meridiem = -1;\r\n\r\n        // ----- Second\r\n        if(match[SECOND_GROUP] != null){\r\n            var second = parseInt(match[SECOND_GROUP]);\r\n            if(second >= 60) return null;\r\n\r\n            result.start.assign('second', second);\r\n        }\r\n\r\n        // ----- Hours\r\n        if (match[HOUR_GROUP].toLowerCase() == \"midi\"){\r\n            meridiem = 1;\r\n            hour = 12;\r\n        } else if (match[HOUR_GROUP].toLowerCase() == \"minuit\") {\r\n            meridiem = 0;\r\n            hour = 0;\r\n        } else {\r\n            hour = parseInt(match[HOUR_GROUP]);\r\n        }\r\n\r\n        // ----- Minutes\r\n        if(match[MINUTE_GROUP] != null){\r\n            minute = parseInt(match[MINUTE_GROUP]);\r\n        } else if(hour > 100) {\r\n            minute = hour%100;\r\n            hour   = parseInt(hour/100);\r\n        }\r\n\r\n        if(minute >= 60) {\r\n            return null;\r\n        }\r\n\r\n        if(hour > 24) {\r\n            return null;\r\n        }\r\n        if (hour >= 12) {\r\n            meridiem = 1;\r\n        }\r\n\r\n        // ----- AM & PM\r\n        if(match[AM_PM_HOUR_GROUP] != null) {\r\n            if(hour > 12) return null;\r\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\r\n            if(ampm == \"a\"){\r\n                meridiem = 0;\r\n                if(hour == 12) hour = 0;\r\n            }\r\n\r\n            if(ampm == \"p\"){\r\n                meridiem = 1;\r\n                if(hour != 12) hour += 12;\r\n            }\r\n        }\r\n        result.start.assign('hour', hour);\r\n        result.start.assign('minute', minute);\r\n        if (meridiem >= 0) {\r\n            result.start.assign('meridiem', meridiem);\r\n        }\r\n\r\n        // ==============================================================\r\n        //                  Extracting the 'to' chunk\r\n        // ==============================================================\r\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\r\n        if (!match) {\r\n            // Not accept number only result\r\n            if (result.text.match(/^\\d+$/)) {\r\n                return null;\r\n            }\r\n            return result;\r\n        }\r\n\r\n\r\n\r\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\r\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\r\n            return result;\r\n        }\r\n\r\n        if(result.end == null){\r\n            result.end = new ParsedComponents(null, result.start.date());\r\n        }\r\n\r\n        var hour = 0;\r\n        var minute = 0;\r\n        var meridiem = -1;\r\n\r\n        // ----- Second\r\n        if(match[SECOND_GROUP] != null){\r\n            var second = parseInt(match[SECOND_GROUP]);\r\n            if(second >= 60) return null;\r\n\r\n            result.end.assign('second', second);\r\n        }\r\n\r\n        hour = parseInt(match[2]);\r\n\r\n        // ----- Minute\r\n        if (match[MINUTE_GROUP]!= null) {\r\n\r\n            minute = parseInt(match[MINUTE_GROUP]);\r\n            if(minute >= 60) return result;\r\n\r\n        } else if (hour > 100) {\r\n\r\n            minute = hour%100;\r\n            hour   = parseInt(hour/100);\r\n        }\r\n\r\n        if(minute >= 60) {\r\n            return null;\r\n        }\r\n\r\n        if(hour > 24) {\r\n            return null;\r\n        }\r\n        if (hour >= 12) {\r\n            meridiem = 1;\r\n        }\r\n\r\n        // ----- AM & PM\r\n        if (match[AM_PM_HOUR_GROUP] != null){\r\n\r\n            if (hour > 12) return null;\r\n\r\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"a\"){\r\n                meridiem = 0;\r\n                if(hour == 12) {\r\n                    hour = 0;\r\n                    if (!result.end.isCertain('day')) {\r\n                        result.end.imply('day', result.end.get('day') + 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"p\"){\r\n                meridiem = 1;\r\n                if(hour != 12) hour += 12;\r\n            }\r\n\r\n            if (!result.start.isCertain('meridiem')) {\r\n                if (meridiem == 0) {\r\n\r\n                    result.start.imply('meridiem', 0);\r\n\r\n                    if (result.start.get('hour') == 12) {\r\n                        result.start.assign('hour', 0);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    result.start.imply('meridiem', 1);\r\n\r\n                    if (result.start.get('hour') != 12) {\r\n                        result.start.assign('hour', result.start.get('hour') + 12);\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else if(hour >= 12) {\r\n            meridiem = 1;\r\n        }\r\n\r\n        result.text = result.text + match[0];\r\n        result.end.assign('hour', hour);\r\n        result.end.assign('minute', minute);\r\n        if (meridiem >= 0) {\r\n            result.end.assign('meridiem', meridiem);\r\n        }\r\n\r\n        if (result.end.date().getTime() < result.start.date().getTime()) {\r\n            result.end.imply('day', result.end.get('day') + 1)\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","var Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\r\n\r\nvar DAYS_OFFSET = { 'dimanche': 0, 'dim': 0, 'lundi': 1, 'lun': 1,'mardi': 2, 'mar':2, 'mercredi': 3, 'mer': 3,\r\n    'jeudi': 4, 'jeu':4, 'vendredi': 5, 'ven': 5,'samedi': 6, 'sam': 6};\r\n\r\nvar PATTERN = new RegExp('(\\\\s|^)' +\r\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\r\n    '(?:(ce)\\\\s*)?' +\r\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\r\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\r\n    '(?:\\\\s*(dernier|prochain)\\\\s*)?' +\r\n    '(?=\\\\W|$)', 'i');\r\n\r\nvar PREFIX_GROUP = 2;\r\nvar WEEKDAY_GROUP = 3;\r\nvar POSTFIX_GROUP = 4;\r\n\r\nexports.Parser = function FRWeekdayParser() {\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; };\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n        var index = match.index + match[1].length;\r\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref\r\n        });\r\n\r\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\r\n        var offset = DAYS_OFFSET[dayOfWeek];\r\n        if(offset === undefined) return null;\r\n\r\n        var modifier = null;\r\n        var prefix = match[PREFIX_GROUP];\r\n        var postfix = match[POSTFIX_GROUP];\r\n        if (prefix || postfix) {\r\n            var norm = prefix || postfix;\r\n            norm = norm.toLowerCase();\r\n\r\n            if(norm == 'dernier') {\r\n                modifier = 'last';\r\n            } else if(norm == 'prochain') {\r\n                modifier = 'next';\r\n            } else if(norm== 'ce') {\r\n                modifier = 'this';\r\n            }\r\n        }\r\n\r\n        updateParsedComponent(result, ref, offset, modifier);\r\n        result.tags['FRWeekdayParser'] = true;\r\n        return result;\r\n    }\r\n};\r\n\r\n","const quarterOfYear = require('dayjs/plugin/quarterOfYear');\nconst dayjs = require('dayjs');\ndayjs.extend(quarterOfYear);\n\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/FR');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:les?|la|l\\'|du|des?)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|\\\\d+)?\\\\s*' +\n    '(prochaine?s?|derni[eè]re?s?|pass[ée]e?s?|pr[ée]c[ée]dents?|suivante?s?)?\\\\s*' +\n    '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|trimestres?|années?)\\\\s*' +\n    '(prochaine?s?|derni[eè]re?s?|pass[ée]e?s?|pr[ée]c[ée]dents?|suivante?s?)?' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar MULTIPLIER_GROUP = 2;\nvar MODIFIER_1_GROUP = 3;\nvar RELATIVE_WORD_GROUP = 4;\nvar MODIFIER_2_GROUP = 5;\n\nexports.Parser = function FRRelativeDateFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        // Multiplier\n        var multiplier = match[MULTIPLIER_GROUP] === undefined ? '1' : match[MULTIPLIER_GROUP];\n        if (util.INTEGER_WORDS[multiplier] !== undefined) {\n            multiplier = util.INTEGER_WORDS[multiplier];\n        } else {\n            multiplier = parseInt(multiplier);\n        }\n\n        // Modifier\n        var modifier = match[MODIFIER_1_GROUP] === undefined ?\n                    (match[MODIFIER_2_GROUP] === undefined ? '' : match[MODIFIER_2_GROUP].toLowerCase())\n                     : match[MODIFIER_1_GROUP].toLowerCase();\n        if(!modifier) {\n            // At least one modifier is mandatory to match this parser\n            return;\n        }\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n        result.tags['FRRelativeDateFormatParser'] = true;\n\n        var modifierFactor;\n        switch(true) {\n            case /prochaine?s?/.test(modifier):\n            case /suivants?/.test(modifier):\n                modifierFactor = 1;\n                break;\n            case /derni[eè]re?s?/.test(modifier):\n            case /pass[ée]e?s?/.test(modifier):\n            case /pr[ée]c[ée]dents?/.test(modifier):\n                modifierFactor = -1;\n                break;\n        }\n\n        var total = multiplier * modifierFactor;\n\n        var dateFrom = dayjs(ref);\n        var dateTo = dayjs(ref);\n\n        var relative = match[RELATIVE_WORD_GROUP];\n        var startOf;\n        switch(true) {\n            case /secondes?/.test(relative):\n                dateFrom = dateFrom.add(total, 's');\n                dateTo = dateTo.add(modifierFactor, 's');\n                startOf = 'second';\n                break;\n            case /min(?:ute)?s?/.test(relative):\n                dateFrom = dateFrom.add(total, 'm');\n                dateTo = dateTo.add(modifierFactor, 'm');\n                startOf = 'minute';\n                break;\n            case /heures?/.test(relative):\n                dateFrom = dateFrom.add(total, 'h');\n                dateTo = dateTo.add(modifierFactor, 'h');\n                startOf = 'hour';\n                break;\n            case /jours?/.test(relative):\n                dateFrom = dateFrom.add(total, 'd');\n                dateTo = dateTo.add(modifierFactor, 'd');\n                startOf = 'day';\n                break;\n            case /semaines?/.test(relative):\n                dateFrom = dateFrom.add(total, 'w');\n                dateTo = dateTo.add(modifierFactor, 'w');\n                startOf = 'week';\n                break;\n            case /mois?/.test(relative):\n                dateFrom = dateFrom.add(total, 'M');\n                dateTo = dateTo.add(modifierFactor, 'M');\n                startOf = 'month';\n                break;\n            case /trimestres?/.test(relative):\n                dateFrom = dateFrom.add(total, 'Q');\n                dateTo = dateTo.add(modifierFactor, 'Q');\n                startOf = 'quarter';\n                break;\n            case /années?/.test(relative):\n                dateFrom = dateFrom.add(total, 'y');\n                dateTo = dateTo.add(modifierFactor, 'y');\n                startOf = 'year';\n                break;\n        }\n\n        // if we go forward, switch the start and end dates\n        if(modifierFactor > 0) {\n            var dateTmp = dateFrom;\n            dateFrom = dateTo;\n            dateTo = dateTmp;\n        }\n\n        // Get start and end of dates\n        dateFrom = dateFrom.startOf(startOf);\n        dateTo = dateTo.endOf(startOf);\n        if (startOf == 'week') { // Weekday in FR start on Sat?\n            dateFrom = dateFrom.add(1, 'd')\n            dateTo = dateTo.add(1, 'd')\n        }\n        \n\n        // Assign results\n        result.start.assign('year', dateFrom.year());\n        result.start.assign('month', dateFrom.month() + 1);\n        result.start.assign('day', dateFrom.date());\n        result.start.assign('minute', dateFrom.minute());\n        result.start.assign('second', dateFrom.second());\n        result.start.assign('hour', dateFrom.hour());\n        result.start.assign('millisecond', dateFrom.millisecond());\n\n        result.end = result.start.clone();\n        result.end.assign('year', dateTo.year());\n        result.end.assign('month', dateTo.month() + 1);\n        result.end.assign('day', dateTo.date());\n        result.end.assign('minute', dateTo.minute());\n        result.end.assign('second', dateTo.second());\n        result.end.assign('hour', dateTo.hour());\n        result.end.assign('millisecond', dateTo.millisecond());\n        return result;\n    };\n};\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs_plugin_quarterOfYear=n()}(this,function(){\"use strict\";var t=\"month\",n=\"quarter\";return function(r,i){var e=i.prototype;e.quarter=function(t){return this.$utils().u(t)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(t-1))};var u=e.add;e.add=function(r,i){return r=Number(r),this.$utils().p(i)===n?this.add(3*r,t):u.bind(this)(r,i)};var s=e.startOf;e.startOf=function(r,i){var e=this.$utils(),u=!!e.u(i)||i;if(e.p(r)===n){var a=this.quarter()-1;return u?this.month(3*a).startOf(t).startOf(\"day\"):this.month(3*a+2).endOf(t).endOf(\"day\")}return s.bind(this)(r,i)}}});\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar PATTERN = new RegExp(\n    '(\\\\d{2,4}|[' + Object.keys(util.NUMBER).join('') + ']{2,4})?' +\n    '(?:\\\\s*)' +\n    '(?:年)?' +\n    '(?:[\\\\s|,|，]*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})' +\n    '(?:\\\\s*)' +\n    '(?:月)' +\n    '(?:\\\\s*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})?' +\n    '(?:\\\\s*)' +\n    '(?:日|號)?'\n);\n\nvar YEAR_GROUP = 1;\nvar MONTH_GROUP = 2;\nvar DAY_GROUP = 3;\n\nexports.Parser = function ZHHantDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var startMoment = dayjs(ref);\n        var result = new ParsedResult({\n            text: match[0],\n            index: match.index,\n            ref: ref,\n        });\n\n        //Month\n        var month = parseInt(match[MONTH_GROUP]);\n        if (isNaN(month)) month = util.zhStringToNumber(match[MONTH_GROUP]);\n        result.start.assign('month', month);\n\n        //Day\n        if (match[DAY_GROUP]) {\n            var day = parseInt(match[DAY_GROUP]);\n            if (isNaN(day)) day = util.zhStringToNumber(match[DAY_GROUP]);\n            result.start.assign('day', day);\n        } else {\n            result.start.imply('day', startMoment.date());\n        }\n\n        //Year\n        if (match[YEAR_GROUP]) {\n            var year = parseInt(match[YEAR_GROUP]);\n            if (isNaN(year)) year = util.zhStringToYear(match[YEAR_GROUP]);\n            result.start.assign('year', year);\n        } else {\n            result.start.imply('year', startMoment.year());\n        }\n\n        result.tags.ZHHantDateParser = true;\n        return result;\n    };\n};\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar PATTERN = new RegExp(\n    '(上|今|下|這|呢)?' +\n    '(?:個)?' +\n    '(?:星期|禮拜)' +\n    '(' + Object.keys(util.WEEKDAY_OFFSET).join('|') + ')'\n);\n\nvar PREFIX_GROUP = 1;\nvar WEEKDAY_GROUP = 2;\n\nexports.Parser = function ZHHantWeekdayParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var index = match.index;\n        text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP];\n        var offset = util.WEEKDAY_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n\n        if(prefix == '上') {\n            modifier = 'last';\n        } else if(prefix == '下') {\n            modifier = 'next';\n        } else if(prefix == '今' || prefix == '這' || prefix == '呢') {\n            modifier = 'this';\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['ZHHantWeekdayParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar patternString1 = '(?:由|從|自)?' +\n    '(?:' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:點|時|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar patternString2 = '(?:\\\\s*(?:到|至|\\\\-|\\\\–|\\\\~|\\\\〜)\\\\s*)' +\n    '(?:' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:點|時|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar FIRST_REG_PATTERN = new RegExp(patternString1, 'i');\nvar SECOND_REG_PATTERN = new RegExp(patternString2, 'i');\n\nvar DAY_GROUP_1 = 1;\nvar ZH_AM_PM_HOUR_GROUP_1 = 2;\nvar ZH_AM_PM_HOUR_GROUP_2 = 3;\nvar DAY_GROUP_3 = 4;\nvar ZH_AM_PM_HOUR_GROUP_3 = 5;\nvar HOUR_GROUP = 6;\nvar MINUTE_GROUP = 7;\nvar SECOND_GROUP = 8;\nvar AM_PM_HOUR_GROUP = 9;\n\nexports.Parser = function ZHHantTimeExpressionParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return FIRST_REG_PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index - 1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index;\n        result.text = match[0];\n        result.tags.ZHTimeExpressionParser = true;\n\n        var startMoment = refMoment.clone();\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n              if(refMoment.hour() > 1) {\n                  startMoment.add(1, 'day');\n              }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                startMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                startMoment.add(-3, 'day');\n            } else if (day1 == \"後\"){\n                startMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明' || day3 == '聽') {\n                startMoment.add(1, 'day');\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                startMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                startMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                startMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else {\n            result.start.imply('day', startMoment.date());\n            result.start.imply('month', startMoment.month() + 1);\n            result.start.imply('year', startMoment.year());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n            if (second >= 60) return null;\n            result.start.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '朝' || zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '朝' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晏' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '朝' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晏' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n        var endMoment = startMoment.clone();\n        result.end = new ParsedComponents(null, null);\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n              if(refMoment.hour() > 1) {\n                  endMoment.add(1, 'day');\n              }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                endMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                endMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                endMoment.add(-3, 'day');\n            } else if (day1 == \"後\"){\n                endMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明' || day3 == '聽') {\n                endMoment.add(1, 'day');\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                endMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                endMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                endMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                endMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else {\n            result.end.imply('day', endMoment.date());\n            result.end.imply('month', endMoment.month() + 1);\n            result.end.imply('year', endMoment.year());\n        }\n\n        hour = 0;\n        minute = 0;\n        meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n\n            if (second >= 60) return null;\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '朝' || zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '朝' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晏' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '朝' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晏' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(而家|立(?:刻|即)|即刻)|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s|,|，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?', 'i');\n\nvar NOW_GROUP = 1;\nvar DAY_GROUP_1 = 2;\nvar TIME_GROUP_1 = 3;\nvar TIME_GROUP_2 = 4;\nvar DAY_GROUP_3 = 5;\nvar TIME_GROUP_3 = 6;\n\nexports.Parser = function ZHHantCasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        text = match[0];\n        var index = match.index;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n\n        if (match[NOW_GROUP]) {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        } else if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            var time1 = match[TIME_GROUP_1];\n\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n                if(refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if ( day1 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n\n            if (time1 == '早' || time1 == '朝') {\n                result.start.imply('hour', 6);\n            } else if (time1 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            }\n\n        } else if (match[TIME_GROUP_2]) {\n            var timeString2 = match[TIME_GROUP_2];\n            var time2 = timeString2[0];\n            if (time2 == '早' || time2 == '朝' || time2 == '上') {\n                result.start.imply('hour', 6);\n            } else if (time2 == '下' || time2 == '晏') {\n                result.start.imply('hour', 15);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '中') {\n                result.start.imply('hour', 12);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '夜' || time2 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '凌') {\n                result.start.imply('hour', 0);\n            }\n\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n\n            if (day3 == '明' || day3 == '聽') {\n                // Check not \"Tomorrow\" on late night\n                if(refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n\n\n            var timeString3 = match[TIME_GROUP_3];\n            if (timeString3) {\n                var time3 = timeString3[0];\n                if (time3 == '早' || time3 == '朝' || time3 == '上') {\n                    result.start.imply('hour', 6);\n                } else if (time3 == '下' || time3 == '晏') {\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '中') {\n                    result.start.imply('hour', 12);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '夜' || time3 == '晚') {\n                    result.start.imply('hour', 22);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '凌') {\n                    result.start.imply('hour', 0);\n                }\n            }\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags.ZHHantCasualDateParser = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH-Hant.js');\n\nvar PATTERN = new RegExp(\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+|半|幾)(?:\\\\s*)' +\n    '(?:個)?' +\n    '(秒(?:鐘)?|分鐘|小時|鐘|日|天|星期|禮拜|月|年)' +\n    '(?:(?:之|過)?後|(?:之)?內)', 'i'\n);\n\nvar NUMBER_GROUP = 1;\nvar UNIT_GROUP = 2;\n\nexports.Parser = function ZHHantCasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n      var index = match.index;\n      text  = match[0];\n\n      var result = new ParsedResult({\n          index: index,\n          text: text,\n          ref: ref\n      });\n\n      var number = parseInt(match[NUMBER_GROUP]);\n      if (isNaN(number)){\n        number = util.zhStringToNumber(match[NUMBER_GROUP]);\n      }\n\n      if (isNaN(number)){\n        var string = match[NUMBER_GROUP];\n        if (string === '幾'){\n          number = 3;\n        }else if(string === '半'){\n          number = 0.5;\n        }else{\n\n          //just in case\n          return null;\n        }\n      }\n\n      var date = dayjs(ref);\n      var unit = match[UNIT_GROUP];\n      var unitAbbr = unit[0];\n\n      if (unitAbbr.match(/[日天星禮月年]/)){\n          if(unitAbbr == '日' || unitAbbr == '天'){\n            date = date.add(number, 'd');\n          }else if(unitAbbr == '星' || unitAbbr == '禮'){\n            date = date.add(number * 7, 'd');\n          }else if(unitAbbr == '月'){\n            date = date.add(number, 'month');\n          }else if(unitAbbr == '年'){\n            date = date.add(number, 'year');\n          }\n\n        result.start.assign('year', date.year());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('day', date.date());\n        return result;\n      }\n\n      if(unitAbbr == '秒'){\n        date = date.add(number, 'second');\n      }else if(unitAbbr == '分'){\n        date = date.add(number, 'minute');\n      }else if(unitAbbr == '小' || unitAbbr == '鐘'){\n        date = date.add(number, 'hour');\n      }\n\n      result.start.imply('year', date.year());\n      result.start.imply('month', date.month() + 1);\n      result.start.imply('day', date.date());\n      result.start.assign('hour', date.hour());\n      result.start.assign('minute', date.minute());\n      result.start.assign('second', date.second());\n      result.tags.ZHHantDeadlineFormatParser = true;\n      return result;\n    };\n};\n","/*\n\n\n*/\n\nvar dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/DE');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(in|nach)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|einigen|eine[rm]\\\\s*halben|eine[rm])\\\\s*' +\n    '(sekunden?|min(?:ute)?n?|stunden?|tag(?:en)?|wochen?|monat(?:en)?|jahr(?:en)?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\n    '(in|nach)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|eine(?:r|m)?)\\\\s*' +\n    '(sekunden?|minuten?|stunden?|tag(?:en)?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nexports.Parser = function DEDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'einer' || num === 'einem') {\n            num = 1;\n        } else if (num === 'einigen') {\n            num = 3;\n        } else if (/halben/.test(num)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n        if (/tag|woche|monat|jahr/i.test(match[4])) {\n\n            if (/tag/i.test(match[4])) {\n                date = date.add(num, 'd');\n            } else if (/woche/i.test(match[4])) {\n                date = date.add(num * 7, 'd');\n            } else if (/monat/i.test(match[4])) {\n                date = date.add(num, 'month');\n            } else if (/jahr/i.test(match[4])) {\n                date = date.add(num, 'year');\n            }\n\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n        if (/stunde/i.test(match[4])) {\n\n            date = date.add(num, 'hour');\n\n        } else if (/min/i.test(match[4])) {\n\n            date = date.add(num, 'minute');\n\n        } else if (/sekunde/i.test(match[4])) {\n\n            date = date.add(num, 'second');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.start.assign('second', date.second());\n        result.tags['DEDeadlineFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\nconst util  = require('../../utils/DE');\n\nconst PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:am\\\\s*?)?' +\n        '(?:(Sonntag|Montag|Dienstag|Mittwoch|Donnerstag|Freitag|Samstag|So|Mo|Di|Mi|Do|Fr|Sa)\\\\s*,?\\\\s*)?' +\n        '(?:den\\\\s*)?' +\n        '([0-9]{1,2})\\\\.' +\n        '(?:\\\\s*(?:bis(?:\\\\s*(?:am|zum))?|\\\\-|\\\\–|\\\\s)\\\\s*([0-9]{1,2})\\\\.)?\\\\s*' +\n        '(Jan(?:uar|\\\\.)?|Feb(?:ruar|\\\\.)?|Mär(?:z|\\\\.)?|Maerz|Mrz\\\\.?|Apr(?:il|\\\\.)?|Mai|Jun(?:i|\\\\.)?|Jul(?:i|\\\\.)?|Aug(?:ust|\\\\.)?|Sep(?:t|t\\\\.|tember|\\\\.)?|Okt(?:ober|\\\\.)?|Nov(?:ember|\\\\.)?|Dez(?:ember|\\\\.)?)' +\n        '(?:' +\n            ',?\\\\s*([0-9]{1,4}(?![^\\\\s]\\\\d))' +\n            '(\\\\s*[vn]\\\\.?\\\\s*C(?:hr)?\\\\.?)?' +\n        ')?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nconst WEEKDAY_GROUP = 2;\nconst DATE_GROUP = 3;\nconst DATE_TO_GROUP = 4;\nconst MONTH_NAME_GROUP = 5;\nconst YEAR_GROUP = 6;\nconst YEAR_BE_GROUP = 7;\n\nexports.Parser = function DEMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        const result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/v/i.test(match[YEAR_BE_GROUP])) {\n                    // v.Chr.\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['DEMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","/*\n    \n    The parser for parsing month name and year.\n    \n    EX. \n        - Januar\n        - Januar 2012\n*/\n\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\nconst util  = require('../../utils/DE');\n\nconst PATTERN = new RegExp('(^|\\\\D\\\\s+|[^\\\\w\\\\s])' +\n    '(Jan\\\\.?|Januar|Feb\\\\.?|Februar|Mär\\\\.?|M(?:ä|ae)rz|Mrz\\\\.?|Apr\\\\.?|April|Mai\\\\.?|Jun\\\\.?|Juni|Jul\\\\.?|Juli|Aug\\\\.?|August|Sep\\\\.?|Sept\\\\.?|September|Okt\\\\.?|Oktober|Nov\\\\.?|November|Dez\\\\.?|Dezember)' + \n    '\\\\s*' +\n    '(?:' +\n        ',?\\\\s*(?:([0-9]{4})(\\\\s*[vn]\\\\.?\\\\s*C(?:hr)?\\\\.?)?|([0-9]{1,4})\\\\s*([vn]\\\\.?\\\\s*C(?:hr)?\\\\.?))' +\n    ')?' +\n    '(?=[^\\\\s\\\\w]|$)', 'i');\n\nconst MONTH_NAME_GROUP = 2;\nconst YEAR_GROUP = 3;\nconst YEAR_BE_GROUP = 4;\nconst YEAR_GROUP2 = 5;\nconst YEAR_BE_GROUP2 = 6;\n\nexports.Parser = function ENMonthNameParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        \n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = 1;\n\n        var year = null;\n        if (match[YEAR_GROUP] || match[YEAR_GROUP2]) {\n            year = match[YEAR_GROUP] || match[YEAR_GROUP2];\n            year = parseInt(year);\n\n            if (match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2]) {\n                if (/v/i.test(match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2])) {\n                    // v.Chr.\n                    year = -year;\n                }\n\n            } else if (year < 100){ \n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            \n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        result.tags['DEMonthNameParser'] = true;\n        return result;\n    }\n}\n\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Tuesday 11/3/2015\n    - 11/3/2015\n    - 11/3\n*/\nvar dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:am\\\\s*?)?' +\n        '((?:sonntag|so|montag|mo|dienstag|di|mittwoch|mi|donnerstag|do|freitag|fr|samstag|sa))' +\n        '\\\\s*\\\\,?\\\\s*' +\n        '(?:den\\\\s*)?' +\n    ')?' +\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = {\n    'sonntag': 0, 'so': 0,\n    'montag': 1, 'mo': 1,\n    'dienstag': 2, 'di': 2,\n    'mittwoch': 3, 'mi': 3,\n    'donnerstag': 4, 'do': 4,\n    'freitag': 5, 'fr': 5,\n    'samstag': 6, 'sa': 6\n};\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\nvar WEEKDAY_GROUP = 2;\nvar DAY_GROUP = 3;\nvar MONTH_GROUP = 4;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function DESlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if (month < 1 || month > 12) return null;\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if (year > 50) {\n                year = year + 1900;\n            } else {\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['DESlashDateFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/DE');\n\nvar PATTERN = new RegExp('' +\n    '(\\\\W|^)vor\\\\s*' +\n    '(' + util.INTEGER_WORDS_PATTERN + '|[0-9]+|einigen|eine[rm]\\\\s*halben|eine[rm])\\\\s*' +\n    '(sekunden?|min(?:ute)?n?|stunden?|wochen?|tag(?:en)?|monat(?:en)?|jahr(?:en)?)\\\\s*' +\n    '(?=(?:\\\\W|$))', 'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    '(\\\\W|^)vor\\\\s*' +\n    '([0-9]+|eine(?:r|m))\\\\s*' +\n    '(sekunden?|minuten?|stunden?|tag(?:en)?)' +\n    '(?=(?:\\\\W|$))', 'i');\n\nexports.Parser = function DETimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[2].toLowerCase() ;\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'einer' || num === 'einem') {\n            num = 1;\n        } else if (num === 'einigen') {\n            num = 3;\n        } else if (/halben/.test(num)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n\n        if (/stunde|min|sekunde/i.test(match[3])) {\n            if (/stunde/i.test(match[3])) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (/min/i.test(match[3])) {\n\n                date = date.add(-num, 'minute');\n\n            } else if (/sekunde/i.test(match[3])) {\n\n                date = date.add(-num, 'second');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['DETimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (/woche/i.test(match[3])) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (/tag/i.test(match[3])) {\n            date = date.add(-num, 'd');\n        }\n\n        if (/monat/i.test(match[3])) {\n            date = date.add(-num, 'month');\n        }\n\n        if (/jahr/i.test(match[3])) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","/*\n\n\n*/\n\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:um|von)\\\\s*)?\" + \n    \"(\\\\d{1,4}|mittags?|mitternachts?)\" + \n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" + \n        \")?\" + \n    \")?\" +\n    \"(?:\\\\s*uhr)?\" +\n    \"(?:\\\\s*(morgens|vormittags|mittags|nachmittags|abends|nachts))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" + \n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|bis|\\\\?)\\\\s*\" + \n    \"(\\\\d{1,4})\" +\n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \")?\" + \n    \")?\" + \n    \"(?:\\\\s*(morgens|vormittags|mittags|nachmittags|abends|nachts))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\n\nexports.Parser = function DETimeExpressionParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['DETimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n        \n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n        \n        // ----- Hours\n        if (/mittags?/i.test(match[HOUR_GROUP])) {\n            meridiem = 1; \n            hour = 12;\n        } else if (/mitternachts?/i.test(match[HOUR_GROUP])) {\n            meridiem = 0; \n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n        \n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){ \n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) { \n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        } \n        \n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n\n        // ----- AM & PM  \n        if (match[AM_PM_HOUR_GROUP] != null) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm === 'morgens' || ampm === 'vormittags') {\n                meridiem = 0; \n                if(hour == 12) hour = 0;\n            } else {\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n        } \n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n        \n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) { \n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n        \n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n            \n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n            \n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n        \n        // ----- AM & PM \n        if (match[AM_PM_HOUR_GROUP] != null) {\n\n            if (hour > 12) return null;\n\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm === 'morgens' || ampm === 'vormittags') {\n                meridiem = 0; \n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            } else {\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n            \n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n                    \n                    result.start.imply('meridiem', 0);\n                    \n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n                    \n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12); \n                    }\n                }\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n        \n        return result;\n    }\n}\n","/*\n\n\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar DAYS_OFFSET = {\n    'sonntag': 0, 'so': 0,\n    'montag': 1, 'mo': 1,\n    'dienstag': 2, 'di': 2,\n    'mittwoch': 3, 'mi': 3,\n    'donnerstag': 4, 'do': 4,\n    'freitag': 5, 'fr': 5,\n    'samstag': 6, 'sa': 6\n};\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:a[mn]\\\\s*?)?' +\n    '(?:(diese[mn]|letzte[mn]|n(?:ä|ae)chste[mn])\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(diese|letzte|n(?:ä|ae)chste)\\\\s*woche)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function DEWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var startMoment = dayjs(ref);\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n\n        var refOffset = startMoment.day();\n        var norm = prefix || postfix;\n        norm = norm || '';\n        norm = norm.toLowerCase();\n        if (/letzte/.test(norm)) {\n            startMoment = startMoment.day(offset - 7);\n        } else if (/n(?:ä|ae)chste/.test(norm)) {\n            startMoment = startMoment.day(offset + 7);\n        } else if (/diese/.test(norm)) {\n            if ( opt.forwardDate && refOffset > offset ) {\n                startMoment = startMoment.day(offset + 7);\n            } else {\n                startMoment = startMoment.day(offset);\n            }\n        } else {\n            if ( opt.forwardDate && refOffset > offset ) {\n                startMoment = startMoment.day(offset + 7);\n            } else if (!opt.forwardDate && Math.abs(offset - 7 - refOffset) < Math.abs(offset - refOffset)) {\n                startMoment = startMoment.day(offset - 7);\n            } else if (!opt.forwardDate && Math.abs(offset + 7 - refOffset) < Math.abs(offset - refOffset)) {\n                startMoment = startMoment.day(offset + 7);\n            } else {\n                startMoment = startMoment.day(offset);\n            }\n        }\n\n        result.start.assign('weekday', offset);\n        result.start.imply('day', startMoment.date());\n        result.start.imply('month', startMoment.month() + 1);\n        result.start.imply('year', startMoment.year());\n        return result;\n    }\n};\n","var dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(\\\\W|^)(' +\n        'jetzt|' +\n        '(?:heute|diesen)\\\\s*(morgen|vormittag|mittag|nachmittag|abend)|' +\n        '(?:heute|diese)\\\\s*nacht|' +\n        'heute|' +\n        '(?:(?:ü|ue)ber)?morgen(?:\\\\s*(morgen|vormittag|mittag|nachmittag|abend|nacht))?|' +\n        '(?:vor)?gestern(?:\\\\s*(morgen|vormittag|mittag|nachmittag|abend|nacht))?|' +\n        'letzte\\\\s*nacht' +\n    ')(?=\\\\W|$)', 'i');\n\nexports.Parser = function DECasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt) {\n        text = match[0].substr(match[1].length);\n        \n        const index = match.index + match[1].length;\n        const result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        const refMoment = dayjs(ref);\n        const lowerText = text.toLowerCase();\n\n        var startMoment = refMoment;\n\n        if (/(?:heute|diese)\\s*nacht/.test(lowerText)) {\n            // Normally means this coming midnight\n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n        } else if (/^(?:ü|ue)bermorgen/.test(lowerText)) {\n            startMoment = startMoment.add(refMoment.hour() > 1 ? 2 : 1, 'day');\n        } else if (/^morgen/.test(lowerText)) {\n            // Check not \"Tomorrow\" on late night\n            if (refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n        } else if (/^gestern/.test(lowerText)) {\n            startMoment = startMoment.add(-1, 'day');\n        } else if (/^vorgestern/.test(lowerText)) {\n            startMoment = startMoment.add(-2, 'day');\n        } else if (/letzte\\s*nacht/.test(lowerText)) {\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n        } else if (lowerText === 'jetzt') {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        }\n\n        var secondMatch = match[3] || match[4] || match[5];\n        if (secondMatch) {\n            switch (secondMatch.toLowerCase()) {\n                case 'morgen':\n                    result.start.imply('hour', 6);\n                    break;\n                case 'vormittag':\n                    result.start.imply('hour', 9);\n                    break;\n                case 'mittag':\n                    result.start.imply('hour', 12);\n                    break;\n                case 'nachmittag':\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'abend':\n                    result.start.imply('hour', 18);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'nacht':\n                    result.start.imply('hour', 0);\n                    break;\n            }\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['DECasualDateParser'] = true;\n        return result;\n    }\n}\n","/*\n  \n*/\nvar Refiner = require('./refiner').Refiner;\n\nexports.Refiner = function OverlapRemovalRefiner() {\n\tRefiner.call(this);\n\t\n\n\tthis.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n        \n        var filteredResults = [];\n        var prevResult = results[0];\n        \n        for (var i=1; i<results.length; i++){\n            \n            var result = results[i];\n            \n            // If overlap, compare the length and discard the shorter one\n            if (result.index < prevResult.index + prevResult.text.length) {\n\n                if (result.text.length > prevResult.text.length){\n                    prevResult = result;\n                }\n                \n            } else {\n                filteredResults.push(prevResult);\n                prevResult = result;\n            }\n        }\n        \n        // The last one\n        if (prevResult != null) {\n            filteredResults.push(prevResult);\n        }\n\n        return filteredResults;\n    }\n}","/*\n  \n*/\nvar Refiner = require('./refiner').Refiner;\n\n\nvar TIMEZONE_OFFSET_PATTERN = new RegExp(\"^\\\\s*(GMT|UTC)?(\\\\+|\\\\-)(\\\\d{1,2}):?(\\\\d{2})\", 'i');\nvar TIMEZONE_OFFSET_SIGN_GROUP = 2;\nvar TIMEZONE_OFFSET_HOUR_OFFSET_GROUP = 3;\nvar TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP = 4;\n\nexports.Refiner = function ExtractTimezoneOffsetRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        results.forEach(function(result) {\n\n            if (result.start.isCertain('timezoneOffset')) {\n                return;\n            }\n\n            var match = TIMEZONE_OFFSET_PATTERN.exec(text.substring(result.index + result.text.length));\n            if (!match) {\n                return;\n            }\n\n            var hourOffset = parseInt(match[TIMEZONE_OFFSET_HOUR_OFFSET_GROUP]);\n            var minuteOffset = parseInt(match[TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP]);\n            var timezoneOffset = hourOffset * 60 + minuteOffset;\n            if (match[TIMEZONE_OFFSET_SIGN_GROUP] === '-') {\n                timezoneOffset = -timezoneOffset;\n            }\n\n            if (result.end != null) {\n                result.end.assign('timezoneOffset', timezoneOffset);\n            }\n\n            result.start.assign('timezoneOffset', timezoneOffset);\n            result.text += match[0];\n            result.tags['ExtractTimezoneOffsetRefiner'] = true;\n        });\n\n        return results;\n    }\n}\n","/*\n\n*/\nvar Refiner = require('./refiner').Refiner;\n\n// Map ABBR -> Offset in minute\nvar TIMEZONE_NAME_PATTERN = new RegExp(\"^\\\\s*\\\\(?([A-Z]{2,4})\\\\)?(?=\\\\W|$)\", 'i');\nvar DEFAULT_TIMEZONE_ABBR_MAP = {\n    \"ACDT\":630,\"ACST\":570,\"ADT\":-180,\"AEDT\":660,\"AEST\":600,\"AFT\":270,\"AKDT\":-480,\"AKST\":-540,\"ALMT\":360,\"AMST\":-180,\"AMT\":-240,\"ANAST\":720,\"ANAT\":720,\"AQTT\":300,\"ART\":-180,\"AST\":-240,\"AWDT\":540,\"AWST\":480,\"AZOST\":0,\"AZOT\":-60,\"AZST\":300,\"AZT\":240,\"BNT\":480,\"BOT\":-240,\"BRST\":-120,\"BRT\":-180,\"BST\":60,\"BTT\":360,\"CAST\":480,\"CAT\":120,\"CCT\":390,\"CDT\":-300,\"CEST\":120,\"CET\":60,\"CHADT\":825,\"CHAST\":765,\"CKT\":-600,\"CLST\":-180,\"CLT\":-240,\"COT\":-300,\"CST\":-360,\"CVT\":-60,\"CXT\":420,\"ChST\":600,\"DAVT\":420,\"EASST\":-300,\"EAST\":-360,\"EAT\":180,\"ECT\":-300,\"EDT\":-240,\"EEST\":180,\"EET\":120,\"EGST\":0,\"EGT\":-60,\"EST\":-300,\"ET\":-300,\"FJST\":780,\"FJT\":720,\"FKST\":-180,\"FKT\":-240,\"FNT\":-120,\"GALT\":-360,\"GAMT\":-540,\"GET\":240,\"GFT\":-180,\"GILT\":720,\"GMT\":0,\"GST\":240,\"GYT\":-240,\"HAA\":-180,\"HAC\":-300,\"HADT\":-540,\"HAE\":-240,\"HAP\":-420,\"HAR\":-360,\"HAST\":-600,\"HAT\":-90,\"HAY\":-480,\"HKT\":480,\"HLV\":-210,\"HNA\":-240,\"HNC\":-360,\"HNE\":-300,\"HNP\":-480,\"HNR\":-420,\"HNT\":-150,\"HNY\":-540,\"HOVT\":420,\"ICT\":420,\"IDT\":180,\"IOT\":360,\"IRDT\":270,\"IRKST\":540,\"IRKT\":540,\"IRST\":210,\"IST\":330,\"JST\":540,\"KGT\":360,\"KRAST\":480,\"KRAT\":480,\"KST\":540,\"KUYT\":240,\"LHDT\":660,\"LHST\":630,\"LINT\":840,\"MAGST\":720,\"MAGT\":720,\"MART\":-510,\"MAWT\":300,\"MDT\":-360,\"MESZ\":120,\"MEZ\":60,\"MHT\":720,\"MMT\":390,\"MSD\":240,\"MSK\":240,\"MST\":-420,\"MUT\":240,\"MVT\":300,\"MYT\":480,\"NCT\":660,\"NDT\":-90,\"NFT\":690,\"NOVST\":420,\"NOVT\":360,\"NPT\":345,\"NST\":-150,\"NUT\":-660,\"NZDT\":780,\"NZST\":720,\"OMSST\":420,\"OMST\":420,\"PDT\":-420,\"PET\":-300,\"PETST\":720,\"PETT\":720,\"PGT\":600,\"PHOT\":780,\"PHT\":480,\"PKT\":300,\"PMDT\":-120,\"PMST\":-180,\"PONT\":660,\"PST\":-480,\"PT\":-480,\"PWT\":540,\"PYST\":-180,\"PYT\":-240,\"RET\":240,\"SAMT\":240,\"SAST\":120,\"SBT\":660,\"SCT\":240,\"SGT\":480,\"SRT\":-180,\"SST\":-660,\"TAHT\":-600,\"TFT\":300,\"TJT\":300,\"TKT\":780,\"TLT\":540,\"TMT\":300,\"TVT\":720,\"ULAT\":480,\"UTC\":0,\"UYST\":-120,\"UYT\":-180,\"UZT\":300,\"VET\":-210,\"VLAST\":660,\"VLAT\":660,\"VUT\":660,\"WAST\":120,\"WAT\":60,\"WEST\":60,\"WESZ\":60,\"WET\":0,\"WEZ\":0,\"WFT\":720,\"WGST\":-120,\"WGT\":-180,\"WIB\":420,\"WIT\":540,\"WITA\":480,\"WST\":780,\"WT\":0,\"YAKST\":600,\"YAKT\":600,\"YAPT\":600,\"YEKST\":360,\"YEKT\":360\n};\n\nexports.Refiner = function ExtractTimezoneAbbrRefiner(config) {\n\tRefiner.call(this, arguments);\n\n\tthis.refine = function(text, results, opt) {\n\n\t    var timezones = new Object(DEFAULT_TIMEZONE_ABBR_MAP);\n\t    if (opt.timezones) {\n\t        for (var name in opt.timezones) {\n                timezones[name] = opt.timezones[name];\n            }\n        }\n\n\t\tresults.forEach(function(result) {\n\n            if (!result.tags['ENTimeExpressionParser'] &&\n                !result.tags['ZHTimeExpressionParser'] &&\n                !result.tags['FRTimeExpressionParser'] &&\n                !result.tags['DETimeExpressionParser']) {\n                return;\n            }\n\n            var match = TIMEZONE_NAME_PATTERN.exec(text.substring(result.index + result.text.length));\n            if (match) {\n                var timezoneAbbr = match[1].toUpperCase();\n                if (timezones[timezoneAbbr] === undefined) {\n                    return;\n                }\n\n                var timezoneOffset = timezones[timezoneAbbr];\n                if (!result.start.isCertain('timezoneOffset')) {\n                    result.start.assign('timezoneOffset', timezoneOffset);\n                }\n\n                if (result.end != null && !result.end.isCertain('timezoneOffset')) {\n                    result.end.assign('timezoneOffset', timezoneOffset);\n                }\n\n                result.text += match[0];\n                result.tags['ExtractTimezoneAbbrRefiner'] = true;\n            }\n\t\t});\n\n        return results;\n\t}\n};","/*\n    Enforce 'forwardDate' option to on the results. When there are missing component,\n    e.g. \"March 12-13 (without year)\" or \"Thursday\", the refiner will try to adjust the result\n    into the future instead of the past.\n*/\nvar dayjs = require('dayjs');\nvar Refiner = require('./refiner').Refiner;\n\nexports.Refiner = function ForwardDateRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        if (!opt['forwardDate']) {\n            return results;\n        }\n\n        results.forEach(function(result) {\n\n            var refMoment = dayjs(result.ref);\n\n            if (result.start.isOnlyDayMonthComponent() && refMoment.isAfter(result.start.dayjs())\n            ) {\n                // Adjust year into the future\n                for (var i=0; i < 3 && refMoment.isAfter(result.start.dayjs()); i++) {\n                    result.start.imply('year', result.start.get('year') + 1);\n\n                    if (result.end && !result.end.isCertain('year')) {\n                        result.end.imply('year', result.end.get('year') + 1);\n                    }\n                }\n\n                result.tags['ForwardDateRefiner'] = true;\n            }\n\n            if (result.start.isOnlyWeekdayComponent() && refMoment.isAfter(result.start.dayjs())) {\n                // Adjust date to the coming week\n                if (refMoment.day() > result.start.get('weekday')) {\n                    refMoment = refMoment.day(result.start.get('weekday') + 7);\n                } else {\n                    refMoment = refMoment.day(result.start.get('weekday'));\n                }\n\n                result.start.imply('day', refMoment.date());\n                result.start.imply('month', refMoment.month() + 1);\n                result.start.imply('year', refMoment.year());\n                result.tags['ForwardDateRefiner'] = true;\n            }\n        });\n\n        return results;\n    }\n};\n","/*\n  \n*/\nvar Filter = require('./refiner').Filter;\n\nexports.Refiner = function UnlikelyFormatFilter() {\n    Filter.call(this);\n    \n\n    this.isValid = function(text, result, opt) { \n\n        if (result.text.replace(' ','').match(/^\\d*(\\.\\d*)?$/)) {\n            return false;\n        }\n\n        return true; \n    }\n}","/*\n\n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\n\nvar PATTERN = new RegExp(\"^\\\\s*(at|after|before|on|,|-|\\\\(|\\\\))?\\\\s*$\");\n\nfunction isMoreSpecific(prevResult, currResult) {\n    var moreSpecific = false;\n\n    if (prevResult.start.isCertain('year')) {\n        if (!currResult.start.isCertain('year')) {\n            moreSpecific = true;\n        } else {\n            if (prevResult.start.isCertain('month')) {\n                if (!currResult.start.isCertain('month')) {\n                    moreSpecific = true;\n                } else {\n                    if (prevResult.start.isCertain('day') && !currResult.start.isCertain('day')) {\n                        moreSpecific = true;\n                    }\n                }\n            }\n        }\n    }\n\n    return moreSpecific;\n}\n\n\nfunction isAbleToMerge(text, prevResult, currResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, currResult.index);\n\n    // Only accepts merge if one of them comes from casual relative date\n    var includesRelativeResult = (prevResult.tags['ENRelativeDateFormatParser'] || currResult.tags['ENRelativeDateFormatParser']);\n\n    // We assume they refer to the same date if all date fields are implied\n    var referToSameDate = !prevResult.start.isCertain('day') && !prevResult.start.isCertain('month') && !prevResult.start.isCertain('year');\n\n    // If both years are certain, that determines if they refer to the same date\n    // but with one more specific than the other\n    if (prevResult.start.isCertain('year') && currResult.start.isCertain('year'))\n        referToSameDate = (prevResult.start.get('year') === currResult.start.get('year'));\n\n    // We now test with the next level (month) if they refer to the same date\n    if (prevResult.start.isCertain('month') && currResult.start.isCertain('month'))\n        referToSameDate = (prevResult.start.get('month') === currResult.start.get('month')) && referToSameDate;\n\n    return includesRelativeResult && textBetween.match(PATTERN) && referToSameDate;\n}\n\nfunction mergeResult(text, specificResult, nonSpecificResult){\n\n    var specificDate = specificResult.start;\n    var nonSpecificDate = nonSpecificResult.start;\n\n    var startIndex = Math.min(specificResult.index, nonSpecificResult.index);\n    var endIndex = Math.max(\n            specificResult.index + specificResult.text.length,\n            nonSpecificResult.index + nonSpecificResult.text.length);\n\n    specificResult.index = startIndex;\n    specificResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in nonSpecificResult.tags) {\n        specificResult.tags[tag] = true;\n    }\n    specificResult.tags['ENPrioritizeSpecificDateRefiner'] = true;\n    return specificResult;\n}\n\nexports.Refiner = function ENPrioritizeSpecificDateRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n\n            if (isMoreSpecific(prevResult, currResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n\n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n\n            } else if (isMoreSpecific(currResult, prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n\n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = null;\n                i += 1;\n            }\n\n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}\n","/*\n  \n*/\nvar ENMergeDateRangeRefiner = require('../en/ENMergeDateRangeRefiner').Refiner;\n\nexports.Refiner = function JPMergeDateRangeRefiner() {\n    ENMergeDateRangeRefiner.call(this);\n\n    this.pattern = function () { return /^\\s*(から|ー)\\s*$/i };\n}\n\n","/*\r\n  \r\n*/\r\nvar Refiner = require('../refiner').Refiner;\r\n\r\nexports.Refiner = function FRMergeDateRangeRefiner() {\r\n    Refiner.call(this);\r\n\r\n    this.pattern = function () { return /^\\s*(à|a|\\-)\\s*$/i };\r\n\r\n    this.refine = function(text, results, opt) {\r\n\r\n        if (results.length < 2) return results;\r\n        \r\n        var mergedResult = [];\r\n        var currResult = null;\r\n        var prevResult = null;\r\n        \r\n        for (var i=1; i<results.length; i++){\r\n            \r\n            currResult = results[i];\r\n            prevResult = results[i-1];\r\n            \r\n            if (!prevResult.end && !currResult.end \r\n                && this.isAbleToMerge(text, prevResult, currResult)) {\r\n              \r\n                prevResult = this.mergeResult(text, prevResult, currResult);\r\n                currResult = null;\r\n                i += 1;\r\n            }\r\n            \r\n            mergedResult.push(prevResult);\r\n        }\r\n        \r\n        if (currResult != null) {\r\n            mergedResult.push(currResult);\r\n        }\r\n\r\n\r\n        return mergedResult;\r\n    };\r\n\r\n    this.isAbleToMerge = function(text, result1, result2) {\r\n        var begin = result1.index + result1.text.length;\r\n        var end   = result2.index;\r\n        var textBetween = text.substring(begin,end);\r\n\r\n        return textBetween.match(this.pattern());\r\n    };\r\n\r\n    this.isWeekdayResult = function (result) {\r\n        return result.start.isCertain('weekday') && !result.start.isCertain('day');\r\n    };\r\n\r\n    this.mergeResult = function(text, fromResult, toResult) {\r\n\r\n        if (!this.isWeekdayResult(fromResult) && !this.isWeekdayResult(toResult)) {\r\n\r\n            for (var key in toResult.start.knownValues) {\r\n                if (!fromResult.start.isCertain(key)) {\r\n                    fromResult.start.assign(key, toResult.start.get(key));\r\n                }\r\n            }\r\n\r\n            for (var key in fromResult.start.knownValues) {\r\n                if (!toResult.start.isCertain(key)) {\r\n                    toResult.start.assign(key, fromResult.start.get(key));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (fromResult.start.date().getTime() > toResult.start.date()) {\r\n            var tmp = toResult;\r\n            toResult = fromResult;\r\n            fromResult = tmp;\r\n        }\r\n        \r\n        fromResult.end = toResult.start;\r\n\r\n        \r\n\r\n        for (var tag in toResult.tags) {\r\n            fromResult.tags[tag] = true;\r\n        }\r\n\r\n            \r\n        var startIndex = Math.min(fromResult.index, toResult.index);\r\n        var endIndex = Math.max(\r\n            fromResult.index + fromResult.text.length, \r\n            toResult.index + toResult.text.length);\r\n            \r\n        fromResult.index = startIndex;\r\n        fromResult.text  = text.substring(startIndex, endIndex);\r\n        fromResult.tags[this.constructor.name] = true;\r\n        return fromResult;\r\n    }\r\n};\r\n\r\n","/*\r\n    \r\n*/\r\nvar ParsedComponents = require('../../result').ParsedComponents;\r\nvar Refiner = require('../refiner').Refiner;\r\nvar mergeDateTimeComponent = require('../en/ENMergeDateTimeRefiner').mergeDateTimeComponent;\r\n\r\nvar PATTERN = new RegExp(\"^\\\\s*(T|à|a|vers|de|,|-)?\\\\s*$\");\r\n\r\nfunction isDateOnly(result) {\r\n    return !result.start.isCertain('hour') || result.tags['FRCasualDateParser'];\r\n}\r\n    \r\nfunction isTimeOnly(result) {\r\n    return !result.start.isCertain('month') && !result.start.isCertain('weekday');\r\n}\r\n\r\n\r\nfunction isAbleToMerge(text, prevResult, curResult) {\r\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\r\n    return textBetween.match(PATTERN);\r\n}\r\n\r\nfunction mergeResult(text, dateResult, timeResult){\r\n\r\n    var beginDate = dateResult.start;\r\n    var beginTime = timeResult.start;\r\n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\r\n\r\n    if (dateResult.end != null || timeResult.end != null) {\r\n        \r\n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \r\n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\r\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\r\n        \r\n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\r\n            // Ex. 9pm - 1am\r\n            if (endDateTime.isCertain('day')) {\r\n                endDateTime.assign('day', endDateTime.get('day') + 1);\r\n            } else {\r\n                endDateTime.imply('day', endDateTime.get('day') + 1);\r\n            }\r\n        }\r\n\r\n        dateResult.end = endDateTime;\r\n    }\r\n\r\n    dateResult.start = beginDateTime;    \r\n\r\n    var startIndex = Math.min(dateResult.index, timeResult.index);\r\n    var endIndex = Math.max(\r\n            dateResult.index + dateResult.text.length, \r\n            timeResult.index + timeResult.text.length);\r\n    \r\n    dateResult.index = startIndex;\r\n    dateResult.text  = text.substring(startIndex, endIndex);\r\n\r\n    for (var tag in timeResult.tags) {\r\n        dateResult.tags[tag] = true;\r\n    }\r\n    dateResult.tags['FRMergeDateAndTimeRefiner'] = true;\r\n    return dateResult;\r\n}\r\n\r\nexports.Refiner = function FRMergeDateTimeRefiner() {\r\n    Refiner.call(this);\r\n\r\n\r\n    this.refine = function(text, results, opt) { \r\n\r\n        if (results.length < 2) return results;\r\n\r\n        var mergedResult = [];\r\n        var currResult = null;\r\n        var prevResult = null;\r\n\r\n        for (var i = 1; i < results.length; i++) {\r\n\r\n            currResult = results[i];\r\n            prevResult = results[i-1];\r\n            \r\n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \r\n                    && isAbleToMerge(text, prevResult, currResult)) {\r\n                \r\n                prevResult = mergeResult(text, prevResult, currResult);\r\n                currResult = null;\r\n                i += 1;\r\n                \r\n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\r\n                    && isAbleToMerge(text, prevResult, currResult)) {\r\n                \r\n                prevResult = mergeResult(text, currResult, prevResult);\r\n                currResult = null;\r\n                i += 1;\r\n            }\r\n            \r\n            mergedResult.push(prevResult);\r\n        }\r\n\r\n        if (currResult != null) {\r\n            mergedResult.push(currResult);\r\n        }\r\n\r\n        return mergedResult;\r\n    }\r\n}","/*\n  \n*/\nvar ENMergeDateRangeRefiner = require('../en/ENMergeDateRangeRefiner').Refiner;\n\nexports.Refiner = function DEMergeDateRangeRefiner() {\n    ENMergeDateRangeRefiner.call(this);\n\n    this.pattern = function () {\n        return /^\\s*(bis(?:\\s*(?:am|zum))?|\\-)\\s*$/i\n    };\n};\n","/*\n    \n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\nvar mergeDateTimeComponent = require('../en/ENMergeDateTimeRefiner').mergeDateTimeComponent;\nvar isDateOnly = require('../en/ENMergeDateTimeRefiner').isDateOnly;\nvar isTimeOnly = require('../en/ENMergeDateTimeRefiner').isTimeOnly;\n\nvar PATTERN = new RegExp(\"^\\\\s*(T|um|am|,|-)?\\\\s*$\");\n\nfunction isAbleToMerge(text, prevResult, curResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\n    return textBetween.match(PATTERN);\n}\n\nfunction mergeResult(text, dateResult, timeResult){\n\n    var beginDate = dateResult.start;\n    var beginTime = timeResult.start;    \n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\n\n    if (dateResult.end != null || timeResult.end != null) {\n        \n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\n        \n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\n            // Ex. 9pm - 1am\n            if (endDateTime.isCertain('day')) {\n                endDateTime.assign('day', endDateTime.get('day') + 1);\n            } else {\n                endDateTime.imply('day', endDateTime.get('day') + 1);\n            }\n        }\n\n        dateResult.end = endDateTime;\n    }\n\n    dateResult.start = beginDateTime;    \n\n    var startIndex = Math.min(dateResult.index, timeResult.index);\n    var endIndex = Math.max(\n            dateResult.index + dateResult.text.length, \n            timeResult.index + timeResult.text.length);\n    \n    dateResult.index = startIndex;\n    dateResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in timeResult.tags) {\n        dateResult.tags[tag] = true;\n    }\n    dateResult.tags['DEMergeDateAndTimeRefiner'] = true;\n    return dateResult;\n}\n\nexports.Refiner = function DEMergeDateTimeRefiner() {\n    Refiner.call(this);\n\n\n    this.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n                \n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = null;\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}"],"sourceRoot":""}